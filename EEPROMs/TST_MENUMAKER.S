;MENU MAKER

		ORG $4000
INCLUDE MYOS_2_0000.SYM


		JP STARTPROG
	

MYMENU		DEFM "CLEAR SCREEN"
		DB 0
		DEFM "BBC BASIC"
		DB 0
		DEFM "COMMAND PROMPT"
		;DB 0
		;DEFM "MENU ITEM 4"
		DB 0,0



DOF6 EQU 0X0360		

STARTPROG:	JP TESTCOUNT


		CALL DOF6	;LOW RES TEXT
		;MENU COLORS
		LD A,VGA_GREEN
		LD B,VGA_YELLOW
		CALL VGA_MIXCOLOR
		LD (MENUVCLR),A
		LD HL,COL_BLUE
		LD (MENULFORE),HL
		LD HL,COL_WHITE
		LD (MENULBACK),HL
		;MENU INFO
		LD HL,MYMENU
		LD DE,10.SHL.8+10	;PRINT AT 20,10
		LD A,1			;SELECT ITEM 1
		CALL CREATEMENU
		CALL B2D8		;CONVERT TO STRING
		LD DE, 1.SHL.8+10
		CALL OS_GOTOXY		;SET CURSOR TO X,Y= 1,10
		LD HL,B2DBUF		
		CALL OS_PRINTTEXT		
		JP MENU


TESTCOUNT:	;LD HL,MYMENU
		;CALL MNU_CNTITMS
		CALL GET_CHAR		
		
		
		;LD A,C
	;	PUSH BC
		CALL B2D8		;CONVERT TO STRING
		LD DE, 1.SHL.8+10
		CALL OS_GOTOXY		;SET CURSOR TO X,Y= 1,10
		LD HL,B2DBUF		
		CALL OS_PRINTTEXT
		JR TESTCOUNT
		POP BC
		LD A,B		
		CALL B2D8		;CONVERT TO STRING
		LD DE, 1.SHL.8+11
		CALL OS_GOTOXY		;SET CURSOR TO X,Y= 1,11
		LD HL,B2DBUF		
		CALL OS_PRINTTEXT
		JP MENU










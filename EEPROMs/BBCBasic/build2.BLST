 14)   8200 CD 4E 8E    					CALL    TELL	;
 15)   8203 42 53 58 20 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   8207 42 72 65 61 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   820B 64 62 6F 61 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   820F 72 64 20 43 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   8213 6F 6D 70 75 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   8217 74 65 72 20 					DEFM	"BSX Breadboard Computer 0.1"	;
 15)   821B 30 2E 31    					DEFM	"BSX Breadboard Computer 0.1"	;
 16)   821E 0A 0D 0A 0D 					DEFB	0AH,0DH,0AH,0DH	;
 17)   8222 00          					DEFB    0	;
 53)   8223 21 00 03    		COLD:			LD      HL,STAVAR       ;COLD START	;COLD START
 54)   8226 F9          					LD      SP,HL	;
 55)   8227 36 0A       					LD      (HL),10	;
 56)   8229 2C          					INC     L	;
 57)   822A 36 09       					LD      (HL),9	;
 58)   822C 2C          					INC     L	;
 59)   822D AF          					XOR     A	;
 60)   822E 77          		PURGE:			LD      (HL),A          ;CLEAR SCRATCHPAD	;CLEAR SCRATCHPAD
 61)   822F 2C          					INC     L	;
 62)   8230 20 FC       					JR      NZ,PURGE	;
 63)   8232 3E 37       					LD      A,37H           ;V3.0	;V3.0
 64)   8234 32 FE 03    					LD      (LISTON),A	;
 65)   8237 21 6E 82    					LD      HL,NOTICE	;
 66)   823A 22 EE 03    					LD      (ERRTXT),HL	;
 67)   823D CD 0D B3    					CALL    OSINIT	;
 68)   8240 ED 53 E4 03 					LD      (HIMEM),DE	;
 69)   8244 22 DC 03    					LD      (PAGE),HL	;
 70)   8247 CD E7 89    					CALL    NEWIT	;
 71)   824A C2 D3 8E    					JP      NZ,CHAIN0       ;AUTO-RUN	;AUTO-RUN
 72)   824D CD 4E 8E    					CALL    TELL	;
 73)   8250 42 42 43 20 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   8254 42 41 53 49 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   8258 43 20 28 5A 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   825C 38 30 29 20 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   8260 56 65 72 73 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   8264 69 6F 6E 20 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 73)   8268 33 2E 30 30 					DEFM    "BBC BASIC (Z80) Version 3.00"	;
 74)   826C 0A 0D       					DEFB	0AH,0DH	;
 75)   826E 28 43 29 20 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   8272 43 6F 70 79 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   8276 72 69 67 68 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   827A 74 20 52 2E 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   827E 54 2E 52 75 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   8282 73 73 65 6C 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   8286 6C 20 31 39 		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 75)   828A 38 37       		NOTICE:			DEFM    "(C) Copyright R.T.Russell 1987"	;
 76)   828C 0A 0D 0A 0D 					DEFB	0AH,0DH,0AH,0DH	;
 77)   8290 00          					DEFB    0	;
 78)   8291 F6          		@WARM:			DEFB    0F6H	;
 79)   8292 37          		@CLOOP:			SCF	;
 80)   8293 ED 7B E4 03 					LD      SP,(HIMEM)	;
 81)   8297 CD D7 B2    					CALL    PROMPT          ;PROMPT USER	;PROMPT USER
 82)   829A 21 FE 03    					LD      HL,LISTON	;
 83)   829D 7E          					LD      A,(HL)	;
 84)   829E E6 0F       					AND     0FH             ;LISTO	;LISTO
 85)   82A0 F6 30       					OR      30H             ;OPT 3	;OPT 3
 86)   82A2 77          					LD      (HL),A	;
 87)   82A3 ED 62       					SBC     HL,HL           ;HL <- 0 (V3.0)	;HL <- 0 (V3.0)
 88)   82A5 22 EC 03    					LD      (ERRTRP),HL	;
 89)   82A8 22 F4 03    					LD      (ERRLIN),HL	;
 90)   82AB 2A EA 03    					LD      HL,(AUTONO)	;
 91)   82AE 22 E6 03    					LD      (LINENO),HL	;
 92)   82B1 7C          					LD      A,H	;
 93)   82B2 B5          					OR      L	;
 94)   82B3 28 17       					JR      Z,NOAUTO	;
 95)   82B5 E5          					PUSH    HL	;
 96)   82B6 CD 28 8B    					CALL    PBCD            ;AUTO NUMBER	;AUTO NUMBER
 97)   82B9 E1          					POP     HL	;
 98)   82BA ED 4B FF 03 					LD      BC,(INCREM)	;
 99)   82BE 06 00       					LD      B,0	;
100)   82C0 09          					ADD     HL,BC	;
101)   82C1 DA 09 8D    					JP      C,TOOBIG	;
102)   82C4 22 EA 03    					LD      (AUTONO),HL	;
103)   82C7 3E 20       					LD      A,' '	;
104)   82C9 CD 97 8A    					CALL    OUTCHR	;
105)   82CC 21 00 01    		NOAUTO:			LD      HL,ACCS	;
106)   82CF CD 16 B3    					CALL    OSLINE          ;GET CONSOLE INPUT	;GET CONSOLE INPUT
107)   82D2 AF          					XOR     A	;
108)   82D3 32 FB 03    					LD      (COUNT),A	;
109)   82D6 FD 21 00 01 					LD      IY,ACCS	;
110)   82DA CD E4 8C    					CALL    LINNUM	;
111)   82DD CD 9B A6    					CALL    NXT	;
112)   82E0 7C          					LD      A,H	;
113)   82E1 B5          					OR      L	;
114)   82E2 28 03       					JR      Z,LNZERO        ;FOR AUTO (NON-MAPPED)	;FOR AUTO (NON-MAPPED)
115)   82E4 22 E6 03    					LD      (LINENO),HL	;
116)   82E7 11 00 02    		LNZERO:			LD      DE,BUFFER	;
117)   82EA 0E 01       					LD      C,1             ;LEFT MODE	;LEFT MODE
118)   82EC CD 78 8D    					CALL    LEXAN2          ;LEXICAL ANALYSIS	;LEXICAL ANALYSIS
119)   82EF 12          					LD      (DE),A          ;TERMINATOR	;TERMINATOR
120)   82F0 AF          					XOR     A	;
121)   82F1 47          					LD      B,A	;
122)   82F2 4B          					LD      C,E             ;BC=LINE LENGTH	;BC=LINE LENGTH
123)   82F3 13          					INC     DE	;
124)   82F4 12          					LD      (DE),A          ;ZERO NEXT	;ZERO NEXT
125)   82F5 2A E6 03    					LD      HL,(LINENO)	;
126)   82F8 7C          					LD      A,H	;
127)   82F9 B5          					OR      L	;
128)   82FA FD 21 00 02 					LD      IY,BUFFER       ;FOR XEQ	;FOR XEQ
129)   82FE CA 0B 8F    					JP      Z,XEQ           ;DIRECT MODE	;DIRECT MODE
130)   8301 C5          					PUSH    BC	;
131)   8302 E5          					PUSH    HL	;
132)   8303 CD CB 89    					CALL    SETTOP          ;SET TOP	;SET TOP
133)   8306 E1          					POP     HL	;
134)   8307 CD CE 8A    					CALL    FINDL	;
135)   830A CC 8B 89    					CALL    Z,DEL	;
136)   830D C1          					POP     BC	;
137)   830E 79          					LD      A,C	;
138)   830F B7          					OR      A	;
139)   8310 CA 92 82    					JP      Z,CLOOP         ;DELETE LINE ONLY	;DELETE LINE ONLY
140)   8313 C6 04       					ADD     A,4	;
141)   8315 4F          					LD      C,A             ;LENGTH INCLUSIVE	;LENGTH INCLUSIVE
142)   8316 D5          					PUSH    DE              ;LINE NUMBER	;LINE NUMBER
143)   8317 C5          					PUSH    BC              ;SAVE LINE LENGTH	;SAVE LINE LENGTH
144)   8318 EB          					EX      DE,HL	;
145)   8319 2A DE 03    					LD      HL,(TOP)	;
146)   831C E5          					PUSH    HL	;
147)   831D 09          					ADD     HL,BC	;
148)   831E E5          					PUSH    HL	;
149)   831F 24          					INC     H	;
150)   8320 AF          					XOR     A	;
151)   8321 ED 72       					SBC     HL,SP	;
152)   8323 E1          					POP     HL	;
153)   8324 D2 FE 88    					JP      NC,ERROR        ;"No room"	;"No room"
154)   8327 22 DE 03    					LD      (TOP),HL	;
155)   832A E3          					EX      (SP),HL	;
156)   832B E5          					PUSH    HL	;
157)   832C 23          					INC     HL	;
158)   832D B7          					OR      A	;
159)   832E ED 52       					SBC     HL,DE	;
160)   8330 44          					LD      B,H             ;BC=AMOUNT TO MOVE	;BC=AMOUNT TO MOVE
161)   8331 4D          					LD      C,L	;
162)   8332 E1          					POP     HL	;
163)   8333 D1          					POP     DE	;
164)   8334 28 02       					JR      Z,ATEND	;
165)   8336 ED B8       					LDDR                    ;MAKE SPACE	;MAKE SPACE
166)   8338 C1          		ATEND:			POP     BC              ;LINE LENGTH	;LINE LENGTH
167)   8339 D1          					POP     DE              ;LINE NUMBER	;LINE NUMBER
168)   833A 23          					INC     HL	;
169)   833B 71          					LD      (HL),C          ;STORE LENGTH	;STORE LENGTH
170)   833C 23          					INC     HL	;
171)   833D 73          					LD      (HL),E          ;STORE LINE NUMBER	;STORE LINE NUMBER
172)   833E 23          					INC     HL	;
173)   833F 72          					LD      (HL),D	;
174)   8340 23          					INC     HL	;
175)   8341 11 00 02    					LD      DE,BUFFER	;
176)   8344 EB          					EX      DE,HL	;
177)   8345 0D          					DEC     C	;
178)   8346 0D          					DEC     C	;
179)   8347 0D          					DEC     C	;
180)   8348 ED B0       					LDIR                    ;ADD LINE	;ADD LINE
181)   834A CD C0 89    					CALL    CLEAN	;
182)   834D C3 92 82    					JP      CLOOP		;
189)   8350 80          		KEYWDS:			DEFB    80H	;
190)   8351 41 4E 44    					DEFM    'AND'	;
191)   8354 94          					DEFB    94H	;
192)   8355 41 42 53    					DEFM    'ABS'	;
193)   8358 95          					DEFB    95H	;
194)   8359 41 43 53    					DEFM    'ACS'	;
195)   835C 96          					DEFB    96H	;
196)   835D 41 44 56 41 					DEFM    'ADVAL'	;
196)   8361 4C          					DEFM    'ADVAL'	;
197)   8362 97          					DEFB    97H	;
198)   8363 41 53 43    					DEFM    'ASC'	;
199)   8366 98          					DEFB    98H	;
200)   8367 41 53 4E    					DEFM    'ASN'	;
201)   836A 99          					DEFB    99H	;
202)   836B 41 54 4E    					DEFM    'ATN'	;
203)   836E C6          					DEFB    0C6H	;
204)   836F 41 55 54 4F 					DEFM    'AUTO'	;
205)   8373 9A          					DEFB    9AH	;
206)   8374 42 47 45 54 					DEFM    'BGET'	;
207)   8378 00          					DEFB    0	;
208)   8379 D5          					DEFB    0D5H	;
209)   837A 42 50 55 54 					DEFM    'BPUT'	;
210)   837E 00          					DEFB    0	;
211)   837F FB          					DEFB    0FBH	;
212)   8380 43 4F 4C 4F 					DEFM    'COLOUR'	;
212)   8384 55 52       					DEFM    'COLOUR'	;
213)   8386 FB          					DEFB    0FBH	;
214)   8387 43 4F 4C 4F 					DEFM    'COLOR'	;
214)   838B 52          					DEFM    'COLOR'	;
215)   838C D6          					DEFB    0D6H	;
216)   838D 43 41 4C 4C 					DEFM    'CALL'	;
217)   8391 D7          					DEFB    0D7H	;
218)   8392 43 48 41 49 					DEFM    'CHAIN'	;
218)   8396 4E          					DEFM    'CHAIN'	;
219)   8397 BD          					DEFB    0BDH	;
220)   8398 43 48 52 24 					DEFM    'CHR$'	;
221)   839C D8          					DEFB    0D8H	;
222)   839D 43 4C 45 41 					DEFM    'CLEAR'	;
222)   83A1 52          					DEFM    'CLEAR'	;
223)   83A2 00          					DEFB    0	;
224)   83A3 D9          					DEFB    0D9H	;
225)   83A4 43 4C 4F 53 					DEFM    'CLOSE'	;
225)   83A8 45          					DEFM    'CLOSE'	;
226)   83A9 00          					DEFB    0	;
227)   83AA DA          					DEFB    0DAH	;
228)   83AB 43 4C 47    					DEFM    'CLG'	;
229)   83AE 00          					DEFB    0	;
230)   83AF DB          					DEFB    0DBH	;
231)   83B0 43 4C 53    					DEFM    'CLS'	;
232)   83B3 00          					DEFB    0	;
233)   83B4 9B          					DEFB    9BH	;
234)   83B5 43 4F 53    					DEFM    'COS'	;
235)   83B8 9C          					DEFB    9CH	;
236)   83B9 43 4F 55 4E 					DEFM    'COUNT'	;
236)   83BD 54          					DEFM    'COUNT'	;
237)   83BE 00          					DEFB    0	;
238)   83BF DC          					DEFB    0DCH	;
239)   83C0 44 41 54 41 					DEFM    'DATA'	;
240)   83C4 9D          					DEFB    9DH	;
241)   83C5 44 45 47    					DEFM    'DEG'	;
242)   83C8 DD          					DEFB    0DDH	;
243)   83C9 44 45 46    					DEFM    'DEF'	;
244)   83CC C7          					DEFB    0C7H	;
245)   83CD 44 45 4C 45 					DEFM    'DELETE'	;
245)   83D1 54 45       					DEFM    'DELETE'	;
246)   83D3 81          					DEFB    81H	;
247)   83D4 44 49 56    					DEFM    'DIV'	;
248)   83D7 DE          					DEFB    0DEH	;
249)   83D8 44 49 4D    					DEFM    'DIM'	;
250)   83DB DF          					DEFB    0DFH	;
251)   83DC 44 52 41 57 					DEFM    'DRAW'	;
252)   83E0 E1          					DEFB    0E1H	;
253)   83E1 45 4E 44 50 					DEFM    'ENDPROC'	;
253)   83E5 52 4F 43    					DEFM    'ENDPROC'	;
254)   83E8 00          					DEFB    0	;
255)   83E9 E0          					DEFB    0E0H	;
256)   83EA 45 4E 44    					DEFM    'END'	;
257)   83ED 00          					DEFB    0	;
258)   83EE E2          					DEFB    0E2H	;
259)   83EF 45 4E 56 45 					DEFM    'ENVELOPE'	;
259)   83F3 4C 4F 50 45 					DEFM    'ENVELOPE'	;
260)   83F7 8B          					DEFB    8BH	;
261)   83F8 45 4C 53 45 					DEFM    'ELSE'	;
262)   83FC A0          					DEFB    0A0H	;
263)   83FD 45 56 41 4C 					DEFM    'EVAL'	;
264)   8401 9E          					DEFB    9EH	;
265)   8402 45 52 4C    					DEFM    'ERL'	;
266)   8405 00          					DEFB    0	;
267)   8406 85          					DEFB    85H	;
268)   8407 45 52 52 4F 					DEFM    'ERROR'	;
268)   840B 52          					DEFM    'ERROR'	;
269)   840C C5          					DEFB    0C5H	;
270)   840D 45 4F 46    					DEFM    'EOF'	;
271)   8410 00          					DEFB    0	;
272)   8411 82          					DEFB    82H	;
273)   8412 45 4F 52    					DEFM    'EOR'	;
274)   8415 9F          					DEFB    9FH	;
275)   8416 45 52 52    					DEFM    'ERR'	;
276)   8419 00          					DEFB    0	;
277)   841A A1          					DEFB    0A1H	;
278)   841B 45 58 50    					DEFM    'EXP'	;
279)   841E A2          					DEFB    0A2H	;
280)   841F 45 58 54    					DEFM    'EXT'	;
281)   8422 00          					DEFB    0	;
282)   8423 E3          					DEFB    0E3H	;
283)   8424 46 4F 52    					DEFM    'FOR'	;
284)   8427 A3          					DEFB    0A3H	;
285)   8428 46 41 4C 53 					DEFM    'FALSE'	;
285)   842C 45          					DEFM    'FALSE'	;
286)   842D 00          					DEFB    0	;
287)   842E A4          					DEFB    0A4H	;
288)   842F 46 4E       					DEFM    'FN'	;
289)   8431 E5          					DEFB    0E5H	;
290)   8432 47 4F 54 4F 					DEFM    'GOTO'	;
291)   8436 BE          					DEFB    0BEH	;
292)   8437 47 45 54 24 					DEFM    'GET$'	;
293)   843B A5          					DEFB    0A5H	;
294)   843C 47 45 54    					DEFM    'GET'	;
295)   843F E4          					DEFB    0E4H	;
296)   8440 47 4F 53 55 					DEFM    'GOSUB'	;
296)   8444 42          					DEFM    'GOSUB'	;
297)   8445 E6          					DEFB    0E6H	;
298)   8446 47 43 4F 4C 					DEFM    'GCOL'	;
299)   844A 93          					DEFB    93H	;
300)   844B 48 49 4D 45 					DEFM    'HIMEM'	;
300)   844F 4D          					DEFM    'HIMEM'	;
301)   8450 00          					DEFB    0	;
302)   8451 E8          					DEFB    0E8H	;
303)   8452 49 4E 50 55 					DEFM    'INPUT'	;
303)   8456 54          					DEFM    'INPUT'	;
304)   8457 E7          					DEFB    0E7H	;
305)   8458 49 46       					DEFM    'IF'	;
306)   845A BF          					DEFB    0BFH	;
307)   845B 49 4E 4B 45 					DEFM    'INKEY$'	;
307)   845F 59 24       					DEFM    'INKEY$'	;
308)   8461 A6          					DEFB    0A6H	;
309)   8462 49 4E 4B 45 					DEFM    'INKEY'	;
309)   8466 59          					DEFM    'INKEY'	;
310)   8467 A8          					DEFB    0A8H	;
311)   8468 49 4E 54    					DEFM    'INT'	;
312)   846B A7          					DEFB    0A7H	;
313)   846C 49 4E 53 54 					DEFM    'INSTR('	;
313)   8470 52 28       					DEFM    'INSTR('	;
314)   8472 C9          					DEFB    0C9H	;
315)   8473 4C 49 53 54 					DEFM    'LIST'	;
316)   8477 86          					DEFB    86H	;
317)   8478 4C 49 4E 45 					DEFM    'LINE'	;
318)   847C C8          					DEFB    0C8H	;
319)   847D 4C 4F 41 44 					DEFM    'LOAD'	;
320)   8481 92          					DEFB    92H	;
321)   8482 4C 4F 4D 45 					DEFM    'LOMEM'	;
321)   8486 4D          					DEFM    'LOMEM'	;
322)   8487 00          					DEFB    0	;
323)   8488 EA          					DEFB    0EAH	;
324)   8489 4C 4F 43 41 					DEFM    'LOCAL'	;
324)   848D 4C          					DEFM    'LOCAL'	;
325)   848E C0          					DEFB    0C0H	;
326)   848F 4C 45 46 54 					DEFM    'LEFT$('	;
326)   8493 24 28       					DEFM    'LEFT$('	;
327)   8495 A9          					DEFB    0A9H	;
328)   8496 4C 45 4E    					DEFM    'LEN'	;
329)   8499 E9          					DEFB    0E9H	;
330)   849A 4C 45 54    					DEFM    'LET'	;
331)   849D AB          					DEFB    0ABH	;
332)   849E 4C 4F 47    					DEFM    'LOG'	;
333)   84A1 AA          					DEFB    0AAH	;
334)   84A2 4C 4E       					DEFM    'LN'	;
335)   84A4 C1          					DEFB    0C1H	;
336)   84A5 4D 49 44 24 					DEFM    'MID$('	;
336)   84A9 28          					DEFM    'MID$('	;
337)   84AA EB          					DEFB    0EBH	;
338)   84AB 4D 4F 44 45 					DEFM    'MODE'	;
339)   84AF 83          					DEFB    83H	;
340)   84B0 4D 4F 44    					DEFM    'MOD'	;
341)   84B3 EC          					DEFB    0ECH	;
342)   84B4 4D 4F 56 45 					DEFM    'MOVE'	;
343)   84B8 ED          					DEFB    0EDH	;
344)   84B9 4E 45 58 54 					DEFM    'NEXT'	;
345)   84BD CA          					DEFB    0CAH	;
346)   84BE 4E 45 57    					DEFM    'NEW'	;
347)   84C1 00          					DEFB    0	;
348)   84C2 AC          					DEFB    0ACH	;
349)   84C3 4E 4F 54    					DEFM    'NOT'	;
350)   84C6 CB          					DEFB    0CBH	;
351)   84C7 4F 4C 44    					DEFM    'OLD'	;
352)   84CA 00          					DEFB    0	;
353)   84CB EE          					DEFB    0EEH	;
354)   84CC 4F 4E       					DEFM    'ON'	;
355)   84CE 87          					DEFB    87H	;
356)   84CF 4F 46 46    					DEFM    'OFF'	;
357)   84D2 84          					DEFB    84H	;
358)   84D3 4F 52       					DEFM    'OR'	;
359)   84D5 8E          					DEFB    8EH	;
360)   84D6 4F 50 45 4E 					DEFM    'OPENIN'	;
360)   84DA 49 4E       					DEFM    'OPENIN'	;
361)   84DC AE          					DEFB    0AEH	;
362)   84DD 4F 50 45 4E 					DEFM    'OPENOUT'	;
362)   84E1 4F 55 54    					DEFM    'OPENOUT'	;
363)   84E4 AD          					DEFB    0ADH	;
364)   84E5 4F 50 45 4E 					DEFM    'OPENUP'	;
364)   84E9 55 50       					DEFM    'OPENUP'	;
365)   84EB FF          					DEFB    0FFH	;
366)   84EC 4F 53 43 4C 					DEFM    'OSCLI'	;
366)   84F0 49          					DEFM    'OSCLI'	;
367)   84F1 F1          					DEFB    0F1H	;
368)   84F2 50 52 49 4E 					DEFM    'PRINT'	;
368)   84F6 54          					DEFM    'PRINT'	;
369)   84F7 90          					DEFB    90H	;
370)   84F8 50 41 47 45 					DEFM    'PAGE'	;
371)   84FC 00          					DEFB    0	;
372)   84FD 8F          					DEFB    8FH	;
373)   84FE 50 54 52    					DEFM    'PTR'	;
374)   8501 00          					DEFB    0	;
375)   8502 AF          					DEFB    0AFH	;
376)   8503 50 49       					DEFM    'PI'	;
377)   8505 00          					DEFB    0	;
378)   8506 F0          					DEFB    0F0H	;
379)   8507 50 4C 4F 54 					DEFM    'PLOT'	;
380)   850B B0          					DEFB    0B0H	;
381)   850C 50 4F 49 4E 					DEFM    'POINT('	;
381)   8510 54 28       					DEFM    'POINT('	;
382)   8512 F2          					DEFB    0F2H	;
383)   8513 50 52 4F 43 					DEFM    'PROC'	;
384)   8517 B1          					DEFB    0B1H	;
385)   8518 50 4F 53    					DEFM    'POS'	;
386)   851B 00          					DEFB    0	;
387)   851C CE          					DEFB    0CEH	;
388)   851D 50 55 54    					DEFM    'PUT'	;
389)   8520 F8          					DEFB    0F8H	;
390)   8521 52 45 54 55 					DEFM    'RETURN'	;
390)   8525 52 4E       					DEFM    'RETURN'	;
391)   8527 00          					DEFB    0	;
392)   8528 F5          					DEFB    0F5H	;
393)   8529 52 45 50 45 					DEFM    'REPEAT'	;
393)   852D 41 54       					DEFM    'REPEAT'	;
394)   852F F6          					DEFB    0F6H	;
395)   8530 52 45 50 4F 					DEFM    'REPORT'	;
395)   8534 52 54       					DEFM    'REPORT'	;
396)   8536 00          					DEFB    0	;
397)   8537 F3          					DEFB    0F3H	;
398)   8538 52 45 41 44 					DEFM    'READ'	;
399)   853C F4          					DEFB    0F4H	;
400)   853D 52 45 4D    					DEFM    'REM'	;
401)   8540 F9          					DEFB    0F9H	;
402)   8541 52 55 4E    					DEFM    'RUN'	;
403)   8544 00          					DEFB    0	;
404)   8545 B2          					DEFB    0B2H	;
405)   8546 52 41 44    					DEFM    'RAD'	;
406)   8549 F7          					DEFB    0F7H	;
407)   854A 52 45 53 54 					DEFM    'RESTORE'	;
407)   854E 4F 52 45    					DEFM    'RESTORE'	;
408)   8551 C2          					DEFB    0C2H	;
409)   8552 52 49 47 48 					DEFM    'RIGHT$('	;
409)   8556 54 24 28    					DEFM    'RIGHT$('	;
410)   8559 B3          					DEFB    0B3H	;
411)   855A 52 4E 44    					DEFM    'RND'	;
412)   855D 00          					DEFB    0	;
413)   855E CC          					DEFB    0CCH	;
414)   855F 52 45 4E 55 					DEFM    'RENUMBER'	;
414)   8563 4D 42 45 52 					DEFM    'RENUMBER'	;
415)   8567 88          					DEFB    88H	;
416)   8568 53 54 45 50 					DEFM    'STEP'	;
417)   856C CD          					DEFB    0CDH	;
418)   856D 53 41 56 45 					DEFM    'SAVE'	;
419)   8571 B4          					DEFB    0B4H	;
420)   8572 53 47 4E    					DEFM    'SGN'	;
421)   8575 B5          					DEFB    0B5H	;
422)   8576 53 49 4E    					DEFM    'SIN'	;
423)   8579 B6          					DEFB    0B6H	;
424)   857A 53 51 52    					DEFM    'SQR'	;
425)   857D 89          					DEFB    89H	;
426)   857E 53 50 43    					DEFM    'SPC'	;
427)   8581 C3          					DEFB    0C3H	;
428)   8582 53 54 52 24 					DEFM    'STR$'	;
429)   8586 C4          					DEFB    0C4H	;
430)   8587 53 54 52 49 					DEFM    'STRING$('	;
430)   858B 4E 47 24 28 					DEFM    'STRING$('	;
431)   858F D4          					DEFB    0D4H	;
432)   8590 53 4F 55 4E 					DEFM    'SOUND'	;
432)   8594 44          					DEFM    'SOUND'	;
433)   8595 FA          					DEFB    0FAH	;
434)   8596 53 54 4F 50 					DEFM    'STOP'	;
435)   859A 00          					DEFB    0	;
436)   859B B7          					DEFB    0B7H	;
437)   859C 54 41 4E    					DEFM    'TAN'	;
438)   859F 8C          					DEFB    8CH	;
439)   85A0 54 48 45 4E 					DEFM    'THEN'	;
440)   85A4 B8          					DEFB    0B8H	;
441)   85A5 54 4F       					DEFM    'TO'	;
442)   85A7 8A          					DEFB    8AH	;
443)   85A8 54 41 42 28 					DEFM    'TAB('	;
444)   85AC FC          					DEFB    0FCH	;
445)   85AD 54 52 41 43 					DEFM    'TRACE'	;
445)   85B1 45          					DEFM    'TRACE'	;
446)   85B2 91          					DEFB    91H	;
447)   85B3 54 49 4D 45 					DEFM    'TIME'	;
448)   85B7 00          					DEFB    0	;
449)   85B8 B9          					DEFB    0B9H	;
450)   85B9 54 52 55 45 					DEFM    'TRUE'	;
451)   85BD 00          					DEFB    0	;
452)   85BE FD          					DEFB    0FDH	;
453)   85BF 55 4E 54 49 					DEFM    'UNTIL'	;
453)   85C3 4C          					DEFM    'UNTIL'	;
454)   85C4 BA          					DEFB    0BAH	;
455)   85C5 55 53 52    					DEFM    'USR'	;
456)   85C8 EF          					DEFB    0EFH	;
457)   85C9 56 44 55    					DEFM    'VDU'	;
458)   85CC BB          					DEFB    0BBH	;
459)   85CD 56 41 4C    					DEFM    'VAL'	;
460)   85D0 BC          					DEFB    0BCH	;
461)   85D1 56 50 4F 53 					DEFM    'VPOS'	;
462)   85D5 00          					DEFB    0	;
463)   85D6 FE          					DEFB    0FEH	;
464)   85D7 57 49 44 54 					DEFM    'WIDTH'	;
464)   85DB 48          					DEFM    'WIDTH'	;
465)   85DC D3          					DEFB    0D3H	;
466)   85DD 48 49 4D 45 					DEFM    'HIMEM'	;
466)   85E1 4D          					DEFM    'HIMEM'	;
467)   85E2 D2          					DEFB    0D2H	;
468)   85E3 4C 4F 4D 45 					DEFM    'LOMEM'	;
468)   85E7 4D          					DEFM    'LOMEM'	;
469)   85E8 D0          					DEFB    0D0H	;
470)   85E9 50 41 47 45 					DEFM    'PAGE'	;
471)   85ED CF          					DEFB    0CFH	;
472)   85EE 50 54 52    					DEFM    'PTR'	;
473)   85F1 D1          					DEFB    0D1H	;
474)   85F2 54 49 4D 45 					DEFM    'TIME'	;
475)   85F6 01          					DEFB    1	;
476)   85F7 4D 69 73 73 					DEFM    'Missing '	;
476)   85FB 69 6E 67 20 					DEFM    'Missing '	;
477)   85FF 02          					DEFB    2	;
478)   8600 4E 6F 20 73 					DEFM    'No such '	;
478)   8604 75 63 68 20 					DEFM    'No such '	;
479)   8608 03          					DEFB    3	;
480)   8609 42 61 64 20 					DEFM    'Bad '	;
481)   860D 04          					DEFB    4	;
482)   860E 20 72 61 6E 					DEFM    ' range'	;
482)   8612 67 65       					DEFM    ' range'	;
483)   8614 05          					DEFB    5	;
484)   8615 76 61 72 69 					DEFM    'variable'	;
484)   8619 61 62 6C 65 					DEFM    'variable'	;
485)   861D 06          					DEFB    6	;
486)   861E 4F 75 74 20 					DEFM    'Out of'	;
486)   8622 6F 66       					DEFM    'Out of'	;
487)   8624 07          					DEFB    7	;
488)   8625 4E 6F 20    					DEFM    'No '	;
489)   8628 08          					DEFB    8	;
490)   8629 20 73 70 61 					DEFM    ' space'	;
490)   862D 63 65       					DEFM    ' space'	;
492)   862F FF FF       					DEFW    -1	;
496)   8631 07          		ERRWDS:			DEFB    7	;
497)   8632 72 6F 6F 6D 					DEFM    'room'	;
498)   8636 00          					DEFB    0	;
499)   8637 06          					DEFB    6	;
500)   8638 04          					DEFB    4	;
501)   8639 00          					DEFB    0	;
502)   863A 00 00       					DEFW    0	;
503)   863C 4D 69 73 74 					DEFM    'Mistake'	;
503)   8640 61 6B 65    					DEFM    'Mistake'	;
504)   8643 00          					DEFB    0	;
505)   8644 01          					DEFB    1	;
506)   8645 2C          					DEFM    ','	;
507)   8646 00          					DEFB    0	;
508)   8647 54 79 70 65 					DEFM    'Type mismatch'	;
508)   864B 20 6D 69 73 					DEFM    'Type mismatch'	;
508)   864F 6D 61 74 63 					DEFM    'Type mismatch'	;
508)   8653 68          					DEFM    'Type mismatch'	;
509)   8654 00          					DEFB    0	;
510)   8655 07          					DEFB    7	;
511)   8656 A4          					DEFB    FN	;
512)   8657 00 00       					DEFW    0	;
513)   8659 01          					DEFB    1	;
514)   865A 22          					DEFB    34		;ASCII ""	;ASCII ""
515)   865B 00          					DEFB    0	;
516)   865C 03          					DEFB    3	;
517)   865D DE          					DEFB    DIM	;
518)   865E 00          					DEFB    0	;
519)   865F DE          					DEFB    DIM	;
520)   8660 08          					DEFB    8	;
521)   8661 00          					DEFB    0	;
522)   8662 4E 6F 74 20 					DEFM    'Not '	;
523)   8666 EA          					DEFB    LOCAL	;
524)   8667 00          					DEFB    0	;
525)   8668 07          					DEFB    7	;
526)   8669 F2          					DEFB    PROC	;
527)   866A 00          					DEFB    0	;
528)   866B 41 72 72 61 					DEFM    'Array'	;
528)   866F 79          					DEFM    'Array'	;
529)   8670 00          					DEFB    0	;
530)   8671 53 75 62 73 					DEFM    'Subscript'	;
530)   8675 63 72 69 70 					DEFM    'Subscript'	;
530)   8679 74          					DEFM    'Subscript'	;
531)   867A 00          					DEFB    0	;
532)   867B 53 79 6E 74 					DEFM    'Syntax error'	;
532)   867F 61 78 20 65 					DEFM    'Syntax error'	;
532)   8683 72 72 6F 72 					DEFM    'Syntax error'	;
533)   8687 00          					DEFB    0	;
534)   8688 45 73 63 61 					DEFM    'Escape'	;
534)   868C 70 65       					DEFM    'Escape'	;
535)   868E 00          					DEFB    0	;
536)   868F 44 69 76 69 					DEFM    'Division by zero'	;
536)   8693 73 69 6F 6E 					DEFM    'Division by zero'	;
536)   8697 20 62 79 20 					DEFM    'Division by zero'	;
536)   869B 7A 65 72 6F 					DEFM    'Division by zero'	;
537)   869F 00          					DEFB    0	;
538)   86A0 53 74 72 69 					DEFM    'String too long'	;
538)   86A4 6E 67 20 74 					DEFM    'String too long'	;
538)   86A8 6F 6F 20 6C 					DEFM    'String too long'	;
538)   86AC 6F 6E 67    					DEFM    'String too long'	;
539)   86AF 00          					DEFB    0	;
540)   86B0 54 6F 6F 20 					DEFM    'Too big'	;
540)   86B4 62 69 67    					DEFM    'Too big'	;
541)   86B7 00          					DEFB    0	;
542)   86B8 2D 76 65 20 					DEFM    '-ve root'	;
542)   86BC 72 6F 6F 74 					DEFM    '-ve root'	;
543)   86C0 00          					DEFB    0	;
544)   86C1 4C 6F 67    					DEFM    'Log'	;
545)   86C4 04          					DEFB    4	;
546)   86C5 00          					DEFB    0	;
547)   86C6 41 63 63 75 					DEFM    'Accuracy lost'	;
547)   86CA 72 61 63 79 					DEFM    'Accuracy lost'	;
547)   86CE 20 6C 6F 73 					DEFM    'Accuracy lost'	;
547)   86D2 74          					DEFM    'Accuracy lost'	;
548)   86D3 00          					DEFB    0	;
549)   86D4 45 78 70    					DEFM    'Exp'	;
550)   86D7 04          					DEFB    4	;
551)   86D8 00 00       					DEFW    0	;
552)   86DA 02          					DEFB    2	;
553)   86DB 05          					DEFB    5	;
554)   86DC 00          					DEFB    0	;
555)   86DD 01          					DEFB    1	;
556)   86DE 29          					DEFM    ')'	;
557)   86DF 00          					DEFB    0	;
558)   86E0 03          					DEFB    3	;
559)   86E1 48 45 58    					DEFM    'HEX'	;
560)   86E4 00          					DEFB    0	;
561)   86E5 02          					DEFB    2	;
562)   86E6 A4          					DEFB    FN	;
563)   86E7 2F          					DEFM    '/'	;
564)   86E8 F2          					DEFB    PROC	;
565)   86E9 00          					DEFB    0	;
566)   86EA 03          					DEFB    3	;
567)   86EB 63 61 6C 6C 					DEFM    'call'	;
568)   86EF 00          					DEFB    0	;
569)   86F0 41 72 67 75 					DEFM    'Arguments'	;
569)   86F4 6D 65 6E 74 					DEFM    'Arguments'	;
569)   86F8 73          					DEFM    'Arguments'	;
570)   86F9 00          					DEFB    0	;
571)   86FA 07          					DEFB    7	;
572)   86FB E3          					DEFB    FOR	;
573)   86FC 00          					DEFB    0	;
574)   86FD 43 61 6E 27 					DEFM    'Can't match '	;
574)   8701 74 20 6D 61 					DEFM    'Can't match '	;
574)   8705 74 63 68 20 					DEFM    'Can't match '	;
575)   8709 E3          					DEFB    FOR	;
576)   870A 00          					DEFB    0	;
577)   870B E3          					DEFB    FOR	;
578)   870C 20          					DEFM    ' '	;
579)   870D 05          					DEFB    5	;
580)   870E 00 00       					DEFW    0	;
581)   8710 07          					DEFB    7	;
582)   8711 B8          					DEFB    TO	;
583)   8712 00 00       					DEFW    0	;
584)   8714 07          					DEFB    7	;
585)   8715 E4          					DEFB    GOSUB	;
586)   8716 00          					DEFB    0	;
587)   8717 EE          					DEFB    ON	;
588)   8718 20 73 79 6E 					DEFM    ' syntax'	;
588)   871C 74 61 78    					DEFM    ' syntax'	;
589)   871F 00          					DEFB    0	;
590)   8720 EE          					DEFB    ON	;
591)   8721 04          					DEFB    4	;
592)   8722 00          					DEFB    0	;
593)   8723 02          					DEFB    2	;
594)   8724 6C 69 6E 65 					DEFM    'line'	;
595)   8728 00          					DEFB    0	;
596)   8729 06          					DEFB    6	;
597)   872A 20          					DEFM    ' '	;
598)   872B DC          					DEFB    DATA	;
599)   872C 00          					DEFB    0	;
600)   872D 07          					DEFB    7	;
601)   872E F5          					DEFB    REPEAT	;
602)   872F 00 00       					DEFW    0	;
603)   8731 01          					DEFB    1	;
604)   8732 23          					DEFM    '#'	;
605)   8733 00          					DEFB    0	;
611)   8734 CD CB 89    		@DELETE:		CALL    SETTOP          ;SET TOP	;SET TOP
612)   8737 CD 31 8D    					CALL    DLPAIR	;
613)   873A 7E          		DELET1:			LD      A,(HL)	;
614)   873B B7          					OR      A	;
615)   873C 28 71       					JR      Z,WARMNC	;
616)   873E 23          					INC     HL	;
617)   873F 5E          					LD      E,(HL)	;
618)   8740 23          					INC     HL	;
619)   8741 56          					LD      D,(HL)	;
620)   8742 7A          					LD      A,D	;
621)   8743 B3          					OR      E	;
622)   8744 28 1A       					JR      Z,CLOOP1        ;LINE NUMBER ZERO	;LINE NUMBER ZERO
623)   8746 2B          					DEC     HL	;
624)   8747 2B          					DEC     HL	;
625)   8748 EB          					EX      DE,HL	;
626)   8749 37          					SCF	;
627)   874A ED 42       					SBC     HL,BC	;
628)   874C EB          					EX      DE,HL	;
629)   874D 30 60       					JR      NC,WARMNC	;
630)   874F C5          					PUSH    BC	;
631)   8750 CD 8B 89    					CALL    DEL	;
632)   8753 C1          					POP     BC	;
633)   8754 18 E4       					JR      DELET1	;
637)   8756 FD 23       		LISTO:			INC     IY              ;SKIP "O"	;SKIP "O"
638)   8758 CD B7 A0    					CALL    EXPRI	;
639)   875B D9          					EXX	;
640)   875C 7D          					LD      A,L	;
641)   875D 32 FE 03    					LD      (LISTON),A	;
642)   8760 C3 92 82    		CLOOP1:			JP      CLOOP	;
650)   8763 FE 4F       		@LIST:			CP      'O'	;
651)   8765 28 EF       					JR      Z,LISTO	;
652)   8767 CD 31 8D    					CALL    DLPAIR	;
653)   876A CD 9B A6    					CALL    NXT	;
654)   876D FE E7       					CP      TIF             ;IF CLAUSE ?	;IF CLAUSE ?
655)   876F 3E 00       					LD      A,0             ;INIT IF-CLAUSE LENGTH	;INIT IF-CLAUSE LENGTH
656)   8771 20 15       					JR      NZ,LISTB	;
657)   8773 FD 23       					INC     IY              ;SKIP IF	;SKIP IF
658)   8775 CD 9B A6    					CALL    NXT             ;SKIP SPACES (IF ANY)	;SKIP SPACES (IF ANY)
659)   8778 EB          					EX      DE,HL	;
660)   8779 FD E5       					PUSH    IY	;
661)   877B E1          					POP     HL              ;HL ADDRESSES IF CLAUSE	;HL ADDRESSES IF CLAUSE
662)   877C 3E 0D       					LD      A,CR	;
663)   877E C5          					PUSH    BC	;
664)   877F 01 00 01    					LD      BC,256	;
665)   8782 ED B1       					CPIR                    ;LOCATE CR	;LOCATE CR
666)   8784 79          					LD      A,C	;
667)   8785 2F          					CPL                     ;A = SUBSTRING LENGTH	;A = SUBSTRING LENGTH
668)   8786 C1          					POP     BC	;
669)   8787 EB          					EX      DE,HL	;
670)   8788 5F          		LISTB:			LD      E,A             ;IF-CLAUSE LENGTH	;IF-CLAUSE LENGTH
671)   8789 78          					LD      A,B	;
672)   878A B1          					OR      C	;
673)   878B 20 01       					JR      NZ,LISTA	;
674)   878D 0B          					DEC     BC	;
675)   878E D9          		LISTA:			EXX	;
676)   878F DD 21 FE 03 					LD      IX,LISTON	;
677)   8793 01 00 00    					LD      BC,0            ;INDENTATION COUNT	;INDENTATION COUNT
678)   8796 D9          					EXX	;
679)   8797 3E 14       					LD      A,20	;
681)   8799 C5          		LISTC:			PUSH    BC              ;SAVE HIGH LINE NUMBER	;SAVE HIGH LINE NUMBER
682)   879A D5          					PUSH    DE              ;SAVE IF-CLAUSE LENGTH	;SAVE IF-CLAUSE LENGTH
683)   879B E5          					PUSH    HL              ;SAVE PROGRAM POINTER	;SAVE PROGRAM POINTER
684)   879C 08          					EX      AF,AF'	;
685)   879D 7E          					LD      A,(HL)	;
686)   879E B7          					OR      A	;
687)   879F 28 0E       					JR      Z,WARMNC	;
691)   87A1 7B          					LD      A,E             ;A = IF-CLAUSE LENGTH	;A = IF-CLAUSE LENGTH
692)   87A2 23          					INC     HL	;
693)   87A3 5E          					LD      E,(HL)	;
694)   87A4 23          					INC     HL	;
695)   87A5 56          					LD      D,(HL)          ;DE = LINE NUMBER	;DE = LINE NUMBER
696)   87A6 2B          					DEC     HL	;
697)   87A7 2B          					DEC     HL	;
698)   87A8 D5          					PUSH    DE              ;SAVE LINE NUMBER	;SAVE LINE NUMBER
699)   87A9 EB          					EX      DE,HL	;
700)   87AA 37          					SCF	;
701)   87AB ED 42       					SBC     HL,BC	;
702)   87AD EB          					EX      DE,HL	;
703)   87AE D1          					POP     DE              ;RESTORE LINE NUMBER	;RESTORE LINE NUMBER
704)   87AF D2 91 82    		WARMNC:			JP      NC,WARM	;
705)   87B2 4E          					LD      C,(HL)          ;C = LINE LENGTH + 4	;C = LINE LENGTH + 4
706)   87B3 47          					LD      B,A             ;B = IF-CLAUSE LENGTH	;B = IF-CLAUSE LENGTH
710)   87B4 7A          					LD      A,D	;
711)   87B5 B3          					OR      E	;
712)   87B6 CA 92 82    					JP      Z,CLOOP	;
716)   87B9 23          					INC     HL	;
717)   87BA 23          					INC     HL	;
718)   87BB 23          					INC     HL              ;HL ADDRESSES LINE TEXT	;HL ADDRESSES LINE TEXT
719)   87BC 0D          					DEC     C	;
720)   87BD 0D          					DEC     C	;
721)   87BE 0D          					DEC     C	;
722)   87BF 0D          					DEC     C               ;C = LINE LENGTH	;C = LINE LENGTH
723)   87C0 D5          					PUSH    DE              ;SAVE LINE NUMBER	;SAVE LINE NUMBER
724)   87C1 E5          					PUSH    HL              ;SAVE LINE ADDRESS	;SAVE LINE ADDRESS
725)   87C2 AF          					XOR     A               ;A <- 0	;A <- 0
726)   87C3 B8          					CP      B               ;WAS THERE AN IF-CLAUSE	;WAS THERE AN IF-CLAUSE
727)   87C4 FD E5       					PUSH    IY	;
728)   87C6 D1          					POP     DE              ;DE ADDRESSES IF-CLAUSE	;DE ADDRESSES IF-CLAUSE
729)   87C7 C4 56 A4    					CALL    NZ,SEARCH       ;SEARCH FOR IF CLAUSE	;SEARCH FOR IF CLAUSE
730)   87CA E1          					POP     HL              ;RESTORE LINE ADDRESS	;RESTORE LINE ADDRESS
731)   87CB D1          					POP     DE              ;RESTORE LINE NUMBER	;RESTORE LINE NUMBER
732)   87CC FD E5       					PUSH    IY	;
733)   87CE CC 07 8A    					CALL    Z,LISTIT        ;LIST IF MATCH	;LIST IF MATCH
734)   87D1 FD E1       					POP     IY	;
736)   87D3 08          					EX      AF,AF'	;
737)   87D4 3D          					DEC     A	;
738)   87D5 CD 00 B3    					CALL    LTRAP	;
739)   87D8 E1          					POP     HL              ;RESTORE POINTER	;RESTORE POINTER
740)   87D9 5E          					LD      E,(HL)	;
741)   87DA 16 00       					LD      D,0	;
742)   87DC 19          					ADD     HL,DE           ;ADDRESS NEXT LINE	;ADDRESS NEXT LINE
743)   87DD D1          					POP     DE              ;RESTORE IF-CLAUSE LEN	;RESTORE IF-CLAUSE LEN
744)   87DE C1          					POP     BC              ;RESTORE HI LINE NUMBER	;RESTORE HI LINE NUMBER
745)   87DF 18 B8       					JR      LISTC	;
752)   87E1 CD EF 89    		@RENUM:			CALL    CLEAR           ;USES DYNAMIC AREA	;USES DYNAMIC AREA
753)   87E4 CD 0E 8D    					CALL    PAIR            ;LOAD HL,BC	;LOAD HL,BC
754)   87E7 D9          					EXX	;
755)   87E8 2A DC 03    					LD      HL,(PAGE)	;
756)   87EB ED 5B E0 03 					LD      DE,(LOMEM)	;
757)   87EF 7E          		RENUM1:			LD      A,(HL)          ;BUILD TABLE	;BUILD TABLE
758)   87F0 B7          					OR      A	;
759)   87F1 28 30       					JR      Z,RENUM2	;
760)   87F3 23          					INC     HL	;
761)   87F4 4E          					LD      C,(HL)          ;OLD LINE NUMBER	;OLD LINE NUMBER
762)   87F5 23          					INC     HL	;
763)   87F6 46          					LD      B,(HL)	;
764)   87F7 78          					LD      A,B	;
765)   87F8 B1          					OR      C	;
766)   87F9 CA 92 82    					JP      Z,CLOOP         ;LINE NUMBER ZERO	;LINE NUMBER ZERO
767)   87FC EB          					EX      DE,HL	;
768)   87FD 71          					LD      (HL),C	;
769)   87FE 23          					INC     HL	;
770)   87FF 70          					LD      (HL),B	;
771)   8800 23          					INC     HL	;
772)   8801 D9          					EXX	;
773)   8802 E5          					PUSH    HL	;
774)   8803 09          					ADD     HL,BC           ;ADD INCREMENT	;ADD INCREMENT
775)   8804 DA 09 8D    					JP      C,TOOBIG        ;"Too big"	;"Too big"
776)   8807 D9          					EXX	;
777)   8808 C1          					POP     BC	;
778)   8809 71          					LD      (HL),C	;
779)   880A 23          					INC     HL	;
780)   880B 70          					LD      (HL),B	;
781)   880C 23          					INC     HL	;
782)   880D EB          					EX      DE,HL	;
783)   880E 2B          					DEC     HL	;
784)   880F 2B          					DEC     HL	;
785)   8810 AF          					XOR     A	;
786)   8811 47          					LD      B,A	;
787)   8812 4E          					LD      C,(HL)	;
788)   8813 09          					ADD     HL,BC           ;NEXT LINE	;NEXT LINE
789)   8814 EB          					EX      DE,HL	;
790)   8815 E5          					PUSH    HL	;
791)   8816 24          					INC     H	;
792)   8817 ED 72       					SBC     HL,SP	;
793)   8819 E1          					POP     HL	;
794)   881A EB          					EX      DE,HL	;
795)   881B 38 D2       					JR      C,RENUM1        ;CONTINUE	;CONTINUE
796)   881D CD 13 89    					CALL    EXTERR          ;"RENUMBER space'	;"RENUMBER space'
797)   8820 CC          					DEFB    REN	;
798)   8821 08          					DEFB    8	;
799)   8822 00          					DEFB    0	;
801)   8823 EB          		RENUM2:			EX      DE,HL	;
802)   8824 36 FF       					LD      (HL),-1	;
803)   8826 23          					INC     HL	;
804)   8827 36 FF       					LD      (HL),-1	;
805)   8829 ED 5B E0 03 					LD      DE,(LOMEM)	;
806)   882D D9          					EXX	;
807)   882E 2A DC 03    					LD      HL,(PAGE)	;
808)   8831 4E          		RENUM3:			LD      C,(HL)	;
809)   8832 79          					LD      A,C	;
810)   8833 B7          					OR      A	;
811)   8834 CA 91 82    					JP      Z,WARM	;
812)   8837 D9          					EXX	;
813)   8838 EB          					EX      DE,HL	;
814)   8839 23          					INC     HL	;
815)   883A 23          					INC     HL	;
816)   883B 5E          					LD      E,(HL)	;
817)   883C 23          					INC     HL	;
818)   883D 56          					LD      D,(HL)	;
819)   883E 23          					INC     HL	;
820)   883F D5          					PUSH    DE	;
821)   8840 EB          					EX      DE,HL	;
822)   8841 22 E6 03    					LD      (LINENO),HL	;
823)   8844 D9          					EXX	;
824)   8845 D1          					POP     DE	;
825)   8846 23          					INC     HL	;
826)   8847 73          					LD      (HL),E          ;NEW LINE NUMBER	;NEW LINE NUMBER
827)   8848 23          					INC     HL	;
828)   8849 72          					LD      (HL),D	;
829)   884A 23          					INC     HL	;
830)   884B 0D          					DEC     C	;
831)   884C 0D          					DEC     C	;
832)   884D 0D          					DEC     C	;
833)   884E 06 00       					LD      B,0	;
834)   8850 3E 8D       		RENUM7:			LD      A,LINO	;
835)   8852 ED B1       					CPIR                    ;SEARCH FOR LINE NUMBER	;SEARCH FOR LINE NUMBER
836)   8854 20 DB       					JR      NZ,RENUM3	;
837)   8856 C5          					PUSH    BC	;
838)   8857 E5          					PUSH    HL	;
839)   8858 E5          					PUSH    HL	;
840)   8859 FD E1       					POP     IY	;
841)   885B D9          					EXX	;
842)   885C CD 49 A5    					CALL    DECODE          ;DECODE LINE NUMBER	;DECODE LINE NUMBER
843)   885F D9          					EXX	;
844)   8860 44          					LD      B,H	;
845)   8861 4D          					LD      C,L	;
846)   8862 2A E0 03    					LD      HL,(LOMEM)	;
847)   8865 5E          		RENUM4:			LD      E,(HL)          ;CROSS-REFERENCE TABLE	;CROSS-REFERENCE TABLE
848)   8866 23          					INC     HL	;
849)   8867 56          					LD      D,(HL)	;
850)   8868 23          					INC     HL	;
851)   8869 EB          					EX      DE,HL	;
852)   886A B7          					OR      A               ;CLEAR CARRY	;CLEAR CARRY
853)   886B ED 42       					SBC     HL,BC	;
854)   886D EB          					EX      DE,HL	;
855)   886E 5E          					LD      E,(HL)          ;NEW NUMBER	;NEW NUMBER
856)   886F 23          					INC     HL	;
857)   8870 56          					LD      D,(HL)	;
858)   8871 23          					INC     HL	;
859)   8872 38 F1       					JR      C,RENUM4	;
860)   8874 EB          					EX      DE,HL	;
861)   8875 28 19       					JR      Z,RENUM5        ;FOUND	;FOUND
862)   8877 CD 4E 8E    					CALL    TELL	;
863)   887A 46 61 69 6C 					DEFM    'Failed at '	;
863)   887E 65 64 20 61 					DEFM    'Failed at '	;
863)   8882 74 20       					DEFM    'Failed at '	;
864)   8884 00          					DEFB    0	;
865)   8885 2A E6 03    					LD      HL,(LINENO)	;
866)   8888 CD 24 8B    					CALL    PBCDL	;
867)   888B CD 90 8A    					CALL    CRLF	;
868)   888E 18 06       					JR      RENUM6	;
869)   8890 D1          		RENUM5:			POP     DE	;
870)   8891 D5          					PUSH    DE	;
871)   8892 1B          					DEC     DE	;
872)   8893 CD 1C 8E    					CALL    ENCODE          ;RE-WRITE NUMBER	;RE-WRITE NUMBER
873)   8896 E1          		RENUM6:			POP     HL	;
874)   8897 C1          					POP     BC	;
875)   8898 18 B6       					JR      RENUM7	;
882)   889A CD 0E 8D    		@AUTO:			CALL    PAIR	;
883)   889D 22 EA 03    					LD      (AUTONO),HL	;
884)   88A0 79          					LD      A,C	;
885)   88A1 32 FF 03    					LD      (INCREM),A	;
886)   88A4 18 29       					JR      CLOOP0	;
891)   88A6 CD 4E 8E    		BAD:			CALL    TELL            ;"Bad program'	;"Bad program'
892)   88A9 03          					DEFB    3	;
893)   88AA 70 72 6F 67 					DEFM    'program'	;
893)   88AE 72 61 6D    					DEFM    'program'	;
894)   88B1 0D          					DEFB    CR	;
895)   88B2 0A          					DEFB    LF	;
896)   88B3 00          					DEFB    0	;
897)   88B4 CD E7 89    		@NEW:			CALL    NEWIT	;
898)   88B7 18 16       					JR      CLOOP0	;
902)   88B9 2A DC 03    		@OLD:			LD      HL,(PAGE)	;
903)   88BC E5          					PUSH    HL	;
904)   88BD 23          					INC     HL	;
905)   88BE 23          					INC     HL	;
906)   88BF 23          					INC     HL	;
907)   88C0 01 FC 00    					LD      BC,252	;
908)   88C3 3E 0D       					LD      A,CR	;
909)   88C5 ED B1       					CPIR	;
910)   88C7 20 DD       					JR      NZ,BAD	;
911)   88C9 7D          					LD      A,L	;
912)   88CA E1          					POP     HL	;
913)   88CB 77          					LD      (HL),A	;
914)   88CC CD C0 89    					CALL    CLEAN	;
915)   88CF C3 92 82    		CLOOP0:			JP      CLOOP	;
919)   88D2 CD C0 A0    		@LOAD:			CALL    EXPRS           ;GET FILENAME	;GET FILENAME
920)   88D5 3E 0D       					LD      A,CR	;
921)   88D7 12          					LD      (DE),A	;
922)   88D8 CD A6 89    					CALL    LOAD0	;
923)   88DB CD EF 89    					CALL    CLEAR	;
924)   88DE 18 1B       					JR      WARM0	;
928)   88E0 CD CB 89    		@SAVE:			CALL    SETTOP          ;SET TOP	;SET TOP
929)   88E3 CD C0 A0    					CALL    EXPRS           ;FILENAME	;FILENAME
930)   88E6 3E 0D       					LD      A,CR	;
931)   88E8 12          					LD      (DE),A	;
932)   88E9 ED 5B DC 03 					LD      DE,(PAGE)	;
933)   88ED 2A DE 03    					LD      HL,(TOP)	;
934)   88F0 B7          					OR      A	;
935)   88F1 ED 52       					SBC     HL,DE	;
936)   88F3 44          					LD      B,H             ;LENGTH OF PROGRAM	;LENGTH OF PROGRAM
937)   88F4 4D          					LD      C,L	;
938)   88F5 21 00 01    					LD      HL,ACCS	;
939)   88F8 CD AD B3    					CALL    OSSAVE	;
940)   88FB C3 91 82    		WARM0:			JP      WARM	;
944)   88FE ED 7B E4 03 		@ERROR:			LD      SP,(HIMEM)	;
945)   8902 21 31 86    					LD      HL,ERRWDS	;
946)   8905 B7          					OR      A	;
947)   8906 28 0A       					JR      Z,ERROR1	;
948)   8908 47          					LD      B,A             ;ERROR NUMBER	;ERROR NUMBER
949)   8909 08          					EX      AF,AF'	;
950)   890A AF          					XOR     A	;
951)   890B BE          		ERROR0:			CP      (HL)	;
952)   890C 23          					INC     HL	;
953)   890D 20 FC       					JR      NZ,ERROR0	;
954)   890F 10 FA       					DJNZ    ERROR0	;
955)   8911 08          					EX      AF,AF'	;
956)   8912 E5          		ERROR1:			PUSH    HL	;
957)   8913 E1          		@EXTERR:		POP     HL	;
958)   8914 22 EE 03    					LD      (ERRTXT),HL	;
959)   8917 ED 7B E4 03 					LD      SP,(HIMEM)	;
960)   891B 32 FD 03    					LD      (ERR),A	;
961)   891E CD E7 8A    					CALL    SETLIN	;
962)   8921 22 F2 03    					LD      (ERL),HL	;
963)   8924 B7          					OR      A	;
964)   8925 28 0B       					JR      Z,ERROR2	;
965)   8927 2A EC 03    					LD      HL,(ERRTRP)	;
966)   892A 7C          					LD      A,H	;
967)   892B B5          					OR      L	;
968)   892C E5          					PUSH    HL	;
969)   892D FD E1       					POP     IY	;
970)   892F C2 0B 8F    					JP      NZ,XEQ          ;ERROR TRAPPED	;ERROR TRAPPED
971)   8932 21 00 00    		ERROR2:			LD      HL,0	;
972)   8935 22 EA 03    					LD      (AUTONO),HL	;
973)   8938 22 E8 03    					LD      (TRACEN),HL     ;CANCEL TRACE	;CANCEL TRACE
974)   893B CD AD B3    					CALL    RESET           ;RESET OPSYS	;RESET OPSYS
975)   893E CD 90 8A    					CALL    CRLF	;
976)   8941 CD 42 8E    					CALL    REPORT          ;MESSAGE	;MESSAGE
977)   8944 CD 11 8B    					CALL    SAYLN	;
978)   8947 1E 00       					LD      E,0	;
979)   8949 DC AD B3    					CALL    C,OSSHUT        ;CLOSE ALL FILES	;CLOSE ALL FILES
980)   894C CD 90 8A    					CALL    CRLF	;
981)   894F C3 92 82    					JP      CLOOP	;
994)   8952 21 50 83    		LEX:			LD      HL,KEYWDS	;
995)   8955 FD 7E 00    		LEX0:			LD      A,(IY)	;
996)   8958 46          					LD      B,(HL)	;
997)   8959 23          					INC     HL	;
998)   895A BE          					CP      (HL)	;
999)   895B 28 08       					JR      Z,LEX2	;
1000)   895D D8          					RET     C               ;FAIL EXIT	;FAIL EXIT
1001)   895E 23          		LEX1:			INC     HL	;
1002)   895F CB 7E       					BIT     7,(HL)	;
1003)   8961 28 FB       					JR      Z,LEX1	;
1004)   8963 18 F0       					JR      LEX0	;
1005)   8965 FD E5       		LEX2:			PUSH    IY              ;SAVE POINTER	;SAVE POINTER
1006)   8967 23          		LEX3:			INC     HL	;
1007)   8968 CB 7E       					BIT     7,(HL)	;
1008)   896A 20 1B       					JR      NZ,LEX6         ;FOUND	;FOUND
1009)   896C FD 23       					INC     IY	;
1010)   896E FD 7E 00    					LD      A,(IY)	;
1011)   8971 FE 2E       					CP      '.'	;
1012)   8973 28 12       					JR      Z,LEX6          ;FOUND (ABBREV.)	;FOUND (ABBREV.)
1013)   8975 BE          					CP      (HL)	;
1014)   8976 28 EF       					JR      Z,LEX3	;
1015)   8978 CD 55 8D    					CALL    RANGE1	;
1016)   897B 38 04       					JR      C,LEX5	;
1017)   897D FD E1       		LEX4:			POP     IY              ;RESTORE POINTER	;RESTORE POINTER
1018)   897F 18 DD       					JR      LEX1	;
1019)   8981 7E          		LEX5:			LD      A,(HL)	;
1020)   8982 B7          					OR      A	;
1021)   8983 20 F8       					JR      NZ,LEX4	;
1022)   8985 FD 2B       					DEC     IY	;
1023)   8987 F1          		LEX6:			POP     AF	;
1024)   8988 AF          					XOR     A	;
1025)   8989 78          					LD      A,B	;
1026)   898A C9          					RET	;
1032)   898B D5          		DEL:			PUSH    DE	;
1033)   898C E5          					PUSH    HL	;
1034)   898D E5          					PUSH    HL	;
1035)   898E 06 00       					LD      B,0	;
1036)   8990 4E          					LD      C,(HL)	;
1037)   8991 09          					ADD     HL,BC	;
1038)   8992 E5          					PUSH    HL	;
1039)   8993 EB          					EX      DE,HL	;
1040)   8994 2A DE 03    					LD      HL,(TOP)	;
1041)   8997 ED 52       					SBC     HL,DE	;
1042)   8999 44          					LD      B,H	;
1043)   899A 4D          					LD      C,L	;
1044)   899B E1          					POP     HL	;
1045)   899C D1          					POP     DE	;
1046)   899D ED B0       					LDIR                    ;DELETE LINE	;DELETE LINE
1047)   899F ED 53 DE 03 					LD      (TOP),DE	;
1048)   89A3 E1          					POP     HL	;
1049)   89A4 D1          					POP     DE	;
1050)   89A5 C9          					RET	;
1060)   89A6 ED 5B DC 03 		@LOAD0: 		LD      DE,(PAGE)	;
1061)   89AA 21 00 FF    					LD      HL,-256	;
1062)   89AD 39          					ADD     HL,SP	;
1063)   89AE ED 52       					SBC     HL,DE           ;FIND AVAILABLE SPACE	;FIND AVAILABLE SPACE
1064)   89B0 44          					LD      B,H	;
1065)   89B1 4D          					LD      C,L	;
1066)   89B2 21 00 01    					LD      HL,ACCS	;
1067)   89B5 CD AD B3    					CALL    OSLOAD          ;LOAD	;LOAD
1068)   89B8 D4 E7 89    					CALL    NC,NEWIT	;
1069)   89BB 3E 00       					LD      A,0	;
1070)   89BD D2 FE 88    					JP      NC,ERROR        ;"No room"	;"No room"
1071)   89C0 CD CB 89    		CLEAN:			CALL    SETTOP	;
1072)   89C3 2B          					DEC     HL	;
1073)   89C4 36 FF       					LD      (HL),-1         ;WRITE &FFFF	;WRITE &FFFF
1074)   89C6 2B          					DEC     HL	;
1075)   89C7 36 FF       					LD      (HL),-1	;
1076)   89C9 18 24       					JR      CLEAR	;
1078)   89CB 2A DC 03    		SETTOP:			LD      HL,(PAGE)	;
1079)   89CE 06 00       					LD      B,0	;
1080)   89D0 3E 0D       					LD      A,CR	;
1081)   89D2 4E          		SETOP1:			LD      C,(HL)	;
1082)   89D3 0C          					INC     C	;
1083)   89D4 0D          					DEC     C	;
1084)   89D5 28 09       					JR      Z,SETOP2	;
1085)   89D7 09          					ADD     HL,BC	;
1086)   89D8 2B          					DEC     HL	;
1087)   89D9 BE          					CP      (HL)	;
1088)   89DA 23          					INC     HL	;
1089)   89DB 28 F5       					JR      Z,SETOP1	;
1090)   89DD C3 A6 88    					JP      BAD	;
1091)   89E0 23          		SETOP2:			INC     HL              ;N.B. CALLED FROM NEWIT	;N.B. CALLED FROM NEWIT
1092)   89E1 23          					INC     HL	;
1093)   89E2 23          					INC     HL	;
1094)   89E3 22 DE 03    					LD      (TOP),HL	;
1095)   89E6 C9          					RET	;
1104)   89E7 2A DC 03    		NEWIT:			LD      HL,(PAGE)	;
1105)   89EA 36 00       					LD      (HL),0	;
1106)   89EC CD E0 89    					CALL    SETOP2	;
1107)   89EF E5          		@CLEAR:			PUSH    HL	;
1108)   89F0 2A DE 03    					LD      HL,(TOP)	;
1109)   89F3 22 E0 03    					LD      (LOMEM),HL	;
1110)   89F6 22 E2 03    					LD      (FREE),HL	;
1111)   89F9 21 6C 03    					LD      HL,DYNVAR	;
1112)   89FC C5          					PUSH    BC	;
1113)   89FD 06 70       					LD      B,2*(54+2)	;
1114)   89FF 36 00       		CLEAR1:			LD      (HL),0	;
1115)   8A01 23          					INC     HL	;
1116)   8A02 10 FB       					DJNZ    CLEAR1	;
1117)   8A04 C1          					POP     BC	;
1118)   8A05 E1          					POP     HL	;
1119)   8A06 C9          					RET	;
1127)   8A07 E5          		LISTIT:			PUSH    HL	;
1128)   8A08 EB          					EX      DE,HL	;
1129)   8A09 C5          					PUSH    BC	;
1130)   8A0A CD 28 8B    					CALL    PBCD	;
1131)   8A0D C1          					POP     BC	;
1132)   8A0E E1          					POP     HL	;
1133)   8A0F 7E          					LD      A,(HL)	;
1134)   8A10 FE ED       					CP      NEXT	;
1135)   8A12 CC 73 8A    					CALL    Z,INDENT	;
1136)   8A15 FE FD       					CP      UNTIL	;
1137)   8A17 CC 73 8A    					CALL    Z,INDENT	;
1138)   8A1A D9          					EXX	;
1139)   8A1B 3E 20       					LD      A,' '	;
1140)   8A1D DD CB 00 46 					BIT     0,(IX)	;
1141)   8A21 C4 97 8A    					CALL    NZ,OUTCHR	;
1142)   8A24 78          					LD      A,B	;
1143)   8A25 87          					ADD     A,A	;
1144)   8A26 DD CB 00 4E 					BIT     1,(IX)	;
1145)   8A2A C4 4D 99    					CALL    NZ,FILL	;
1146)   8A2D 79          					LD      A,C	;
1147)   8A2E 87          					ADD     A,A	;
1148)   8A2F DD CB 00 56 					BIT     2,(IX)	;
1149)   8A33 C4 4D 99    					CALL    NZ,FILL	;
1150)   8A36 D9          					EXX	;
1151)   8A37 7E          					LD      A,(HL)	;
1152)   8A38 FE E3       					CP      FOR	;
1153)   8A3A CC 73 8A    					CALL    Z,INDENT	;
1154)   8A3D FE F5       					CP      REPEAT	;
1155)   8A3F CC 73 8A    					CALL    Z,INDENT	;
1156)   8A42 1E 00       					LD      E,0	;
1157)   8A44 7E          		LIST8:			LD      A,(HL)	;
1158)   8A45 23          					INC     HL	;
1159)   8A46 FE 0D       					CP      CR	;
1160)   8A48 28 46       					JR      Z,CRLF	;
1161)   8A4A FE 22       					CP      34		;ASCII ""	;ASCII ""
1162)   8A4C 20 01       					JR      NZ,LIST7	;
1163)   8A4E 1C          					INC     E	;
1164)   8A4F CD 67 8A    		LIST7:			CALL    LOUT	;
1165)   8A52 18 F0       					JR      LIST8	;
1167)   8A54 E5          		PRLINO:			PUSH    HL	;
1168)   8A55 FD E1       					POP     IY	;
1169)   8A57 C5          					PUSH    BC	;
1170)   8A58 CD 49 A5    					CALL    DECODE	;
1171)   8A5B C1          					POP     BC	;
1172)   8A5C D9          					EXX	;
1173)   8A5D C5          					PUSH    BC	;
1174)   8A5E CD 24 8B    					CALL    PBCDL	;
1175)   8A61 C1          					POP     BC	;
1176)   8A62 D9          					EXX	;
1177)   8A63 FD E5       					PUSH    IY	;
1178)   8A65 E1          					POP     HL	;
1179)   8A66 C9          					RET	;
1181)   8A67 CB 43       		LOUT:			BIT     0,E	;
1182)   8A69 20 2C       					JR      NZ,OUTCHR	;
1183)   8A6B FE 8D       					CP      LINO	;
1184)   8A6D 28 E5       					JR      Z,PRLINO	;
1185)   8A6F CD B0 8A    					CALL    OUT	;
1186)   8A72 7E          					LD      A,(HL)	;
1187)   8A73 D9          		INDENT:			EXX	;
1188)   8A74 FE E3       					CP      FOR	;
1189)   8A76 28 08       					JR      Z,IND1	;
1190)   8A78 FE ED       					CP      NEXT	;
1191)   8A7A 20 05       					JR      NZ,IND2	;
1192)   8A7C 05          					DEC     B	;
1193)   8A7D F2 81 8A    					JP      P,IND2	;
1194)   8A80 04          		IND1:			INC     B	;
1195)   8A81 FE F5       		IND2:			CP      REPEAT	;
1196)   8A83 28 08       					JR      Z,IND3	;
1197)   8A85 FE FD       					CP      UNTIL	;
1198)   8A87 20 05       					JR      NZ,IND4	;
1199)   8A89 0D          					DEC     C	;
1200)   8A8A F2 8E 8A    					JP      P,IND4	;
1201)   8A8D 0C          		IND3:			INC     C	;
1202)   8A8E D9          		IND4:			EXX	;
1203)   8A8F C9          					RET	;
1211)   8A90 3E 0D       		@CRLF:			LD      A,CR	;
1212)   8A92 CD 97 8A    					CALL    OUTCHR	;
1213)   8A95 3E 0A       					LD      A,LF	;
1214)   8A97 CD D9 B2    		@OUTCHR:		CALL    OSWRCH	;
1215)   8A9A D6 0D       					SUB     CR	;
1216)   8A9C 28 05       					JR      Z,CARRET	;
1217)   8A9E D8          					RET     C               ;NON-PRINTING	;NON-PRINTING
1218)   8A9F 3A FB 03    					LD      A,(COUNT)	;
1219)   8AA2 3C          					INC     A	;
1220)   8AA3 32 FB 03    		CARRET:			LD      (COUNT),A	;
1221)   8AA6 C8          					RET     Z	;
1222)   8AA7 E5          					PUSH    HL	;
1223)   8AA8 2A FC 03    					LD      HL,(WIDTH)	;
1224)   8AAB BD          					CP      L	;
1225)   8AAC E1          					POP     HL	;
1226)   8AAD C0          					RET     NZ	;
1227)   8AAE 18 E0       					JR      CRLF	;
1234)   8AB0 FE 8A       		@OUT:			CP      138	;
1235)   8AB2 EA 97 8A    					JP      PE,OUTCHR	;
1236)   8AB5 C5          					PUSH    BC	;
1237)   8AB6 E5          					PUSH    HL	;
1238)   8AB7 21 50 83    					LD      HL,KEYWDS	;
1239)   8ABA 01 DF 02    					LD      BC,KEYWDL	;
1240)   8ABD ED B1       					CPIR	;
1241)   8ABF 7E          		TOKEN1:			LD      A,(HL)	;
1242)   8AC0 23          					INC     HL	;
1243)   8AC1 FE 8A       					CP      138	;
1244)   8AC3 F5          					PUSH    AF	;
1245)   8AC4 EC 97 8A    					CALL    PE,OUTCHR	;
1246)   8AC7 F1          					POP     AF	;
1247)   8AC8 EA BF 8A    					JP      PE,TOKEN1	;
1248)   8ACB E1          					POP     HL	;
1249)   8ACC C1          					POP     BC	;
1250)   8ACD C9          					RET	;
1259)   8ACE EB          		@FINDL:			EX      DE,HL	;
1260)   8ACF 2A DC 03    					LD      HL,(PAGE)	;
1261)   8AD2 AF          					XOR     A               ;A=0	;A=0
1262)   8AD3 BE          					CP      (HL)	;
1263)   8AD4 3C          					INC     A	;
1264)   8AD5 D0          					RET     NC	;
1265)   8AD6 AF          					XOR     A               ;CLEAR CARRY	;CLEAR CARRY
1266)   8AD7 47          					LD      B,A	;
1267)   8AD8 4E          		FINDL1:			LD      C,(HL)	;
1268)   8AD9 E5          					PUSH    HL	;
1269)   8ADA 23          					INC     HL	;
1270)   8ADB 7E          					LD      A,(HL)	;
1271)   8ADC 23          					INC     HL	;
1272)   8ADD 66          					LD      H,(HL)	;
1273)   8ADE 6F          					LD      L,A	;
1274)   8ADF ED 52       					SBC     HL,DE	;
1275)   8AE1 E1          					POP     HL	;
1276)   8AE2 D0          					RET     NC              ;FOUND OR PAST	;FOUND OR PAST
1277)   8AE3 09          					ADD     HL,BC	;
1278)   8AE4 C3 D8 8A    					JP      FINDL1	;
1286)   8AE7 06 00       		@SETLIN:		LD      B,0	;
1287)   8AE9 ED 5B F4 03 					LD      DE,(ERRLIN)	;
1288)   8AED 2A DC 03    					LD      HL,(PAGE)	;
1289)   8AF0 B7          					OR      A	;
1290)   8AF1 ED 52       					SBC     HL,DE	;
1291)   8AF3 19          					ADD     HL,DE	;
1292)   8AF4 30 16       					JR      NC,SET3	;
1293)   8AF6 4E          		SET1:			LD      C,(HL)	;
1294)   8AF7 0C          					INC     C	;
1295)   8AF8 0D          					DEC     C	;
1296)   8AF9 28 11       					JR      Z,SET3	;
1297)   8AFB 09          					ADD     HL,BC	;
1298)   8AFC ED 52       					SBC     HL,DE	;
1299)   8AFE 19          					ADD     HL,DE	;
1300)   8AFF 38 F5       					JR      C,SET1	;
1301)   8B01 ED 42       					SBC     HL,BC	;
1302)   8B03 23          					INC     HL	;
1303)   8B04 5E          					LD      E,(HL)          ;LINE NUMBER	;LINE NUMBER
1304)   8B05 23          					INC     HL	;
1305)   8B06 56          					LD      D,(HL)	;
1306)   8B07 EB          					EX      DE,HL	;
1307)   8B08 22 E6 03    		SET2:			LD      (LINENO),HL	;
1308)   8B0B C9          					RET	;
1309)   8B0C 21 00 00    		SET3:			LD      HL,0	;
1310)   8B0F 18 F7       					JR      SET2	;
1317)   8B11 2A E6 03    		@SAYLN:			LD      HL,(LINENO)	;
1318)   8B14 7C          					LD      A,H	;
1319)   8B15 B5          					OR      L	;
1320)   8B16 C8          					RET     Z	;
1321)   8B17 CD 4E 8E    					CALL    TELL	;
1322)   8B1A 20 61 74 20 					DEFM    ' at line '	;
1322)   8B1E 6C 69 6E 65 					DEFM    ' at line '	;
1322)   8B22 20          					DEFM    ' at line '	;
1323)   8B23 00          					DEFB    0	;
1324)   8B24 0E 00       		@PBCDL:			LD      C,0	;
1325)   8B26 18 02       					JR      PBCD0	;
1332)   8B28 0E 20       		PBCD:			LD      C,' '	;
1333)   8B2A 06 05       		PBCD0:			LD      B,5	;
1334)   8B2C 11 10 27    					LD      DE,10000	;
1335)   8B2F AF          		PBCD1:			XOR     A	;
1336)   8B30 ED 52       		PBCD2:			SBC     HL,DE	;
1337)   8B32 3C          					INC     A	;
1338)   8B33 30 FB       					JR      NC,PBCD2	;
1339)   8B35 19          					ADD     HL,DE	;
1340)   8B36 3D          					DEC     A	;
1341)   8B37 28 04       					JR      Z,PBCD3	;
1342)   8B39 CB E1       					SET     4,C	;
1343)   8B3B CB E9       					SET     5,C	;
1344)   8B3D B1          		PBCD3:			OR      C	;
1345)   8B3E C4 97 8A    					CALL    NZ,OUTCHR	;
1346)   8B41 78          					LD      A,B	;
1347)   8B42 FE 05       					CP      5	;
1348)   8B44 28 06       					JR      Z,PBCD4	;
1349)   8B46 29          					ADD     HL,HL	;
1350)   8B47 54          					LD      D,H	;
1351)   8B48 5D          					LD      E,L	;
1352)   8B49 29          					ADD     HL,HL	;
1353)   8B4A 29          					ADD     HL,HL	;
1354)   8B4B 19          					ADD     HL,DE	;
1355)   8B4C 11 E8 03    		PBCD4:			LD      DE,1000	;
1356)   8B4F 10 DE       					DJNZ    PBCD1	;
1357)   8B51 37          					SCF	;
1358)   8B52 C9          					RET	;
1365)   8B53 CD A0 8C    		@PUTVAR:		CALL    CREATE	;
1366)   8B56 FD 7E 00    					LD      A,(IY)	;
1367)   8B59 FE 28       					CP      '('	;
1368)   8B5B 20 68       					JR      NZ,GETVZ        ;SET EXIT CONDITIONS	;SET EXIT CONDITIONS
1369)   8B5D 3E 0E       		ARRAY:			LD      A,14            ;'Array'	;'Array'
1370)   8B5F C3 FE 88    		ERROR3:			JP      ERROR	;
1383)   8B62 FD 7E 00    		@GETVAR:		LD      A,(IY)	;
1384)   8B65 FE 24       					CP      '$'	;
1385)   8B67 28 62       					JR      Z,GETV4	;
1386)   8B69 FE 21       					CP      '!'	;
1387)   8B6B 28 62       					JR      Z,GETV5	;
1388)   8B6D FE 3F       					CP      '?'	;
1389)   8B6F 28 62       					JR      Z,GETV6	;
1390)   8B71 CD 18 8C    					CALL    LOCATE	;
1391)   8B74 C0          					RET     NZ	;
1392)   8B75 FD 7E 00    					LD      A,(IY)	;
1393)   8B78 FE 28       					CP      '('             ;ARRAY?	;ARRAY?
1394)   8B7A 20 41       					JR      NZ,GETVX        ;EXIT	;EXIT
1395)   8B7C D5          					PUSH    DE              ;SAVE TYPE	;SAVE TYPE
1396)   8B7D 7E          					LD      A,(HL)          ;NO. OF DIMENSIONS	;NO. OF DIMENSIONS
1397)   8B7E B7          					OR      A	;
1398)   8B7F 28 DC       					JR      Z,ARRAY	;
1399)   8B81 23          					INC     HL	;
1400)   8B82 11 00 00    					LD      DE,0            ;ACCUMULATOR	;ACCUMULATOR
1401)   8B85 F5          					PUSH    AF	;
1402)   8B86 FD 23       					INC     IY              ;SKIP (	;SKIP (
1403)   8B88 18 04       					JR      GETV3	;
1404)   8B8A F5          		GETV2:			PUSH    AF	;
1405)   8B8B CD 53 A6    					CALL    COMMA	;
1406)   8B8E E5          		GETV3:			PUSH    HL	;
1407)   8B8F D5          					PUSH    DE	;
1408)   8B90 CD B7 A0    					CALL    EXPRI           ;SUBSCRIPT	;SUBSCRIPT
1409)   8B93 D9          					EXX	;
1410)   8B94 D1          					POP     DE	;
1411)   8B95 E3          					EX      (SP),HL	;
1412)   8B96 4E          					LD      C,(HL)	;
1413)   8B97 23          					INC     HL	;
1414)   8B98 46          					LD      B,(HL)	;
1415)   8B99 23          					INC     HL	;
1416)   8B9A E3          					EX      (SP),HL	;
1417)   8B9B EB          					EX      DE,HL	;
1418)   8B9C D5          					PUSH    DE	;
1419)   8B9D CD C6 99    					CALL    MUL16           ;HL=HL*BC	;HL=HL*BC
1420)   8BA0 D1          					POP     DE	;
1421)   8BA1 19          					ADD     HL,DE	;
1422)   8BA2 EB          					EX      DE,HL	;
1423)   8BA3 B7          					OR      A	;
1424)   8BA4 ED 42       					SBC     HL,BC	;
1425)   8BA6 3E 0F       					LD      A,15	;
1426)   8BA8 30 B5       					JR      NC,ERROR3       ;"Subscript"	;"Subscript"
1427)   8BAA E1          					POP     HL	;
1428)   8BAB F1          					POP     AF	;
1429)   8BAC 3D          					DEC     A               ;DIMENSION COUNTER	;DIMENSION COUNTER
1430)   8BAD 20 DB       					JR      NZ,GETV2	;
1431)   8BAF CD 5F A6    					CALL    BRAKET          ;CLOSING BRACKET	;CLOSING BRACKET
1432)   8BB2 F1          					POP     AF              ;RESTORE TYPE	;RESTORE TYPE
1433)   8BB3 E5          					PUSH    HL	;
1434)   8BB4 CD B9 99    					CALL    X4OR5           ;DE=DE*n	;DE=DE*n
1435)   8BB7 E1          					POP     HL	;
1436)   8BB8 19          					ADD     HL,DE	;
1437)   8BB9 57          					LD      D,A             ;TYPE	;TYPE
1438)   8BBA FD 7E 00    					LD      A,(IY)	;
1439)   8BBD FE 3F       		GETVX:			CP      '?'	;
1440)   8BBF 28 1D       					JR      Z,GETV9	;
1441)   8BC1 FE 21       					CP      '!'	;
1442)   8BC3 28 15       					JR      Z,GETV8	;
1443)   8BC5 E5          		GETVZ:			PUSH    HL              ;SET EXIT CONDITIONS	;SET EXIT CONDITIONS
1444)   8BC6 DD E1       					POP     IX	;
1445)   8BC8 7A          					LD      A,D	;
1446)   8BC9 BF          					CP      A	;
1447)   8BCA C9          					RET	;
1451)   8BCB 3E 80       		GETV4:			LD      A,128           ;STATIC STRING	;STATIC STRING
1452)   8BCD 18 05       					JR      GETV7	;
1453)   8BCF 3E 04       		GETV5:			LD      A,4             ;UNARY 32-BIT INDIRN.	;UNARY 32-BIT INDIRN.
1454)   8BD1 18 01       					JR      GETV7	;
1455)   8BD3 AF          		GETV6:			XOR     A               ;UNARY 8-BIT INDIRECTION	;UNARY 8-BIT INDIRECTION
1456)   8BD4 21 00 00    		GETV7:			LD      HL,0	;
1457)   8BD7 F5          					PUSH    AF	;
1458)   8BD8 18 15       					JR      GETV0	;
1460)   8BDA 06 04       		GETV8:			LD      B,4             ;32-BIT BINARY INDIRN.	;32-BIT BINARY INDIRN.
1461)   8BDC 18 02       					JR      GETVA	;
1462)   8BDE 06 00       		GETV9:			LD      B,0             ;8-BIT BINARY INDIRN.	;8-BIT BINARY INDIRN.
1463)   8BE0 E5          		GETVA:			PUSH    HL	;
1464)   8BE1 DD E1       					POP     IX	;
1465)   8BE3 7A          					LD      A,D             ;TYPE	;TYPE
1466)   8BE4 FE 81       					CP      129	;
1467)   8BE6 C8          					RET     Z               ;STRING!	;STRING!
1468)   8BE7 C5          					PUSH    BC	;
1469)   8BE8 CD 70 A1    					CALL    LOADN           ;LEFT OPERAND	;LEFT OPERAND
1470)   8BEB CD 5E A3    					CALL    SFIX	;
1471)   8BEE D9          					EXX	;
1472)   8BEF E5          		GETV0:			PUSH    HL	;
1473)   8BF0 FD 23       					INC     IY	;
1474)   8BF2 CD CE A0    					CALL    ITEMI	;
1475)   8BF5 D9          					EXX	;
1476)   8BF6 D1          					POP     DE	;
1477)   8BF7 F1          					POP     AF	;
1478)   8BF8 19          					ADD     HL,DE	;
1479)   8BF9 E5          					PUSH    HL	;
1480)   8BFA DD E1       					POP     IX	;
1481)   8BFC BF          					CP      A	;
1482)   8BFD C9          					RET	;
1492)   8BFE FD 7E 01    		@GETDEF:		LD      A,(IY+1)	;
1493)   8C01 CD 55 8D    					CALL    RANGE1	;
1494)   8C04 D8          					RET     C	;
1495)   8C05 FD 7E 00    					LD      A,(IY)	;
1496)   8C08 21 D8 03    					LD      HL,FNPTR	;
1497)   8C0B FE A4       					CP      FN	;
1498)   8C0D 28 43       					JR      Z,LOC2	;
1499)   8C0F 21 DA 03    					LD      HL,PROPTR	;
1500)   8C12 FE F2       					CP      PROC	;
1501)   8C14 28 3C       					JR      Z,LOC2	;
1502)   8C16 37          					SCF	;
1503)   8C17 C9          					RET	;
1519)   8C18 D6 40       		LOCATE:			SUB     '@'	;
1520)   8C1A D8          					RET     C	;
1521)   8C1B 26 00       					LD      H,0	;
1522)   8C1D FE 1B       					CP      'Z'-'@'+1	;
1523)   8C1F 30 1D       					JR      NC,LOC0         ;NOT STATIC	;NOT STATIC
1524)   8C21 87          					ADD     A,A	;
1525)   8C22 6F          					LD      L,A	;
1526)   8C23 FD 7E 01    					LD      A,(IY+1)        ;2nd CHARACTER	;2nd CHARACTER
1527)   8C26 FE 25       					CP      '%'	;
1528)   8C28 20 20       					JR      NZ,LOC1         ;NOT STATIC	;NOT STATIC
1529)   8C2A FD 7E 02    					LD      A,(IY+2)	;
1530)   8C2D FE 28       					CP      '('	;
1531)   8C2F 28 19       					JR      Z,LOC1          ;NOT STATIC	;NOT STATIC
1532)   8C31 29          					ADD     HL,HL	;
1533)   8C32 11 00 03    					LD      DE,STAVAR       ;STATIC VARIABLES	;STATIC VARIABLES
1534)   8C35 19          					ADD     HL,DE	;
1535)   8C36 FD 23       					INC     IY	;
1536)   8C38 FD 23       					INC     IY	;
1537)   8C3A 16 04       					LD      D,4             ;INTEGER TYPE	;INTEGER TYPE
1538)   8C3C AF          					XOR     A	;
1539)   8C3D C9          					RET	;
1541)   8C3E FE 1F       		LOC0:			CP      '_'-'@'	;
1542)   8C40 D8          					RET     C	;
1543)   8C41 FE 3B       					CP      'z'-'@'+1	;
1544)   8C43 3F          					CCF	;
1545)   8C44 3D          					DEC     A               ;SET NZ	;SET NZ
1546)   8C45 D8          					RET     C	;
1547)   8C46 D6 03       					SUB     3	;
1548)   8C48 87          					ADD     A,A	;
1549)   8C49 6F          					LD      L,A	;
1550)   8C4A 11 6C 03    		LOC1:			LD      DE,DYNVAR       ;DYNAMIC VARIABLES	;DYNAMIC VARIABLES
1551)   8C4D 2D          					DEC     L	;
1552)   8C4E 2D          					DEC     L	;
1553)   8C4F 37          					SCF	;
1554)   8C50 F8          					RET     M	;
1555)   8C51 19          					ADD     HL,DE	;
1556)   8C52 5E          		LOC2:			LD      E,(HL)	;
1557)   8C53 23          					INC     HL	;
1558)   8C54 56          					LD      D,(HL)	;
1559)   8C55 7A          					LD      A,D	;
1560)   8C56 B3          					OR      E	;
1561)   8C57 28 45       					JR      Z,LOC6          ;UNDEFINED VARIABLE	;UNDEFINED VARIABLE
1562)   8C59 62          					LD      H,D	;
1563)   8C5A 6B          					LD      L,E	;
1564)   8C5B 23          					INC     HL              ;SKIP LINK	;SKIP LINK
1565)   8C5C 23          					INC     HL	;
1566)   8C5D FD E5       					PUSH    IY	;
1567)   8C5F 7E          		LOC3:			LD      A,(HL)          ;COMPARE	;COMPARE
1568)   8C60 23          					INC     HL	;
1569)   8C61 FD 23       					INC     IY	;
1570)   8C63 FD BE 00    					CP      (IY)	;
1571)   8C66 28 F7       					JR      Z,LOC3	;
1572)   8C68 B7          					OR      A               ;0=TERMINATOR	;0=TERMINATOR
1573)   8C69 28 06       					JR      Z,LOC5          ;FOUND (MAYBE)	;FOUND (MAYBE)
1574)   8C6B FD E1       		LOC4:			POP     IY	;
1575)   8C6D EB          					EX      DE,HL	;
1576)   8C6E C3 52 8C    					JP      LOC2            ;TRY NEXT ENTRY	;TRY NEXT ENTRY
1578)   8C71 FD 2B       		LOC5:			DEC     IY	;
1579)   8C73 FD 7E 00    					LD      A,(IY)	;
1580)   8C76 FE 28       					CP      '('	;
1581)   8C78 28 13       					JR      Z,LOC5A         ;FOUND	;FOUND
1582)   8C7A FD 23       					INC     IY	;
1583)   8C7C CD 49 8D    					CALL    RANGE	;
1584)   8C7F 38 0C       					JR      C,LOC5A         ;FOUND	;FOUND
1585)   8C81 FE 28       					CP      '('	;
1586)   8C83 28 E6       					JR      Z,LOC4          ;KEEP LOOKING	;KEEP LOOKING
1587)   8C85 FD 7E 01    					LD      A,(IY-1)	;
1588)   8C88 CD 55 8D    					CALL    RANGE1	;
1589)   8C8B 30 DE       					JR      NC,LOC4         ;KEEP LOOKING	;KEEP LOOKING
1590)   8C8D D1          		LOC5A:			POP     DE	;
1591)   8C8E FD 7E 01    		TYPE:			LD      A,(IY-1)	;
1592)   8C91 FE 24       					CP      '$'	;
1593)   8C93 16 81       					LD      D,129	;
1594)   8C95 C8          					RET     Z               ;STRING	;STRING
1595)   8C96 FE 25       					CP      '%'	;
1596)   8C98 16 04       					LD      D,4	;
1597)   8C9A C8          					RET     Z               ;INTEGER	;INTEGER
1598)   8C9B 14          					INC     D	;
1599)   8C9C BF          					CP      A	;
1600)   8C9D C9          					RET	;
1602)   8C9E 3C          		LOC6:			INC     A               ;SET NZ	;SET NZ
1603)   8C9F C9          					RET	;
1610)   8CA0 AF          		@CREATE:		XOR     A	;
1611)   8CA1 ED 5B E2 03 					LD      DE,(FREE)	;
1612)   8CA5 72          					LD      (HL),D	;
1613)   8CA6 2B          					DEC     HL	;
1614)   8CA7 73          					LD      (HL),E	;
1615)   8CA8 EB          					EX      DE,HL	;
1616)   8CA9 77          					LD      (HL),A	;
1617)   8CAA 23          					INC     HL	;
1618)   8CAB 77          					LD      (HL),A	;
1619)   8CAC 23          					INC     HL	;
1620)   8CAD FD 23       		LOC7:			INC     IY	;
1621)   8CAF CD 49 8D    					CALL    RANGE           ;END OF VARIABLE?	;END OF VARIABLE?
1622)   8CB2 38 14       					JR      C,LOC8	;
1623)   8CB4 77          					LD      (HL),A	;
1624)   8CB5 23          					INC     HL	;
1625)   8CB6 CD 55 8D    					CALL    RANGE1	;
1626)   8CB9 30 F2       					JR      NC,LOC7	;
1627)   8CBB FE 28       					CP      '('	;
1628)   8CBD 28 09       					JR      Z,LOC8	;
1629)   8CBF FD 7E 01    					LD      A,(IY+1)	;
1630)   8CC2 FE 28       					CP      '('	;
1631)   8CC4 28 E7       					JR      Z,LOC7	;
1632)   8CC6 FD 23       					INC     IY	;
1633)   8CC8 36 00       		LOC8:			LD      (HL),0          ;TERMINATOR	;TERMINATOR
1634)   8CCA 23          					INC     HL	;
1635)   8CCB E5          					PUSH    HL	;
1636)   8CCC CD 8E 8C    					CALL    TYPE	;
1637)   8CCF 3E 05       					LD      A,5	;
1638)   8CD1 BA          					CP      D	;
1639)   8CD2 28 01       					JR      Z,LOC9	;
1640)   8CD4 3D          					DEC     A	;
1641)   8CD5 36 00       		LOC9:			LD      (HL),0          ;INITIALISE TO ZERO	;INITIALISE TO ZERO
1642)   8CD7 23          					INC     HL	;
1643)   8CD8 3D          					DEC     A	;
1644)   8CD9 20 FA       					JR      NZ,LOC9	;
1645)   8CDB 22 E2 03    					LD      (FREE),HL	;
1646)   8CDE CD E2 97    					CALL    CHECK	;
1647)   8CE1 E1          					POP     HL	;
1648)   8CE2 AF          					XOR     A	;
1649)   8CE3 C9          					RET	;
1657)   8CE4 CD 9B A6    		LINNUM:			CALL    NXT	;
1658)   8CE7 21 00 00    					LD      HL,0	;
1659)   8CEA FD 7E 00    		LINNM1:			LD      A,(IY)	;
1660)   8CED D6 30       					SUB     '0'	;
1661)   8CEF D8          					RET     C	;
1662)   8CF0 FE 0A       					CP      10	;
1663)   8CF2 D0          					RET     NC	;
1664)   8CF3 FD 23       					INC     IY	;
1665)   8CF5 54          					LD      D,H	;
1666)   8CF6 5D          					LD      E,L	;
1667)   8CF7 29          					ADD     HL,HL           ;*2	;*2
1668)   8CF8 38 0F       					JR      C,TOOBIG	;
1669)   8CFA 29          					ADD     HL,HL           ;*4	;*4
1670)   8CFB 38 0C       					JR      C,TOOBIG	;
1671)   8CFD 19          					ADD     HL,DE           ;*5	;*5
1672)   8CFE 38 09       					JR      C,TOOBIG	;
1673)   8D00 29          					ADD     HL,HL           ;*10	;*10
1674)   8D01 38 06       					JR      C,TOOBIG	;
1675)   8D03 5F          					LD      E,A	;
1676)   8D04 16 00       					LD      D,0	;
1677)   8D06 19          					ADD     HL,DE           ;ADD IN DIGIT	;ADD IN DIGIT
1678)   8D07 30 E1       					JR      NC,LINNM1       	;
1679)   8D09 3E 14       		TOOBIG:			LD      A,20	;
1680)   8D0B C3 FE 88    					JP      ERROR           ;"Too big"	;"Too big"
1688)   8D0E CD E4 8C    		PAIR:			CALL    LINNUM          ;FIRST	;FIRST
1689)   8D11 7C          					LD      A,H	;
1690)   8D12 B5          					OR      L	;
1691)   8D13 20 02       					JR      NZ,PAIR1	;
1692)   8D15 2E 0A       					LD      L,10	;
1693)   8D17 CD E5 98    		PAIR1:			CALL    TERM?	;
1694)   8D1A FD 23       					INC     IY	;
1695)   8D1C E5          					PUSH    HL	;
1696)   8D1D 21 0A 00    					LD      HL,10	;
1697)   8D20 C4 E4 8C    					CALL    NZ,LINNUM       ;SECOND	;SECOND
1698)   8D23 E3          					EX      (SP),HL	;
1699)   8D24 C1          					POP     BC	;
1700)   8D25 78          					LD      A,B	;
1701)   8D26 B1          					OR      C	;
1702)   8D27 C0          					RET     NZ	;
1703)   8D28 CD 13 89    					CALL    EXTERR	;
1704)   8D2B 53 69 6C 6C 					DEFM    'Silly'	;
1704)   8D2F 79          					DEFM    'Silly'	;
1705)   8D30 00          					DEFB    0	;
1713)   8D31 CD E4 8C    		DLPAIR:			CALL    LINNUM	;
1714)   8D34 E5          					PUSH    HL	;
1715)   8D35 CD E5 98    					CALL    TERM?	;
1716)   8D38 28 09       					JR      Z,DLP1	;
1717)   8D3A FE E7       					CP      TIF	;
1718)   8D3C 28 05       					JR      Z,DLP1	;
1719)   8D3E FD 23       					INC     IY	;
1720)   8D40 CD E4 8C    					CALL    LINNUM	;
1721)   8D43 E3          		DLP1:			EX      (SP),HL	;
1722)   8D44 CD CE 8A    					CALL    FINDL	;
1723)   8D47 C1          					POP     BC	;
1724)   8D48 C9          					RET	;
1731)   8D49 FD 7E 00    		@RANGE:			LD      A,(IY)	;
1732)   8D4C FE 24       					CP      '$'	;
1733)   8D4E C8          					RET     Z	;
1734)   8D4F FE 25       					CP      '%'	;
1735)   8D51 C8          					RET     Z	;
1736)   8D52 FE 28       					CP      '('	;
1737)   8D54 C8          					RET     Z	;
1738)   8D55 FE 30       		RANGE1:			CP      '0'	;
1739)   8D57 D8          					RET     C	;
1740)   8D58 FE 3A       					CP      '9'+1	;
1741)   8D5A 3F          					CCF	;
1742)   8D5B D0          					RET     NC	;
1743)   8D5C FE 40       					CP      '@'             ;V2.4	;V2.4
1744)   8D5E C8          					RET     Z	;
1745)   8D5F FE 41       		RANGE2:			CP      'A'	;
1746)   8D61 D8          					RET     C	;
1747)   8D62 FE 5B       					CP      'Z'+1	;
1748)   8D64 3F          					CCF	;
1749)   8D65 D0          					RET     NC	;
1750)   8D66 FE 5F       					CP      '_'	;
1751)   8D68 D8          					RET     C	;
1752)   8D69 FE 7B       					CP      'z'+1	;
1753)   8D6B 3F          					CCF	;
1754)   8D6C C9          					RET	;
1756)   8D6D AF          		SPACE: 			XOR     A	;
1757)   8D6E CD 13 89    					CALL    EXTERR          ;"LINE space"	;"LINE space"
1758)   8D71 86          					DEFB    LINE	;
1759)   8D72 08          					DEFB    8	;
1760)   8D73 00          					DEFB    0	;
1776)   8D74 12          		LEXAN1:			LD      (DE),A          ;TRANSFER TO BUFFER	;TRANSFER TO BUFFER
1777)   8D75 13          					INC     DE              ;INCREMENT POINTERS	;INCREMENT POINTERS
1778)   8D76 FD 23       					INC     IY	;
1779)   8D78 7B          		@LEXAN2:		LD      A,E             ;MAIN ENTRY	;MAIN ENTRY
1780)   8D79 FE FC       					CP      252             ;TEST LENGTH	;TEST LENGTH
1781)   8D7B 30 F0       					JR      NC,SPACE        ;LINE TOO LONG	;LINE TOO LONG
1782)   8D7D FD 7E 00    					LD      A,(IY)	;
1783)   8D80 FE 0D       					CP      CR	;
1784)   8D82 C8          					RET     Z               ;END OF LINE	;END OF LINE
1785)   8D83 CD 55 8D    					CALL    RANGE1	;
1786)   8D86 30 04       					JR      NC,LEXAN3	;
1787)   8D88 CB A9       					RES     5,C             ;NOT IN VARIABLE	;NOT IN VARIABLE
1788)   8D8A CB 99       					RES     3,C             ;NOT IN HEX	;NOT IN HEX
1789)   8D8C FE 20       		LEXAN3:			CP      ' '	;
1790)   8D8E 28 E4       					JR      Z,LEXAN1        ;PASS SPACES	;PASS SPACES
1791)   8D90 FE 2C       					CP      ','	;
1792)   8D92 28 E0       					JR      Z,LEXAN1        ;PASS COMMAS	;PASS COMMAS
1793)   8D94 FE 47       					CP      'G'	;
1794)   8D96 38 02       					JR      C,LEXAN4	;
1795)   8D98 CB 99       					RES     3,C             ;NOT IN HEX	;NOT IN HEX
1796)   8D9A FE 22       		LEXAN4:			CP      34		;ASCII ""	;ASCII ""
1797)   8D9C 20 05       					JR      NZ,LEXAN5	;
1798)   8D9E CB 11       					RL      C	;
1799)   8DA0 3F          					CCF                     ;TOGGLE C7	;TOGGLE C7
1800)   8DA1 CB 19       					RR      C	;
1801)   8DA3 CB 61       		LEXAN5:			BIT     4,C	;
1802)   8DA5 28 10       					JR      Z,LEXAN6	;
1803)   8DA7 CB A1       					RES     4,C	;
1804)   8DA9 C5          					PUSH    BC	;
1805)   8DAA D5          					PUSH    DE	;
1806)   8DAB CD E4 8C    					CALL    LINNUM          ;GET LINE NUMBER	;GET LINE NUMBER
1807)   8DAE D1          					POP     DE	;
1808)   8DAF C1          					POP     BC	;
1809)   8DB0 7C          					LD      A,H	;
1810)   8DB1 B5          					OR      L	;
1811)   8DB2 C4 1C 8E    					CALL    NZ,ENCODE       ;ENCODE LINE NUMBER	;ENCODE LINE NUMBER
1812)   8DB5 18 C1       					JR      LEXAN2          ;CONTINUE	;CONTINUE
1814)   8DB7 0D          		LEXAN6:			DEC     C	;
1815)   8DB8 28 09       					JR      Z,LEXAN7        ;C=1 (LEFT)	;C=1 (LEFT)
1816)   8DBA 0C          					INC     C	;
1817)   8DBB 20 B7       					JR      NZ,LEXAN1	;
1818)   8DBD B7          					OR      A	;
1819)   8DBE F4 52 89    					CALL    P,LEX           ;TOKENISE IF POSS.	;TOKENISE IF POSS.
1820)   8DC1 18 12       					JR      LEXAN8	;
1822)   8DC3 FE 2A       		LEXAN7:			CP      '*'	;
1823)   8DC5 28 16       					JR      Z,LEXAN9	;
1824)   8DC7 B7          					OR      A	;
1825)   8DC8 F4 52 89    					CALL    P,LEX           ;TOKENISE IF POSS.	;TOKENISE IF POSS.
1826)   8DCB FE 8F       					CP      TOKLO	;
1827)   8DCD 38 06       					JR      C,LEXAN8	;
1828)   8DCF FE 94       					CP      TOKHI+1	;
1829)   8DD1 30 02       					JR      NC,LEXAN8	;
1830)   8DD3 C6 40       					ADD     A,OFFSET        ;LEFT VERSION	;LEFT VERSION
1831)   8DD5 FE F4       		LEXAN8:			CP      REM	;
1832)   8DD7 28 04       					JR      Z,LEXAN9	;
1833)   8DD9 FE DC       					CP      DATA	;
1834)   8DDB 20 02       					JR      NZ,LEXANA	;
1835)   8DDD CB F1       		LEXAN9:			SET     6,C             ;QUIT TOKENISING	;QUIT TOKENISING
1836)   8DDF FE A4       		LEXANA:			CP      FN	;
1837)   8DE1 28 09       					JR      Z,LEXANB	;
1838)   8DE3 FE F2       					CP      PROC	;
1839)   8DE5 28 05       					JR      Z,LEXANB	;
1840)   8DE7 CD 5F 8D    					CALL    RANGE2	;
1841)   8DEA 38 02       					JR      C,LEXANC	;
1842)   8DEC CB E9       		LEXANB:			SET     5,C             ;IN VARIABLE/FN/PROC	;IN VARIABLE/FN/PROC
1843)   8DEE FE 26       		LEXANC:			CP      '&'	;
1844)   8DF0 20 02       					JR      NZ,LEXAND	;
1845)   8DF2 CB D9       					SET     3,C             ;IN HEX	;IN HEX
1846)   8DF4 21 13 8E    		LEXAND:			LD      HL,LIST1	;
1847)   8DF7 C5          					PUSH    BC	;
1848)   8DF8 01 06 00    					LD      BC,LIST1L	;
1849)   8DFB ED B1       					CPIR	;
1850)   8DFD C1          					POP     BC	;
1851)   8DFE 20 02       					JR      NZ,LEXANE	;
1852)   8E00 CB E1       					SET     4,C             ;ACCEPT LINE NUMBER	;ACCEPT LINE NUMBER
1853)   8E02 21 17 8E    		LEXANE:			LD      HL,LIST2	;
1854)   8E05 C5          					PUSH    BC	;
1855)   8E06 01 05 00    					LD      BC,LIST2L	;
1856)   8E09 ED B1       					CPIR	;
1857)   8E0B C1          					POP     BC	;
1858)   8E0C 20 02       					JR      NZ,LEXANF	;
1859)   8E0E CB C1       					SET     0,C             ;ENTER LEFT MODE	;ENTER LEFT MODE
1860)   8E10 C3 74 8D    		LEXANF:			JP      LEXAN1	;
1862)   8E13 E5          		LIST1:			DEFB    GOTO	;
1863)   8E14 E4          					DEFB    GOSUB	;
1864)   8E15 F7          					DEFB    RESTOR	;
1865)   8E16 FC          					DEFB    TRACE	;
1866)   8E17 8C          		LIST2:			DEFB    THEN	;
1867)   8E18 8B          					DEFB    ELSE	;
1869)   8E19 F5          					DEFB    REPEAT	;
1870)   8E1A 85          					DEFB    TERROR	;
1871)   8E1B 3A          					DEFB    ':'	;
1879)   8E1C CB E1       		ENCODE:			SET     4,C	;
1880)   8E1E EB          					EX      DE,HL	;
1881)   8E1F 36 8D       					LD      (HL),LINO	;
1882)   8E21 23          					INC     HL	;
1883)   8E22 7A          					LD      A,D	;
1884)   8E23 E6 C0       					AND     0C0H	;
1885)   8E25 0F          					RRCA	;
1886)   8E26 0F          					RRCA	;
1887)   8E27 47          					LD      B,A	;
1888)   8E28 7B          					LD      A,E	;
1889)   8E29 E6 C0       					AND     0C0H	;
1890)   8E2B B0          					OR      B	;
1891)   8E2C 0F          					RRCA	;
1892)   8E2D 0F          					RRCA	;
1893)   8E2E EE 54       					XOR     01010100B	;
1894)   8E30 77          					LD      (HL),A	;
1895)   8E31 23          					INC     HL	;
1896)   8E32 7B          					LD      A,E	;
1897)   8E33 E6 3F       					AND     3FH	;
1898)   8E35 F6 40       					OR      '@'	;
1899)   8E37 77          					LD      (HL),A	;
1900)   8E38 23          					INC     HL	;
1901)   8E39 7A          					LD      A,D	;
1902)   8E3A E6 3F       					AND     3FH	;
1903)   8E3C F6 40       					OR      '@'	;
1904)   8E3E 77          					LD      (HL),A	;
1905)   8E3F 23          					INC     HL	;
1906)   8E40 EB          					EX      DE,HL	;
1907)   8E41 C9          					RET	;
1914)   8E42 2A EE 03    		@REPORT:		LD      HL,(ERRTXT)	;
1915)   8E45 7E          		TEXT:			LD      A,(HL)	;
1916)   8E46 23          					INC     HL	;
1917)   8E47 B7          					OR      A	;
1918)   8E48 C8          					RET     Z	;
1919)   8E49 CD B0 8A    					CALL    OUT	;
1920)   8E4C 18 F7       					JR      TEXT	;
1926)   8E4E E3          		@TELL:			EX      (SP),HL         ;GET RETURN ADDRESS	;GET RETURN ADDRESS
1927)   8E4F CD 45 8E    					CALL    TEXT	;
1928)   8E52 E3          					EX      (SP),HL	;
1929)   8E53 C9          					RET	;
 33)   8E54 9A 88       		CMDTAB:			DEFW    AUTO	;
 34)   8E56 34 87       					DEFW    DELETE	;
 35)   8E58 D2 88       					DEFW    LOAD	;
 36)   8E5A 63 87       					DEFW    LIST	;
 37)   8E5C B4 88       					DEFW    NEW	;
 38)   8E5E B9 88       					DEFW    OLD	;
 39)   8E60 E1 87       					DEFW    RENUM	;
 40)   8E62 E0 88       					DEFW    SAVE	;
 41)   8E64 5B 97       					DEFW    PUT	;
 42)   8E66 11 96       					DEFW    PTR	;
 43)   8E68 26 96       					DEFW    PAGEV	;
 44)   8E6A 35 96       					DEFW    TIMEV	;
 45)   8E6C 56 96       					DEFW    LOMEMV	;
 46)   8E6E 69 96       					DEFW    HIMEMV	;
 47)   8E70 B9 B2       					DEFW    SOUND	;
 48)   8E72 DD 96       					DEFW    BPUT	;
 49)   8E74 F0 96       					DEFW    CALL	;
 50)   8E76 CD 8E       					DEFW    CHAIN	;
 51)   8E78 EB 95       					DEFW    CLR	;
 52)   8E7A D4 96       					DEFW    CLOSE	;
 53)   8E7C B9 B2       					DEFW    CLG	;
 54)   8E7E C8 95       					DEFW    CLS	;
 55)   8E80 84 8F       					DEFW    REM             ;DATA	;DATA
 56)   8E82 84 8F       					DEFW    REM             ;DEF	;DEF
 57)   8E84 31 90       					DEFW    DIM	;
 58)   8E86 B9 B2       					DEFW    DRAW	;
 59)   8E88 33 8F       					DEFW    END	;
 60)   8E8A 20 94       					DEFW    ENDPRO	;
 61)   8E8C B9 B2       					DEFW    ENVEL	;
 62)   8E8E 75 92       					DEFW    FOR	;
 63)   8E90 30 92       					DEFW    GOSUB	;
 64)   8E92 19 92       					DEFW    GOTO	;
 65)   8E94 B9 B2       					DEFW    GCOL	;
 66)   8E96 9B 95       					DEFW    IF	;
 67)   8E98 AB 94       					DEFW    INPUT	;
 68)   8E9A A4 8F       					DEFW    LET	;
 69)   8E9C D2 93       					DEFW    LOCAL	;
 70)   8E9E B9 B2       					DEFW    MODE	;
 71)   8EA0 B9 B2       					DEFW    MOVE	;
 72)   8EA2 BA 92       					DEFW    NEXT	;
 73)   8EA4 B3 91       					DEFW    ON	;
 74)   8EA6 B3 96       					DEFW    VDU	;
 75)   8EA8 B9 B2       					DEFW    PLOT	;
 76)   8EAA DE 90       					DEFW    PRINT	;
 77)   8EAC 43 93       					DEFW    PROC	;
 78)   8EAE 4A 95       					DEFW    READ	;
 79)   8EB0 84 8F       					DEFW    REM	;
 80)   8EB2 4B 92       					DEFW    REPEAT	;
 81)   8EB4 E5 95       					DEFW    REPOR	;
 82)   8EB6 F3 95       					DEFW    RESTOR	;
 83)   8EB8 3B 92       					DEFW    RETURN	;
 84)   8EBA C8 8E       					DEFW    RUN	;
 85)   8EBC D2 95       					DEFW    STOP	;
 86)   8EBE B9 B2       					DEFW    COLOUR	;
 87)   8EC0 99 96       					DEFW    TRACE	;
 88)   8EC2 53 92       					DEFW    UNTIL	;
 89)   8EC4 8E 96       					DEFW    WIDTHV	;
 90)   8EC6 70 8F       					DEFW    CLI             ;OSCLI	;OSCLI
 92)   8EC8 CD E5 98    		RUN:			CALL    TERM?	;
 93)   8ECB 28 0D       					JR      Z,RUN0	;
 94)   8ECD CD C0 A0    		CHAIN:			CALL    EXPRS	;
 95)   8ED0 3E 0D       					LD      A,CR	;
 96)   8ED2 12          					LD      (DE),A	;
 97)   8ED3 ED 7B E4 03 		@CHAIN0:		LD      SP,(HIMEM)	;
 98)   8ED7 CD A6 89    					CALL    LOAD0	;
 99)   8EDA ED 7B E4 03 		@RUN0:			LD      SP,(HIMEM)      ;PREPARE FOR RUN	;PREPARE FOR RUN
100)   8EDE DD 21 F6 03 					LD      IX,RANDOM	;
104)   8EE2 ED 5F       					ld      a, r	;
105)   8EE4 20 1D       					jr      nz, 1F	;
106)   8EE6 3C          					inc     a	;
108)   8EE7 07          		L1:			RLCA	;
109)   8EE8 07          					RLCA	;
110)   8EE9 DD 77 03    					LD      (IX+3),A	;
111)   8EEC 9F          					SBC     A,A	;
112)   8EED DD 77 04    					LD      (IX+4),A	;
113)   8EF0 CD EF 89    					CALL    CLEAR	;
114)   8EF3 21 00 00    					LD      HL,0	;
115)   8EF6 22 EC 03    					LD      (ERRTRP),HL	;
116)   8EF9 2A DC 03    					LD      HL,(PAGE)	;
117)   8EFC 3E DC       					LD      A,DATA	;
118)   8EFE CD A3 99    					CALL    SEARCH          ;LOOK FOR "DATA"	;LOOK FOR "DATA"
119)   8F01 22 F0 03    					LD      (DATPTR),HL     ;SET DATA POINTER	;SET DATA POINTER
120)   8F04 FD 2A DC 03 					LD      IY,(PAGE)	;
121)   8F08 CD 43 8F    		XEQ0:			CALL    NEWLIN	;
122)   8F0B FD 22 F4 03 		@XEQ:			LD      (ERRLIN),IY     ;ERROR POINTER	;ERROR POINTER
123)   8F0F CD FD B2    					CALL    TRAP            ;CHECK KEYBOARD	;CHECK KEYBOARD
124)   8F12 CD 9B A6    		XEQ1:			CALL    NXT	;
125)   8F15 FD 23       					INC     IY	;
126)   8F17 FE 3A       					CP      ':'             ;SEPARATOR	;SEPARATOR
127)   8F19 28 F7       					JR      Z,XEQ1	;
128)   8F1B FE 0D       					CP      CR	;
129)   8F1D 28 E9       					JR      Z,XEQ0          ;NEW PROGRAM LINE	;NEW PROGRAM LINE
130)   8F1F D6 C6       					SUB     TCMD	;
131)   8F21 38 6F       					JR      C,LET0          ;IMPLIED "LET"	;IMPLIED "LET"
132)   8F23 87          					ADD     A,A	;
133)   8F24 4F          					LD      C,A	;
134)   8F25 06 00       					LD      B,0	;
135)   8F27 21 54 8E    					LD      HL,CMDTAB	;
136)   8F2A 09          					ADD     HL,BC	;
137)   8F2B 7E          					LD      A,(HL)          ;TABLE ENTRY	;TABLE ENTRY
138)   8F2C 23          					INC     HL	;
139)   8F2D 66          					LD      H,(HL)	;
140)   8F2E 6F          					LD      L,A	;
141)   8F2F CD 9B A6    					CALL    NXT	;
142)   8F32 E9          					JP      (HL)            ;EXECUTE STATEMENT	;EXECUTE STATEMENT
146)   8F33 CD E7 8A    		END:			CALL    SETLIN          ;FIND CURRENT LINE	;FIND CURRENT LINE
147)   8F36 7C          					LD      A,H	;
148)   8F37 B5          					OR      L               ;DIRECT?	;DIRECT?
149)   8F38 CA 92 82    					JP      Z,CLOOP	;
150)   8F3B 1E 00       					LD      E,0	;
151)   8F3D CD AD B3    					CALL    OSSHUT          ;CLOSE ALL FILES	;CLOSE ALL FILES
152)   8F40 C3 91 82    					JP      WARM            ;"Ready"	;"Ready"
154)   8F43 FD 7E 00    		NEWLIN:			LD      A,(IY+0)        ;A=LINE LENGTH	;A=LINE LENGTH
155)   8F46 01 03 00    					LD      BC,3	;
156)   8F49 FD 09       					ADD     IY,BC	;
157)   8F4B B7          					OR      A	;
158)   8F4C 28 E5       					JR      Z,END           ;LENGTH=0, EXIT	;LENGTH=0, EXIT
159)   8F4E 2A E8 03    					LD      HL,(TRACEN)	;
160)   8F51 7C          					LD      A,H	;
161)   8F52 B5          					OR      L	;
162)   8F53 C8          					RET     Z	;
163)   8F54 FD 56 01    					LD      D,(IY-1)        ;DE = LINE NUMBER	;DE = LINE NUMBER
164)   8F57 FD 5E 02    					LD      E,(IY-2)	;
165)   8F5A ED 52       					SBC     HL,DE	;
166)   8F5C D8          					RET     C	;
167)   8F5D EB          					EX      DE,HL	;
168)   8F5E 3E 5B       					LD      A,'['           ;TRACE	;TRACE
169)   8F60 CD 97 8A    					CALL    OUTCHR	;
170)   8F63 CD 24 8B    					CALL    PBCDL	;
171)   8F66 3E 5D       					LD      A,']'	;
172)   8F68 CD 97 8A    					CALL    OUTCHR	;
173)   8F6B 3E 20       					LD      A,' '	;
174)   8F6D C3 97 8A    					JP      OUTCHR	;
180)   8F70 CD C0 A0    		CLI:			CALL    EXPRS	;
181)   8F73 3E 0D       					LD      A,CR	;
182)   8F75 12          					LD      (DE),A	;
183)   8F76 21 00 01    					LD      HL,ACCS	;
184)   8F79 CD 2E B3    					CALL    OSCLI	;
185)   8F7C 18 8D       					JR      XEQ	;
189)   8F7E FD E5       		EXT:			PUSH    IY	;
190)   8F80 E1          					POP     HL	;
191)   8F81 CD 2E B3    					CALL    OSCLI	;
192)   8F84 FD E5       		REM:			PUSH    IY	;
193)   8F86 E1          					POP     HL	;
194)   8F87 3E 0D       					LD      A,CR	;
195)   8F89 47          					LD      B,A	;
196)   8F8A ED B1       					CPIR                    ;FIND LINE END	;FIND LINE END
197)   8F8C E5          					PUSH    HL	;
198)   8F8D FD E1       					POP     IY	;
199)   8F8F C3 08 8F    					JP      XEQ0	;
203)   8F92 FE C5       		LET0:			CP      ELSE-TCMD	;
204)   8F94 28 EE       					JR      Z,REM	;
205)   8F96 FE 64       					CP      ('*'-TCMD) AND 0xFF	;
206)   8F98 28 E4       					JR      Z,EXT	;
207)   8F9A FE 77       					CP      ('='-TCMD) AND 0xFF	;
208)   8F9C 28 4C       					JR      Z,FNEND	;
209)   8F9E FE 95       					CP      ('['-TCMD) AND 0xFF	;
210)   8FA0 28 1E       					JR      Z,ASM	;
211)   8FA2 FD 2B       					DEC     IY	;
212)   8FA4 CD 6D 97    		LET:			CALL    ASSIGN	;
213)   8FA7 CA 0B 8F    					JP      Z,XEQ	;
214)   8FAA 38 36       					JR      C,SYNTAX        ;"Syntax error"	;"Syntax error"
215)   8FAC F5          					PUSH    AF              ;SAVE STRING TYPE	;SAVE STRING TYPE
216)   8FAD CD F9 98    					CALL    EQUALS	;
217)   8FB0 E5          					PUSH    HL	;
218)   8FB1 CD C0 A0    					CALL    EXPRS	;
219)   8FB4 DD E1       					POP     IX	;
220)   8FB6 F1          					POP     AF	;
221)   8FB7 CD AA 97    					CALL    STACCS	;
222)   8FBA C3 0B 8F    		XEQR:			JP      XEQ	;
224)   8FBD CD 43 8F    		ASM0:			CALL    NEWLIN	;
225)   8FC0 FD 22 F4 03 		ASM:			LD      (ERRLIN),IY	;
226)   8FC4 CD FD B2    					CALL    TRAP	;
227)   8FC7 CD EC 99    					CALL    ASSEM	;
228)   8FCA 38 16       					JR      C,SYNTAX	;
229)   8FCC FE 0D       					CP      CR	;
230)   8FCE 28 ED       					JR      Z,ASM0	;
231)   8FD0 21 FE 03    					LD      HL,LISTON	;
232)   8FD3 7E          					LD      A,(HL)	;
233)   8FD4 E6 0F       					AND     0FH	;
234)   8FD6 F6 30       					OR      30H	;
235)   8FD8 77          					LD      (HL),A	;
236)   8FD9 18 DF       					JR      XEQR	;
238)   8FDB CD 62 8B    		VAR:			CALL    GETVAR	;
239)   8FDE C8          					RET     Z	;
240)   8FDF D2 53 8B    					JP      NC,PUTVAR	;
241)   8FE2 3E 10       		@SYNTAX:		LD      A,16            ;"Syntax error"	;"Syntax error"
242)   8FE4 21          					DEFB    21H	;
243)   8FE5 3E 11       		@ESCAPE:		LD      A,17            ;"Escape"	;"Escape"
244)   8FE7 C3 FE 88    		ERROR0:			JP      ERROR	;
248)   8FEA CD A7 9F    		FNEND:			CALL    EXPR            ;FUNCTION RESULT	;FUNCTION RESULT
249)   8FED 43          					LD      B,E	;
250)   8FEE EB          					EX      DE,HL	;
251)   8FEF D9          					EXX                     ;SAVE RESULT	;SAVE RESULT
252)   8FF0 EB          					EX      DE,HL           ; IN DEB'C'D'E'	; IN DEB'C'D'E'
253)   8FF1 C1          		FNEND5:			POP     BC	;
254)   8FF2 21 C5 98    					LD      HL,LOCCHK	;
255)   8FF5 B7          					OR      A	;
256)   8FF6 ED 42       					SBC     HL,BC	;
257)   8FF8 28 19       					JR      Z,FNEND0        ;LOCAL VARIABLE	;LOCAL VARIABLE
258)   8FFA 21 43 93    					LD      HL,FNCHK	;
259)   8FFD B7          					OR      A	;
260)   8FFE ED 42       					SBC     HL,BC	;
261)   9000 3E 07       					LD      A,7	;
262)   9002 20 E3       					JR      NZ,ERROR0       ;"No FN"	;"No FN"
263)   9004 FD E1       					POP     IY	;
264)   9006 FD 22 F4 03 					LD      (ERRLIN),IY     ;IN CASE OF ERROR	;IN CASE OF ERROR
265)   900A EB          					EX      DE,HL	;
266)   900B D9          					EXX	;
267)   900C EB          					EX      DE,HL	;
268)   900D 11 00 01    					LD      DE,ACCS	;
269)   9010 58          					LD      E,B	;
270)   9011 08          					EX      AF,AF'	;
271)   9012 C9          					RET	;
273)   9013 DD E1       		FNEND0:			POP     IX	;
274)   9015 C1          					POP     BC	;
275)   9016 78          					LD      A,B	;
276)   9017 B7          					OR      A	;
277)   9018 FA 24 90    					JP      M,FNEND1        ;STRING	;STRING
278)   901B E1          					POP     HL	;
279)   901C D9          					EXX	;
280)   901D E1          					POP     HL	;
281)   901E D9          					EXX	;
282)   901F CD 81 97    					CALL    STORE	;
283)   9022 18 CD       					JR      FNEND5	;
284)   9024 21 00 00    		FNEND1:			LD      HL,0	;
285)   9027 39          					ADD     HL,SP	;
286)   9028 D5          					PUSH    DE	;
287)   9029 59          					LD      E,C	;
288)   902A CD AD 97    					CALL    STORES	;
289)   902D D1          					POP     DE	;
290)   902E F9          					LD      SP,HL	;
291)   902F 18 C0       					JR      FNEND5	;
296)   9031 CD 62 8B    		DIM:			CALL    GETVAR          ;VARIABLE	;VARIABLE
297)   9034 38 7B       					JR      C,BADDIM	;
298)   9036 CA B9 90    					JP      Z,DIM4	;
299)   9039 CD A0 8C    					CALL    CREATE	;
300)   903C E5          					PUSH    HL	;
301)   903D DD E1       					POP     IX	;
302)   903F FD 7E 00    					LD      A,(IY)	;
303)   9042 FE 28       					CP      '('	;
304)   9044 7A          					LD      A,D	;
305)   9045 20 72       					JR      NZ,DIM4	;
306)   9047 E5          					PUSH    HL	;
307)   9048 F5          					PUSH    AF              ;SAVE TYPE	;SAVE TYPE
308)   9049 11 01 00    					LD      DE,1	;
309)   904C 42          					LD      B,D             ;DIMENSION COUNTER	;DIMENSION COUNTER
310)   904D FD 23       		DIM1:			INC     IY	;
311)   904F C5          					PUSH    BC	;
312)   9050 D5          					PUSH    DE	;
313)   9051 DD E5       					PUSH    IX	;
314)   9053 CD B7 A0    					CALL    EXPRI           ;DIMENSION SIZE	;DIMENSION SIZE
315)   9056 CB 7C       					BIT     7,H	;
316)   9058 20 57       					JR      NZ,BADDIM	;
317)   905A D9          					EXX	;
318)   905B 23          					INC     HL	;
319)   905C DD E1       					POP     IX	;
320)   905E DD 23       					INC     IX	;
321)   9060 DD 75 00    					LD      (IX),L          ;SAVE SIZE	;SAVE SIZE
322)   9063 DD 23       					INC     IX	;
323)   9065 DD 74 00    					LD      (IX),H	;
324)   9068 C1          					POP     BC	;
325)   9069 CD C6 99    					CALL    MUL16           ;HL=HL*BC	;HL=HL*BC
326)   906C 38 46       					JR      C,NOROOM        ;TOO LARGE	;TOO LARGE
327)   906E EB          					EX      DE,HL           ;DE=PRODUCT	;DE=PRODUCT
328)   906F C1          					POP     BC	;
329)   9070 04          					INC     B               ;DIMENSION COUNTER	;DIMENSION COUNTER
330)   9071 FD 7E 00    					LD      A,(IY)	;
331)   9074 FE 2C       					CP      ','             ;ANOTHER	;ANOTHER
332)   9076 28 D5       					JR      Z,DIM1	;
333)   9078 CD 5F A6    					CALL    BRAKET          ;CLOSING BRACKET	;CLOSING BRACKET
334)   907B F1          					POP     AF              ;RESTORE TYPE	;RESTORE TYPE
335)   907C DD 23       					INC     IX	;
336)   907E DD E3       					EX      (SP),IX	;
337)   9080 DD 70 00    					LD      (IX),B          ;NO. OF DIMENSIONS	;NO. OF DIMENSIONS
338)   9083 CD B9 99    					CALL    X4OR5           ;DE=DE*n	;DE=DE*n
339)   9086 E1          					POP     HL	;
340)   9087 38 2B       					JR      C,NOROOM	;
341)   9089 19          		DIM3:			ADD     HL,DE	;
342)   908A 38 28       					JR      C,NOROOM	;
343)   908C E5          					PUSH    HL	;
344)   908D 24          					INC     H	;
345)   908E 28 24       					JR      Z,NOROOM	;
346)   9090 ED 72       					SBC     HL,SP	;
347)   9092 30 20       					JR      NC,NOROOM       ;OUT OF SPACE	;OUT OF SPACE
348)   9094 E1          					POP     HL	;
349)   9095 22 E2 03    					LD      (FREE),HL	;
350)   9098 7A          		DIM2:			LD      A,D	;
351)   9099 B3          					OR      E	;
352)   909A 28 06       					JR      Z,DIM5	;
353)   909C 2B          					DEC     HL	;
354)   909D 36 00       					LD      (HL),0          ;INITIALISE ARRAY	;INITIALISE ARRAY
355)   909F 1B          					DEC     DE	;
356)   90A0 18 F6       					JR      DIM2	;
357)   90A2 CD 9B A6    		DIM5:			CALL    NXT	;
358)   90A5 FE 2C       					CP      ','             ;ANOTHER VARIABLE?	;ANOTHER VARIABLE?
359)   90A7 C2 0B 8F    					JP      NZ,XEQ	;
360)   90AA FD 23       					INC     IY	;
361)   90AC CD 9B A6    					CALL    NXT	;
362)   90AF 18 80       					JR      DIM	;
364)   90B1 3E 0A       		BADDIM:			LD      A,10            ;"Bad DIM"	;"Bad DIM"
365)   90B3 21          					DEFB    21H	;
366)   90B4 3E 0B       		NOROOM:			LD      A,11            ;"DIM space"	;"DIM space"
367)   90B6 C3 FE 88    		ERROR1:			JP      ERROR	;
369)   90B9 B7          		DIM4:			OR      A	;
370)   90BA 28 F5       					JR      Z,BADDIM	;
371)   90BC FA B1 90    					JP      M,BADDIM        	;
372)   90BF 47          					LD      B,A	;
373)   90C0 FD 7E 01    					LD      A,(IY-1)	;
374)   90C3 FE 29       					CP      ')'	;
375)   90C5 78          					LD      A,B	;
376)   90C6 28 E9       					JR      Z,BADDIM	;
377)   90C8 2A E2 03    					LD      HL,(FREE)	;
378)   90CB D9          					EXX	;
379)   90CC 21 00 00    					LD      HL,0	;
380)   90CF 4C          					LD      C,H	;
381)   90D0 CD 81 97    					CALL    STORE           ;RESERVED AREA	;RESERVED AREA
382)   90D3 CD B7 A0    					CALL    EXPRI	;
383)   90D6 D9          					EXX	;
384)   90D7 23          					INC     HL	;
385)   90D8 EB          					EX      DE,HL	;
386)   90D9 2A E2 03    					LD      HL,(FREE)	;
387)   90DC 18 AB       					JR      DIM3	;
392)   90DE FE 23       		PRINT:			CP      '#'	;
393)   90E0 20 6B       					JR      NZ,PRINT0	;
394)   90E2 CD E4 99    					CALL    CHNL            ;CHANNEL NO. = E	;CHANNEL NO. = E
395)   90E5 CD 9B A6    		PRNTN1:			CALL    NXT	;
396)   90E8 FE 2C       					CP      ','	;
397)   90EA C2 0B 8F    					JP      NZ,XEQ	;
398)   90ED FD 23       					INC     IY	;
399)   90EF D5          					PUSH    DE	;
400)   90F0 CD A7 9F    					CALL    EXPR            ;ITEM TO PRINT	;ITEM TO PRINT
401)   90F3 08          					EX      AF,AF'	;
402)   90F4 FA 14 91    					JP      M,PRNTN2        ;STRING	;STRING
403)   90F7 D1          					POP     DE	;
404)   90F8 C5          					PUSH    BC	;
405)   90F9 D9          					EXX	;
406)   90FA 7D          					LD      A,L	;
407)   90FB D9          					EXX	;
408)   90FC CD AD B3    					CALL    OSBPUT	;
409)   90FF D9          					EXX	;
410)   9100 7C          					LD      A,H	;
411)   9101 D9          					EXX	;
412)   9102 CD AD B3    					CALL    OSBPUT	;
413)   9105 7D          					LD      A,L	;
414)   9106 CD AD B3    					CALL    OSBPUT	;
415)   9109 7C          					LD      A,H	;
416)   910A CD AD B3    					CALL    OSBPUT	;
417)   910D C1          					POP     BC	;
418)   910E 79          					LD      A,C	;
419)   910F CD AD B3    					CALL    OSBPUT	;
420)   9112 18 D1       					JR      PRNTN1	;
421)   9114 4B          		PRNTN2:			LD      C,E	;
422)   9115 D1          					POP     DE	;
423)   9116 21 00 01    					LD      HL,ACCS	;
424)   9119 0C          					INC     C	;
425)   911A 0D          		PRNTN3:			DEC     C	;
426)   911B 28 09       					JR      Z,PRNTN4	;
427)   911D 7E          					LD      A,(HL)	;
428)   911E 23          					INC     HL	;
429)   911F C5          					PUSH    BC	;
430)   9120 CD AD B3    					CALL    OSBPUT	;
431)   9123 C1          					POP     BC	;
432)   9124 18 F4       					JR      PRNTN3	;
433)   9126 3E 0D       		PRNTN4:			LD      A,CR	;
434)   9128 CD AD B3    					CALL    OSBPUT	;
435)   912B 18 B8       					JR      PRNTN1	;
437)   912D 06 02       		PRINT6:			LD      B,2	;
438)   912F 18 22       					JR      PRINTC	;
439)   9131 01 00 01    		PRINT8:			LD      BC,100H	;
440)   9134 18 1D       					JR      PRINTC	;
441)   9136 21 00 03    		PRINT9:			LD      HL,STAVAR	;
442)   9139 AF          					XOR     A	;
443)   913A BE          					CP      (HL)	;
444)   913B 28 10       					JR      Z,PRINT0	;
445)   913D 3A FB 03    					LD      A,(COUNT)	;
446)   9140 B7          					OR      A	;
447)   9141 28 0A       					JR      Z,PRINT0	;
448)   9143 96          		PRINTA:			SUB     (HL)	;
449)   9144 28 07       					JR      Z,PRINT0	;
450)   9146 30 FB       					JR      NC,PRINTA	;
451)   9148 ED 44       					NEG	;
452)   914A CD 4D 99    					CALL    FILL	;
453)   914D 3A 00 03    		PRINT0:			LD      A,(STAVAR)	;
454)   9150 4F          					LD      C,A             ;PRINTS	;PRINTS
455)   9151 06 00       					LD      B,0             ;PRINTF	;PRINTF
456)   9153 CD E5 98    		PRINTC:			CALL    TERM?	;
457)   9156 28 38       					JR      Z,PRINT4	;
458)   9158 CB 80       					RES     0,B	;
459)   915A FD 23       					INC     IY	;
460)   915C FE 7E       					CP      '~'	;
461)   915E 28 CD       					JR      Z,PRINT6	;
462)   9160 FE 3B       					CP      ';'	;
463)   9162 28 CD       					JR      Z,PRINT8	;
464)   9164 FE 2C       					CP      ','	;
465)   9166 28 CE       					JR      Z,PRINT9	;
466)   9168 CD 06 99    					CALL    FORMAT          ;SPC, TAB, '	;SPC, TAB, '
467)   916B 28 E6       					JR      Z,PRINTC	;
468)   916D FD 2B       					DEC     IY	;
469)   916F C5          					PUSH    BC	;
470)   9170 CD A7 9F    					CALL    EXPR            ;VARIABLE TYPE	;VARIABLE TYPE
471)   9173 08          					EX      AF,AF'	;
472)   9174 FA 8A 91    					JP      M,PRINT3        ;STRING	;STRING
473)   9177 D1          					POP     DE	;
474)   9178 D5          					PUSH    DE	;
475)   9179 CB 4A       					BIT     1,D	;
476)   917B F5          					PUSH    AF	;
477)   917C CC B9 A5    					CALL    Z,STR           ;DECIMAL	;DECIMAL
478)   917F F1          					POP     AF	;
479)   9180 C4 76 A5    					CALL    NZ,HEXSTR       ;HEX	;HEX
480)   9183 C1          					POP     BC	;
481)   9184 C5          					PUSH    BC	;
482)   9185 79          					LD      A,C	;
483)   9186 93          					SUB     E	;
484)   9187 D4 4D 99    					CALL    NC,FILL         ;RIGHT JUSTIFY	;RIGHT JUSTIFY
485)   918A C1          		PRINT3:			POP     BC	;
486)   918B CD 5B 99    					CALL    PTEXT           ;PRINT	;PRINT
487)   918E 18 C3       					JR      PRINTC	;
488)   9190 CB 40       		PRINT4:			BIT     0,B	;
489)   9192 CC 90 8A    					CALL    Z,CRLF	;
490)   9195 C3 0B 8F    					JP      XEQ	;
493)   9198 FD 23       		ONERR:			INC     IY              ;SKIP "ERROR"	;SKIP "ERROR"
494)   919A 21 00 00    					LD      HL,0	;
495)   919D 22 EC 03    					LD      (ERRTRP),HL	;
496)   91A0 CD 9B A6    					CALL    NXT	;
497)   91A3 FE 87       					CP      OFF	;
498)   91A5 FD 23       					INC     IY	;
499)   91A7 CA 0B 8F    					JP      Z,XEQ	;
500)   91AA FD 2B       					DEC     IY	;
501)   91AC FD 22 EC 03 					LD      (ERRTRP),IY	;
502)   91B0 C3 84 8F    					JP      REM	;
512)   91B3 FE 85       		ON:			CP      TERROR	;
513)   91B5 28 E1       					JR      Z,ONERR         ;"ON ERROR"	;"ON ERROR"
514)   91B7 CD B7 A0    					CALL    EXPRI	;
515)   91BA FD 7E 00    					LD      A,(IY)	;
516)   91BD FD 23       					INC     IY	;
517)   91BF 1E 2C       					LD      E,','           ;SEPARATOR	;SEPARATOR
518)   91C1 FE E5       					CP      TGOTO	;
519)   91C3 28 0B       					JR      Z,ON1	;
520)   91C5 FE E4       					CP      TGOSUB	;
521)   91C7 28 07       					JR      Z,ON1	;
522)   91C9 1E F2       					LD      E,TPROC	;
523)   91CB BB          					CP      E	;
524)   91CC 3E 27       					LD      A,39	;
525)   91CE 20 41       					JR      NZ,ERROR2       ;"ON syntax"	;"ON syntax"
526)   91D0 57          		ON1:			LD      D,A	;
527)   91D1 D9          					EXX	;
528)   91D2 E5          					PUSH    HL	;
529)   91D3 D9          					EXX	;
530)   91D4 C1          					POP     BC              ;ON INDEX	;ON INDEX
531)   91D5 78          					LD      A,B	;
532)   91D6 B4          					OR      H	;
533)   91D7 B5          					OR      L	;
534)   91D8 20 27       					JR      NZ,ON4          ;OUT OF RANGE	;OUT OF RANGE
535)   91DA B1          					OR      C	;
536)   91DB 28 24       					JR      Z,ON4	;
537)   91DD 0D          					DEC     C	;
538)   91DE 28 0D       					JR      Z,ON3           ;INDEX=1	;INDEX=1
539)   91E0 CD E5 98    		ON2:			CALL    TERM?	;
540)   91E3 28 1C       					JR      Z,ON4           ;OUT OF RANGE	;OUT OF RANGE
541)   91E5 FD 23       					INC     IY              ;SKIP DELIMITER	;SKIP DELIMITER
542)   91E7 BB          					CP      E	;
543)   91E8 20 F6       					JR      NZ,ON2	;
544)   91EA 0D          					DEC     C	;
545)   91EB 20 F3       					JR      NZ,ON2	;
546)   91ED 7B          		ON3:			LD      A,E	;
547)   91EE FE F2       					CP      TPROC	;
548)   91F0 28 22       					JR      Z,ONPROC	;
549)   91F2 D5          					PUSH    DE	;
550)   91F3 CD CE A0    					CALL    ITEMI           ;LINE NUMBER	;LINE NUMBER
551)   91F6 D1          					POP     DE	;
552)   91F7 7A          					LD      A,D	;
553)   91F8 FE E5       					CP      TGOTO	;
554)   91FA 28 26       					JR      Z,GOTO2	;
555)   91FC CD F1 98    					CALL    SPAN            ;SKIP REST OF LIST	;SKIP REST OF LIST
556)   91FF 18 32       					JR      GOSUB1	;
558)   9201 FD 7E 00    		ON4:			LD      A,(IY)	;
559)   9204 FD 23       					INC     IY	;
560)   9206 FE 8B       					CP      ELSE	;
561)   9208 CA AD 95    					JP      Z,IF1           ;ELSE CLAUSE	;ELSE CLAUSE
562)   920B FE 0D       					CP      CR	;
563)   920D 20 F2       					JR      NZ,ON4	;
564)   920F 3E 28       					LD      A,40	;
565)   9211 C3 FE 88    		ERROR2:			JP      ERROR           ;"ON range"	;"ON range"
567)   9214 3E EE       		ONPROC:			LD      A,TON	;
568)   9216 C3 43 93    					JP      PROC	;
572)   9219 CD CE A0    		GOTO:			CALL    ITEMI           ;LINE NUMBER	;LINE NUMBER
573)   921C CD E5 98    		GOTO1:			CALL    TERM?	;
574)   921F C2 E2 8F    					JP      NZ,SYNTAX	;
575)   9222 D9          		GOTO2:			EXX	;
576)   9223 CD CE 8A    					CALL    FINDL	;
577)   9226 E5          					PUSH    HL	;
578)   9227 FD E1       					POP     IY	;
579)   9229 CA 08 8F    					JP      Z,XEQ0	;
580)   922C 3E 29       					LD      A,41	;
581)   922E 18 E1       					JR      ERROR2          ;"No such line"	;"No such line"
585)   9230 CD CE A0    		GOSUB:			CALL    ITEMI           ;LINE NUMBER	;LINE NUMBER
586)   9233 FD E5       		GOSUB1:			PUSH    IY              ;TEXT POINTER	;TEXT POINTER
587)   9235 CD E2 97    					CALL    CHECK           ;CHECK ROOM	;CHECK ROOM
588)   9238 CD 1C 92    					CALL    GOTO1           ;SAVE MARKER	;SAVE MARKER
593)   923B D1          		RETURN:			POP     DE              ;MARKER	;MARKER
594)   923C 21 3B 92    					LD      HL,GOSCHK	;
595)   923F B7          					OR      A	;
596)   9240 ED 52       					SBC     HL,DE	;
597)   9242 FD E1       					POP     IY	;
598)   9244 CA 0B 8F    					JP      Z,XEQ	;
599)   9247 3E 26       					LD      A,38	;
600)   9249 18 C6       					JR      ERROR2          ;"No GOSUB"	;"No GOSUB"
604)   924B FD E5       		REPEAT:			PUSH    IY	;
605)   924D CD E2 97    					CALL    CHECK	;
606)   9250 CD 0B 8F    					CALL    XEQ	;
611)   9253 C1          		UNTIL:			POP     BC	;
612)   9254 C5          					PUSH    BC	;
613)   9255 21 53 92    					LD      HL,REPCHK	;
614)   9258 B7          					OR      A	;
615)   9259 ED 42       					SBC     HL,BC	;
616)   925B 3E 2B       					LD      A,43	;
617)   925D 20 B2       					JR      NZ,ERROR2       ;"No REPEAT"	;"No REPEAT"
618)   925F CD B7 A0    					CALL    EXPRI	;
619)   9262 CD 42 A5    					CALL    TEST	;
620)   9265 C1          					POP     BC	;
621)   9266 D1          					POP     DE	;
622)   9267 20 05       					JR      NZ,XEQ2         ;TRUE	;TRUE
623)   9269 D5          					PUSH    DE	;
624)   926A C5          					PUSH    BC	;
625)   926B D5          					PUSH    DE	;
626)   926C FD E1       					POP     IY	;
627)   926E C3 0B 8F    		XEQ2:			JP      XEQ	;
631)   9271 3E 22       		FORVAR:			LD      A,34	;
632)   9273 18 9C       					JR      ERROR2          ;"FOR variable"	;"FOR variable"
634)   9275 CD 6D 97    		FOR:			CALL    ASSIGN	;
635)   9278 20 F7       					JR      NZ,FORVAR       ;"FOR variable"	;"FOR variable"
636)   927A F5          					PUSH    AF              ;SAVE TYPE	;SAVE TYPE
637)   927B FD 7E 00    					LD      A,(IY)	;
638)   927E FE B8       					CP      TO	;
639)   9280 3E 24       					LD      A,36	;
640)   9282 20 8D       					JR      NZ,ERROR2       ;"No TO"	;"No TO"
641)   9284 FD 23       					INC     IY	;
642)   9286 DD E5       					PUSH    IX	;
643)   9288 CD B0 A0    					CALL    EXPRN           ;LIMIT	;LIMIT
644)   928B DD E1       					POP     IX	;
645)   928D F1          					POP     AF	;
646)   928E 47          					LD      B,A             ;TYPE	;TYPE
647)   928F C5          					PUSH    BC              ;SAVE ON STACK	;SAVE ON STACK
648)   9290 E5          					PUSH    HL	;
649)   9291 21 00 00    					LD      HL,0	;
650)   9294 4C          					LD      C,H	;
651)   9295 D9          					EXX	;
652)   9296 E5          					PUSH    HL	;
653)   9297 21 01 00    					LD      HL,1            ;PRESET STEP	;PRESET STEP
654)   929A D9          					EXX	;
655)   929B FD 7E 00    					LD      A,(IY)	;
656)   929E FE 88       					CP      STEP	;
657)   92A0 20 09       					JR      NZ,FOR1	;
658)   92A2 FD 23       					INC     IY	;
659)   92A4 DD E5       					PUSH    IX	;
660)   92A6 CD B0 A0    					CALL    EXPRN           ;STEP	;STEP
661)   92A9 DD E1       					POP     IX	;
662)   92AB C5          		FOR1:			PUSH    BC	;
663)   92AC E5          					PUSH    HL	;
664)   92AD D9          					EXX	;
665)   92AE E5          					PUSH    HL	;
666)   92AF D9          					EXX	;
667)   92B0 FD E5       					PUSH    IY              ;SAVE TEXT POINTER	;SAVE TEXT POINTER
668)   92B2 DD E5       					PUSH    IX              ;LOOP VARIABLE	;LOOP VARIABLE
669)   92B4 CD E2 97    					CALL    CHECK	;
670)   92B7 CD 0B 8F    					CALL    XEQ	;
675)   92BA C1          		NEXT:			POP     BC              ;MARKER	;MARKER
676)   92BB 21 BA 92    					LD      HL,FORCHK	;
677)   92BE B7          					OR      A	;
678)   92BF ED 42       					SBC     HL,BC	;
679)   92C1 3E 20       					LD      A,32	;
680)   92C3 20 77       					JR      NZ,ERROR3       ;"No FOR"	;"No FOR"
681)   92C5 CD E5 98    					CALL    TERM?	;
682)   92C8 E1          					POP     HL	;
683)   92C9 E5          					PUSH    HL	;
684)   92CA C5          					PUSH    BC	;
685)   92CB E5          					PUSH    HL	;
686)   92CC C4 62 8B    					CALL    NZ,GETVAR       ;VARIABLE	;VARIABLE
687)   92CF D1          					POP     DE	;
688)   92D0 EB          					EX      DE,HL	;
689)   92D1 B7          					OR      A	;
690)   92D2 ED 52       		NEXT0:			SBC     HL,DE	;
691)   92D4 20 54       					JR      NZ,NEXT1	;
692)   92D6 D5          					PUSH    DE	;
693)   92D7 DD 21 08 00 					LD      IX,6+2	;
694)   92DB DD 39       					ADD     IX,SP	;
695)   92DD CD E8 A1    					CALL    DLOAD5          ;STEP	;STEP
696)   92E0 DD 7E 0B    					LD      A,(IX+11)       ;TYPE	;TYPE
697)   92E3 DD E1       					POP     IX	;
698)   92E5 CD 70 A1    					CALL    LOADN           ;LOOP VARIABLE	;LOOP VARIABLE
699)   92E8 CB 7A       					BIT     7,D             ;SIGN?	;SIGN?
700)   92EA F5          					PUSH    AF	;
701)   92EB 3E 0B       					LD      A,'+' AND 0FH	;
702)   92ED CD BF A6    					CALL    FPP             ;ADD STEP	;ADD STEP
703)   92F0 38 4A       					JR      C,ERROR3	;
704)   92F2 F1          					POP     AF              ;RESTORE TYPE	;RESTORE TYPE
705)   92F3 F5          					PUSH    AF	;
706)   92F4 CD 81 97    					CALL    STORE           ;UPDATE VARIABLE	;UPDATE VARIABLE
707)   92F7 DD 21 0E 00 					LD      IX,12+2	;
708)   92FB DD 39       					ADD     IX,SP	;
709)   92FD CD E8 A1    					CALL    DLOAD5          ;LIMIT	;LIMIT
710)   9300 F1          					POP     AF	;
711)   9301 CC 3A A5    					CALL    Z,SWAP	;
712)   9304 3E 08       					LD      A,0+('<'-4) AND 0FH	;
713)   9306 CD BF A6    					CALL    FPP             ;TEST AGAINST LIMIT	;TEST AGAINST LIMIT
714)   9309 38 31       					JR      C,ERROR3	;
715)   930B 24          					INC     H	;
716)   930C 20 11       					JR      NZ,LOOP         ;KEEP LOOPING	;KEEP LOOPING
717)   930E 21 12 00    					LD      HL,18	;
718)   9311 39          					ADD     HL,SP	;
719)   9312 F9          					LD      SP,HL	;
720)   9313 CD 9B A6    					CALL    NXT	;
721)   9316 FE 2C       					CP      ','	;
722)   9318 C2 0B 8F    					JP      NZ,XEQ	;
723)   931B FD 23       					INC     IY	;
724)   931D 18 9B       					JR      NEXT	;
726)   931F C1          		LOOP:			POP     BC	;
727)   9320 D1          					POP     DE	;
728)   9321 FD E1       					POP     IY	;
729)   9323 FD E5       					PUSH    IY	;
730)   9325 D5          					PUSH    DE	;
731)   9326 C5          					PUSH    BC	;
732)   9327 C3 0B 8F    					JP      XEQ	;
734)   932A 21 12 00    		NEXT1:			LD      HL,18	;
735)   932D 39          					ADD     HL,SP	;
736)   932E F9          					LD      SP,HL           ;"POP" THE STACK	;"POP" THE STACK
737)   932F C1          					POP     BC	;
738)   9330 21 BA 92    					LD      HL,FORCHK	;
739)   9333 ED 42       					SBC     HL,BC	;
740)   9335 E1          					POP     HL              ;VARIABLE POINTER	;VARIABLE POINTER
741)   9336 E5          					PUSH    HL	;
742)   9337 C5          					PUSH    BC	;
743)   9338 28 98       					JR      Z,NEXT0	;
744)   933A 3E 21       					LD      A,33	;
745)   933C C3 FE 88    		ERROR3:			JP      ERROR           ;"Can't match FOR"	;"Can't match FOR"
750)   933F F5          		@FN:			PUSH    AF              ;MAKE SPACE ON STACK	;MAKE SPACE ON STACK
751)   9340 CD 47 93    					CALL    PROC1	;
757)   9343 F5          		PROC:			PUSH    AF              ;MAKE SPACE ON STACK	;MAKE SPACE ON STACK
758)   9344 CD 47 93    					CALL    PROC1	;
760)   9347 CD E2 97    		PROC1::			CALL    CHECK	;
761)   934A FD 2B       					DEC     IY	;
762)   934C FD E5       					PUSH    IY	;
763)   934E CD FE 8B    					CALL    GETDEF	;
764)   9351 C1          					POP     BC	;
765)   9352 28 39       					JR      Z,PROC4	;
766)   9354 3E 1E       					LD      A,30	;
767)   9356 38 E4       					JR      C,ERROR3        ;"Bad call"	;"Bad call"
768)   9358 C5          					PUSH    BC	;
769)   9359 2A DC 03    					LD      HL,(PAGE)	;
770)   935C 3E DD       		PROC2:			LD      A,DEF	;
771)   935E CD A3 99    					CALL    SEARCH          ;LOOK FOR "DEF"	;LOOK FOR "DEF"
772)   9361 38 21       					JR      C,PROC3	;
773)   9363 E5          					PUSH    HL	;
774)   9364 FD E1       					POP     IY	;
775)   9366 FD 23       					INC     IY              ;SKIP DEF	;SKIP DEF
776)   9368 CD 9B A6    					CALL    NXT	;
777)   936B CD FE 8B    					CALL    GETDEF	;
778)   936E FD E5       					PUSH    IY	;
779)   9370 D1          					POP     DE	;
780)   9371 38 09       					JR      C,PROC6	;
781)   9373 C4 A0 8C    					CALL    NZ,CREATE	;
782)   9376 FD E5       					PUSH    IY	;
783)   9378 D1          					POP     DE	;
784)   9379 73          					LD      (HL),E	;
785)   937A 23          					INC     HL	;
786)   937B 72          					LD      (HL),D          ;SAVE ADDRESS	;SAVE ADDRESS
787)   937C EB          		PROC6:			EX      DE,HL	;
788)   937D 3E 0D       					LD      A,CR	;
789)   937F 47          					LD      B,A	;
790)   9380 ED B1       					CPIR                    ;SKIP TO END OF LINE	;SKIP TO END OF LINE
791)   9382 18 D8       					JR      PROC2	;
792)   9384 FD E1       		PROC3:			POP     IY              ;RESTORE TEXT POINTER	;RESTORE TEXT POINTER
793)   9386 CD FE 8B    					CALL    GETDEF	;
794)   9389 3E 1D       					LD      A,29	;
795)   938B 20 AF       					JR      NZ,ERROR3       ;"No such FN/PROC"	;"No such FN/PROC"
796)   938D 5E          		PROC4:			LD      E,(HL)	;
797)   938E 23          					INC     HL	;
798)   938F 56          					LD      D,(HL)          ;GET ADDRESS	;GET ADDRESS
799)   9390 21 02 00    					LD      HL,2	;
800)   9393 39          					ADD     HL,SP	;
801)   9394 CD 9B A6    					CALL    NXT             ;ALLOW SPACE BEFORE (	;ALLOW SPACE BEFORE (
802)   9397 D5          					PUSH    DE              ;EXCHANGE DE,IY	;EXCHANGE DE,IY
803)   9398 FD E3       					EX      (SP),IY	;
804)   939A D1          					POP     DE	;
805)   939B FE 28       					CP      '('             ;ARGUMENTS?	;ARGUMENTS?
806)   939D 20 1B       					JR      NZ,PROC5	;
807)   939F CD 9B A6    					CALL    NXT             ;ALLOW SPACE BEFORE (	;ALLOW SPACE BEFORE (
808)   93A2 FE 28       					CP      '('	;
809)   93A4 C2 E2 8F    					JP      NZ,SYNTAX       ;"Syntax error"	;"Syntax error"
810)   93A7 FD E5       					PUSH    IY	;
811)   93A9 C1          					POP     BC              ;SAVE IY IN BC	;SAVE IY IN BC
812)   93AA D9          					EXX	;
813)   93AB CD 73 98    					CALL    SAVLOC          ;SAVE DUMMY VARIABLES	;SAVE DUMMY VARIABLES
814)   93AE CD 5F A6    					CALL    BRAKET          ;CLOSING BRACKET	;CLOSING BRACKET
815)   93B1 D9          					EXX	;
816)   93B2 C5          					PUSH    BC	;
817)   93B3 FD E1       					POP     IY              ;RESTORE IY	;RESTORE IY
818)   93B5 E5          					PUSH    HL	;
819)   93B6 CD FE 97    					CALL    ARGUE           ;TRANSFER ARGUMENTS	;TRANSFER ARGUMENTS
820)   93B9 E1          					POP     HL	;
821)   93BA 73          		PROC5:			LD      (HL),E          ;SAVE "RETURN ADDRESS"	;SAVE "RETURN ADDRESS"
822)   93BB 23          					INC     HL	;
823)   93BC 7E          					LD      A,(HL)	;
824)   93BD 72          					LD      (HL),D	;
825)   93BE FE EE       					CP      TON             ;WAS IT "ON PROC" ?	;WAS IT "ON PROC" ?
826)   93C0 C2 0B 8F    					JP      NZ,XEQ	;
827)   93C3 D5          					PUSH    DE	;
828)   93C4 FD E3       					EX      (SP),IY	;
829)   93C6 CD F1 98    					CALL    SPAN            ;SKIP REST OF ON LIST	;SKIP REST OF ON LIST
830)   93C9 FD E3       					EX      (SP),IY	;
831)   93CB D1          					POP     DE	;
832)   93CC 72          					LD      (HL),D	;
833)   93CD 2B          					DEC     HL	;
834)   93CE 73          					LD      (HL),E	;
835)   93CF C3 0B 8F    					JP      XEQ	;
839)   93D2 C1          		LOCAL:			POP     BC	;
840)   93D3 C5          					PUSH    BC	;
841)   93D4 21 43 93    					LD      HL,FNCHK	;
842)   93D7 B7          					OR      A	;
843)   93D8 ED 42       					SBC     HL,BC	;
844)   93DA 28 13       					JR      Z,LOCAL1	;
845)   93DC 21 47 93    					LD      HL,PROCHK	;
846)   93DF B7          					OR      A	;
847)   93E0 ED 42       					SBC     HL,BC	;
848)   93E2 28 0B       					JR      Z,LOCAL1	;
849)   93E4 21 C5 98    					LD      HL,LOCCHK	;
850)   93E7 B7          					OR      A	;
851)   93E8 ED 42       					SBC     HL,BC	;
852)   93EA 3E 0C       					LD      A,12	;
853)   93EC C2 FE 88    					JP      NZ,ERROR        ;"Not LOCAL"	;"Not LOCAL"
854)   93EF FD E5       		LOCAL1:			PUSH    IY	;
855)   93F1 C1          					POP     BC	;
856)   93F2 D9          					EXX	;
857)   93F3 FD 2B       					DEC     IY	;
858)   93F5 CD 73 98    					CALL    SAVLOC	;
859)   93F8 D9          					EXX	;
860)   93F9 C5          					PUSH    BC	;
861)   93FA FD E1       					POP     IY	;
862)   93FC CD 62 8B    		LOCAL2:			CALL    GETVAR	;
863)   93FF C2 E2 8F    					JP      NZ,SYNTAX	;
864)   9402 B7          					OR      A               ;TYPE	;TYPE
865)   9403 08          					EX      AF,AF'	;
866)   9404 CD E1 A5    					CALL    ZERO	;
867)   9407 08          					EX      AF,AF'	;
868)   9408 F5          					PUSH    AF	;
869)   9409 F4 81 97    					CALL    P,STORE         ;ZERO	;ZERO
870)   940C F1          					POP     AF	;
871)   940D 59          					LD      E,C	;
872)   940E FC AD 97    					CALL    M,STORES	;
873)   9411 CD 9B A6    					CALL    NXT	;
874)   9414 FE 2C       					CP      ','	;
875)   9416 C2 0B 8F    					JP      NZ,XEQ	;
876)   9419 FD 23       					INC     IY	;
877)   941B CD 9B A6    					CALL    NXT	;
878)   941E 18 DC       					JR      LOCAL2	;
882)   9420 C1          		ENDPRO:			POP     BC	;
883)   9421 21 C5 98    					LD      HL,LOCCHK	;
884)   9424 B7          					OR      A	;
885)   9425 ED 42       					SBC     HL,BC	;
886)   9427 28 10       					JR      Z,UNSTK         ;LOCAL VARIABLE	;LOCAL VARIABLE
887)   9429 21 47 93    					LD      HL,PROCHK       ;PROC MARKER	;PROC MARKER
888)   942C B7          					OR      A	;
889)   942D ED 42       					SBC     HL,BC	;
890)   942F FD E1       					POP     IY	;
891)   9431 CA 0B 8F    					JP      Z,XEQ	;
892)   9434 3E 0D       					LD      A,13	;
893)   9436 C3 FE 88    					JP      ERROR           ;"No PROC"	;"No PROC"
895)   9439 DD E1       		UNSTK:			POP     IX	;
896)   943B C1          					POP     BC	;
897)   943C 78          					LD      A,B	;
898)   943D B7          					OR      A	;
899)   943E FA 4A 94    					JP      M,UNSTK1        ;STRING	;STRING
900)   9441 E1          					POP     HL	;
901)   9442 D9          					EXX	;
902)   9443 E1          					POP     HL	;
903)   9444 D9          					EXX	;
904)   9445 CD 81 97    					CALL    STORE	;
905)   9448 18 D6       					JR      ENDPRO	;
906)   944A 21 00 00    		UNSTK1:			LD      HL,0	;
907)   944D 39          					ADD     HL,SP	;
908)   944E 59          					LD      E,C	;
909)   944F CD AD 97    					CALL    STORES	;
910)   9452 F9          					LD      SP,HL	;
911)   9453 18 CB       					JR      ENDPRO	;
915)   9455 CD E4 99    		INPUTN:			CALL    CHNL            ;E = CHANNEL NUMBER	;E = CHANNEL NUMBER
916)   9458 CD 9B A6    		INPN1:			CALL    NXT	;
917)   945B FE 2C       					CP      ','	;
918)   945D C2 0B 8F    					JP      NZ,XEQ	;
919)   9460 FD 23       					INC     IY	;
920)   9462 CD 9B A6    					CALL    NXT	;
921)   9465 D5          					PUSH    DE	;
922)   9466 CD DB 8F    					CALL    VAR	;
923)   9469 D1          					POP     DE	;
924)   946A F5          					PUSH    AF              ;SAVE TYPE	;SAVE TYPE
925)   946B E5          					PUSH    HL              ;VARPTR	;VARPTR
926)   946C B7          					OR      A	;
927)   946D FA 92 94    					JP      M,INPN2         ;STRING	;STRING
928)   9470 CD AD B3    					CALL    OSBGET	;
929)   9473 D9          					EXX	;
930)   9474 6F          					LD      L,A	;
931)   9475 D9          					EXX	;
932)   9476 CD AD B3    					CALL    OSBGET	;
933)   9479 D9          					EXX	;
934)   947A 67          					LD      H,A	;
935)   947B D9          					EXX	;
936)   947C CD AD B3    					CALL    OSBGET	;
937)   947F 6F          					LD      L,A	;
938)   9480 CD AD B3    					CALL    OSBGET	;
939)   9483 67          					LD      H,A	;
940)   9484 CD AD B3    					CALL    OSBGET	;
941)   9487 4F          					LD      C,A	;
942)   9488 DD E1       					POP     IX	;
943)   948A F1          					POP     AF              ;RESTORE TYPE	;RESTORE TYPE
944)   948B D5          					PUSH    DE              ;SAVE CHANNEL	;SAVE CHANNEL
945)   948C CD 81 97    					CALL    STORE	;
946)   948F D1          					POP     DE	;
947)   9490 18 C6       					JR      INPN1	;
948)   9492 21 00 01    		INPN2:			LD      HL,ACCS	;
949)   9495 CD AD B3    		INPN3:			CALL    OSBGET	;
950)   9498 FE 0D       					CP      CR	;
951)   949A 28 04       					JR      Z,INPN4	;
952)   949C 77          					LD      (HL),A	;
953)   949D 2C          					INC     L	;
954)   949E 20 F5       					JR      NZ,INPN3	;
955)   94A0 DD E1       		INPN4:			POP     IX	;
956)   94A2 F1          					POP     AF	;
957)   94A3 D5          					PUSH    DE	;
958)   94A4 EB          					EX      DE,HL	;
959)   94A5 CD AA 97    					CALL    STACCS	;
960)   94A8 D1          					POP     DE	;
961)   94A9 18 AD       					JR      INPN1	;
966)   94AB FE 23       		INPUT:			CP      '#'	;
967)   94AD 28 A6       					JR      Z,INPUTN	;
968)   94AF 0E 00       					LD      C,0             ;FLAG PROMPT	;FLAG PROMPT
969)   94B1 FE 86       					CP      LINE	;
970)   94B3 20 04       					JR      NZ,INPUT0	;
971)   94B5 FD 23       					INC     IY              ;SKIP "LINE"	;SKIP "LINE"
972)   94B7 0E 80       					LD      C,80H	;
973)   94B9 21 00 02    		INPUT0:			LD      HL,BUFFER	;
974)   94BC 36 0D       					LD      (HL),CR         ;INITIALISE EMPTY	;INITIALISE EMPTY
975)   94BE CD E5 98    		INPUT1:			CALL    TERM?	;
976)   94C1 CA 0B 8F    					JP      Z,XEQ           ;DONE	;DONE
977)   94C4 FD 23       					INC     IY	;
978)   94C6 FE 2C       					CP      ','	;
979)   94C8 28 51       					JR      Z,INPUT3        ;SKIP COMMA	;SKIP COMMA
980)   94CA FE 3B       					CP      ';'	;
981)   94CC 28 4D       					JR      Z,INPUT3	;
982)   94CE E5          					PUSH    HL              ;SAVE BUFFER POINTER	;SAVE BUFFER POINTER
983)   94CF FE 22       					CP      34		;ASCII ""	;ASCII ""
984)   94D1 20 0A       					JR      NZ,INPUT6	;
985)   94D3 C5          					PUSH    BC	;
986)   94D4 CD B2 A1    					CALL    CONS	;
987)   94D7 C1          					POP     BC	;
988)   94D8 CD 5B 99    					CALL    PTEXT           ;PRINT PROMPT	;PRINT PROMPT
989)   94DB 18 05       					JR      INPUT9	;
990)   94DD CD 06 99    		INPUT6:			CALL    FORMAT          ;SPC, TAB, '	;SPC, TAB, '
991)   94E0 20 05       					JR      NZ,INPUT2	;
992)   94E2 E1          		INPUT9:			POP     HL	;
993)   94E3 CB C1       					SET     0,C             ;FLAG NO PROMPT	;FLAG NO PROMPT
994)   94E5 18 D2       					JR      INPUT0	;
995)   94E7 FD 2B       		INPUT2:			DEC     IY	;
996)   94E9 C5          					PUSH    BC	;
997)   94EA CD DB 8F    					CALL    VAR	;
998)   94ED C1          					POP     BC	;
999)   94EE E1          					POP     HL	;
1000)   94EF F5          					PUSH    AF              ;SAVE TYPE	;SAVE TYPE
1001)   94F0 7E          					LD      A,(HL)	;
1002)   94F1 23          					INC     HL	;
1003)   94F2 FE 0D       					CP      CR              ;BUFFER EMPTY?	;BUFFER EMPTY?
1004)   94F4 CC 1F 95    					CALL    Z,REFILL	;
1005)   94F7 CB 79       					BIT     7,C	;
1006)   94F9 F5          					PUSH    AF	;
1007)   94FA C4 79 99    					CALL    NZ,LINES	;
1008)   94FD F1          					POP     AF	;
1009)   94FE CC 68 99    					CALL    Z,FETCHS	;
1010)   9501 F1          					POP     AF              ;RESTORE TYPE	;RESTORE TYPE
1011)   9502 C5          					PUSH    BC	;
1012)   9503 E5          					PUSH    HL	;
1013)   9504 B7          					OR      A	;
1014)   9505 FA 16 95    					JP      M,INPUT4        ;STRING	;STRING
1015)   9508 F5          					PUSH    AF	;
1016)   9509 DD E5       					PUSH    IX	;
1017)   950B CD 69 A3    					CALL    VAL0	;
1018)   950E DD E1       					POP     IX	;
1019)   9510 F1          					POP     AF	;
1020)   9511 CD 81 97    					CALL    STORE	;
1021)   9514 18 03       					JR      INPUT5	;
1022)   9516 CD AA 97    		INPUT4:			CALL    STACCS	;
1023)   9519 E1          		INPUT5:			POP     HL	;
1024)   951A C1          					POP     BC	;
1025)   951B CB 81       		INPUT3:			RES     0,C	;
1026)   951D 18 9F       					JR      INPUT1	;
1028)   951F CB 41       		REFILL:			BIT     0,C	;
1029)   9521 20 0A       					JR      NZ,REFIL0       ;NO PROMPT	;NO PROMPT
1030)   9523 3E 3F       					LD      A,'?'	;
1031)   9525 CD 97 8A    					CALL    OUTCHR          ;PROMPT	;PROMPT
1032)   9528 3E 20       					LD      A,' '	;
1033)   952A CD 97 8A    					CALL    OUTCHR	;
1034)   952D 21 00 02    		REFIL0:			LD      HL,BUFFER	;
1035)   9530 C5          					PUSH    BC	;
1036)   9531 E5          					PUSH    HL	;
1037)   9532 DD E5       					PUSH    IX	;
1038)   9534 CD 16 B3    					CALL    OSLINE	;
1039)   9537 DD E1       					POP     IX	;
1040)   9539 E1          					POP     HL	;
1041)   953A C1          					POP     BC	;
1042)   953B 47          					LD      B,A             ;POS AT ENTRY	;POS AT ENTRY
1043)   953C AF          					XOR     A	;
1044)   953D 32 FB 03    					LD      (COUNT),A	;
1045)   9540 B8          					CP      B	;
1046)   9541 C8          					RET     Z	;
1047)   9542 7E          		REFIL1:			LD      A,(HL)	;
1048)   9543 FE 0D       					CP      CR	;
1049)   9545 C8          					RET     Z	;
1050)   9546 23          					INC     HL	;
1051)   9547 10 F9       					DJNZ    REFIL1	;
1052)   9549 C9          					RET	;
1056)   954A FE 23       		READ:			CP      '#'	;
1057)   954C CA 55 94    					JP      Z,INPUTN	;
1058)   954F 2A F0 03    					LD      HL,(DATPTR)	;
1059)   9552 7E          		READ0:			LD      A,(HL)	;
1060)   9553 23          					INC     HL              ;SKIP COMMA OR "DATA"	;SKIP COMMA OR "DATA"
1061)   9554 FE 0D       					CP      CR              ;END OF DATA STMT?	;END OF DATA STMT?
1062)   9556 CC 8F 95    					CALL    Z,GETDAT	;
1063)   9559 E5          					PUSH    HL	;
1064)   955A CD DB 8F    					CALL    VAR	;
1065)   955D E1          					POP     HL	;
1066)   955E B7          					OR      A	;
1067)   955F FA 75 95    					JP      M,READ1         ;STRING	;STRING
1068)   9562 E5          					PUSH    HL	;
1069)   9563 FD E3       					EX      (SP),IY	;
1070)   9565 F5          					PUSH    AF              ;SAVE TYPE	;SAVE TYPE
1071)   9566 DD E5       					PUSH    IX	;
1072)   9568 CD B0 A0    					CALL    EXPRN	;
1073)   956B DD E1       					POP     IX	;
1074)   956D F1          					POP     AF	;
1075)   956E CD 81 97    					CALL    STORE	;
1076)   9571 FD E3       					EX      (SP),IY	;
1077)   9573 18 07       					JR      READ2	;
1078)   9575 CD 68 99    		READ1:			CALL    FETCHS	;
1079)   9578 E5          					PUSH    HL	;
1080)   9579 CD AA 97    					CALL    STACCS	;
1081)   957C E1          		READ2:			POP     HL	;
1082)   957D 22 F0 03    					LD      (DATPTR),HL	;
1083)   9580 CD 9B A6    					CALL    NXT	;
1084)   9583 FE 2C       					CP      ','	;
1085)   9585 C2 0B 8F    					JP      NZ,XEQ	;
1086)   9588 FD 23       					INC     IY	;
1087)   958A CD 9B A6    					CALL    NXT	;
1088)   958D 18 C3       					JR      READ0	;
1090)   958F 3E DC       		GETDAT:			LD      A,DATA	;
1091)   9591 CD A3 99    					CALL    SEARCH	;
1092)   9594 23          					INC     HL	;
1093)   9595 D0          					RET     NC	;
1094)   9596 3E 2A       					LD      A,42	;
1095)   9598 C3 FE 88    		ERROR4:			JP      ERROR           ;"Out of DATA"	;"Out of DATA"
1101)   959B CD B7 A0    		IF:			CALL    EXPRI	;
1102)   959E CD 42 A5    					CALL    TEST	;
1103)   95A1 28 15       					JR      Z,IFNOT         ;FALSE	;FALSE
1104)   95A3 FD 7E 00    					LD      A,(IY)	;
1105)   95A6 FE 8C       					CP      THEN	;
1106)   95A8 C2 0B 8F    					JP      NZ,XEQ	;
1107)   95AB FD 23       					INC     IY              ;SKIP "THEN"	;SKIP "THEN"
1108)   95AD CD 9B A6    		IF1:			CALL    NXT	;
1109)   95B0 FE 8D       					CP      LINO	;
1110)   95B2 C2 0B 8F    					JP      NZ,XEQ          ;STATEMENT FOLLOWS	;STATEMENT FOLLOWS
1111)   95B5 C3 19 92    					JP      GOTO            ;LINE NO. FOLLOWS	;LINE NO. FOLLOWS
1112)   95B8 FD 7E 00    		IFNOT:			LD      A,(IY)	;
1113)   95BB FE 0D       					CP      CR	;
1114)   95BD FD 23       					INC     IY	;
1115)   95BF CA 08 8F    					JP      Z,XEQ0          ;END OF LINE	;END OF LINE
1116)   95C2 FE 8B       					CP      ELSE	;
1117)   95C4 20 F2       					JR      NZ,IFNOT	;
1118)   95C6 18 E5       					JR      IF1	;
1122)   95C8 CD C3 B2    		CLS:			CALL    CLRSCN	;
1123)   95CB AF          					XOR     A	;
1124)   95CC 32 FB 03    					LD      (COUNT),A	;
1125)   95CF C3 0B 8F    					JP      XEQ	;
1129)   95D2 CD 4E 8E    		STOP:			CALL    TELL	;
1130)   95D5 0D          					DEFB    CR	;
1131)   95D6 0A          					DEFB    LF	;
1132)   95D7 FA          					DEFB    TSTOP	;
1133)   95D8 00          					DEFB    0	;
1134)   95D9 CD E7 8A    					CALL    SETLIN          ;FIND CURRENT LINE	;FIND CURRENT LINE
1135)   95DC CD 11 8B    					CALL    SAYLN	;
1136)   95DF CD 90 8A    					CALL    CRLF	;
1137)   95E2 C3 92 82    					JP      CLOOP	;
1141)   95E5 CD 42 8E    		REPOR:			CALL    REPORT	;
1142)   95E8 C3 0B 8F    					JP      XEQ	;
1146)   95EB CD EF 89    		CLR:			CALL    CLEAR	;
1147)   95EE 2A DC 03    					LD      HL,(PAGE)	;
1148)   95F1 18 13       					JR      RESTR1	;
1152)   95F3 2A DC 03    		RESTOR:			LD      HL,(PAGE)	;
1153)   95F6 CD E5 98    					CALL    TERM?	;
1154)   95F9 28 0B       					JR      Z,RESTR1	;
1155)   95FB CD CE A0    					CALL    ITEMI	;
1156)   95FE D9          					EXX	;
1157)   95FF CD CE 8A    					CALL    FINDL           ;SEARCH FOR LINE	;SEARCH FOR LINE
1158)   9602 3E 29       					LD      A,41	;
1159)   9604 20 92       					JR      NZ,ERROR4       ;"No such line"	;"No such line"
1160)   9606 3E DC       		RESTR1:			LD      A,DATA	;
1161)   9608 CD A3 99    					CALL    SEARCH	;
1162)   960B 22 F0 03    					LD      (DATPTR),HL	;
1163)   960E C3 0B 8F    					JP      XEQ	;
1171)   9611 CD DA 99    		PTR:			CALL    CHANEL	;
1172)   9614 CD F9 98    					CALL    EQUALS	;
1173)   9617 7B          					LD      A,E	;
1174)   9618 F5          					PUSH    AF	;
1175)   9619 CD B7 A0    					CALL    EXPRI	;
1176)   961C E5          					PUSH    HL	;
1177)   961D D9          					EXX	;
1178)   961E D1          					POP     DE	;
1179)   961F F1          					POP     AF	;
1180)   9620 CD AD B3    					CALL    PUTPTR	;
1181)   9623 C3 0B 8F    					JP      XEQ	;
1183)   9626 CD F9 98    		PAGEV:			CALL    EQUALS	;
1184)   9629 CD B7 A0    					CALL    EXPRI	;
1185)   962C D9          					EXX	;
1186)   962D 2E 00       					LD      L,0	;
1187)   962F 22 DC 03    					LD      (PAGE),HL	;
1188)   9632 C3 0B 8F    					JP      XEQ	;
1190)   9635 FE 24       		TIMEV:			CP      '$'	;
1191)   9637 28 0F       					JR      Z,TIMEVS	;
1192)   9639 CD F9 98    					CALL    EQUALS	;
1193)   963C CD B7 A0    					CALL    EXPRI	;
1194)   963F E5          					PUSH    HL	;
1195)   9640 D9          					EXX	;
1196)   9641 D1          					POP     DE	;
1197)   9642 CD C4 B2    					CALL    PUTIME	;
1198)   9645 C3 0B 8F    					JP      XEQ	;
1200)   9648 FD 23       		TIMEVS:			INC     IY              ;SKIP '$'	;SKIP '$'
1201)   964A CD F9 98    					CALL    EQUALS	;
1202)   964D CD C0 A0    					CALL    EXPRS	;
1203)   9650 CD B9 B2    					CALL    PUTIMS	;
1204)   9653 C3 0B 8F    					JP      XEQ	;
1206)   9656 CD F9 98    		LOMEMV:			CALL    EQUALS	;
1207)   9659 CD B7 A0    					CALL    EXPRI	;
1208)   965C CD EF 89    					CALL    CLEAR	;
1209)   965F D9          					EXX	;
1210)   9660 22 E0 03    					LD      (LOMEM),HL	;
1211)   9663 22 E2 03    					LD      (FREE),HL	;
1212)   9666 C3 0B 8F    					JP      XEQ	;
1214)   9669 CD F9 98    		HIMEMV:			CALL    EQUALS	;
1215)   966C CD B7 A0    					CALL    EXPRI	;
1216)   966F D9          					EXX	;
1217)   9670 ED 5B E2 03 					LD      DE,(FREE)	;
1218)   9674 14          					INC     D	;
1219)   9675 AF          					XOR     A	;
1220)   9676 ED 52       					SBC     HL,DE	;
1221)   9678 19          					ADD     HL,DE	;
1222)   9679 DA FE 88    					JP      C,ERROR         ;"No room"	;"No room"
1223)   967C ED 5B E4 03 					LD      DE,(HIMEM)	;
1224)   9680 22 E4 03    					LD      (HIMEM),HL	;
1225)   9683 EB          					EX      DE,HL	;
1226)   9684 ED 72       					SBC     HL,SP	;
1227)   9686 C2 0B 8F    					JP      NZ,XEQ	;
1228)   9689 EB          					EX      DE,HL	;
1229)   968A F9          					LD      SP,HL           ;LOAD STACK POINTER	;LOAD STACK POINTER
1230)   968B C3 0B 8F    					JP      XEQ	;
1234)   968E CD B7 A0    		WIDTHV:			CALL    EXPRI	;
1235)   9691 D9          					EXX	;
1236)   9692 7D          					LD      A,L	;
1237)   9693 32 FC 03    					LD      (WIDTH),A	;
1238)   9696 C3 0B 8F    					JP      XEQ	;
1244)   9699 FD 23       		TRACE:			INC     IY	;
1245)   969B 21 00 00    					LD      HL,0	;
1246)   969E FE EE       					CP      TON	;
1247)   96A0 28 0A       					JR      Z,TRACE0	;
1248)   96A2 FE 87       					CP      OFF	;
1249)   96A4 28 07       					JR      Z,TRACE1	;
1250)   96A6 FD 2B       					DEC     IY	;
1251)   96A8 CD B7 A0    					CALL    EXPRI	;
1252)   96AB D9          					EXX	;
1253)   96AC 2B          		TRACE0:			DEC     HL	;
1254)   96AD 22 E8 03    		TRACE1:			LD      (TRACEN),HL	;
1255)   96B0 C3 0B 8F    					JP      XEQ	;
1259)   96B3 CD B7 A0    		VDU:			CALL    EXPRI	;
1260)   96B6 D9          					EXX	;
1261)   96B7 7D          					LD      A,L	;
1262)   96B8 CD D9 B2    					CALL    OSWRCH	;
1263)   96BB FD 7E 00    					LD      A,(IY)	;
1264)   96BE FE 2C       					CP      ','	;
1265)   96C0 28 08       					JR      Z,VDU2	;
1266)   96C2 FE 3B       					CP      ';'	;
1267)   96C4 20 06       					JR      NZ,VDU3	;
1268)   96C6 7C          					LD      A,H	;
1269)   96C7 CD D9 B2    					CALL    OSWRCH	;
1270)   96CA FD 23       		VDU2:			INC     IY	;
1271)   96CC CD E5 98    		VDU3:			CALL    TERM?	;
1272)   96CF 20 E2       					JR      NZ,VDU	;
1273)   96D1 C3 0B 8F    					JP      XEQ	;
1277)   96D4 CD DA 99    		CLOSE:			CALL    CHANEL	;
1278)   96D7 CD AD B3    					CALL    OSSHUT	;
1279)   96DA C3 0B 8F    					JP      XEQ	;
1283)   96DD CD DA 99    		BPUT:			CALL    CHANEL          ;CHANNEL NUMBER	;CHANNEL NUMBER
1284)   96E0 D5          					PUSH    DE	;
1285)   96E1 CD 53 A6    					CALL    COMMA	;
1286)   96E4 CD B7 A0    					CALL    EXPRI           ;BYTE	;BYTE
1287)   96E7 D9          					EXX	;
1288)   96E8 7D          					LD      A,L	;
1289)   96E9 D1          					POP     DE	;
1290)   96EA CD AD B3    					CALL    OSBPUT	;
1291)   96ED C3 0B 8F    					JP      XEQ	;
1295)   96F0 CD B7 A0    		CALL:			CALL    EXPRI           ;ADDRESS	;ADDRESS
1296)   96F3 D9          					EXX	;
1297)   96F4 E5          					PUSH    HL              ;SAVE IT	;SAVE IT
1298)   96F5 06 00       					LD      B,0             ;PARAMETER COUNTER	;PARAMETER COUNTER
1299)   96F7 11 00 02    					LD      DE,BUFFER       ;VECTOR	;VECTOR
1300)   96FA CD 9B A6    		CALL1:			CALL    NXT	;
1301)   96FD FE 2C       					CP      ','	;
1302)   96FF 20 17       					JR      NZ,CALL2	;
1303)   9701 FD 23       					INC     IY	;
1304)   9703 04          					INC     B	;
1305)   9704 CD 9B A6    					CALL    NXT	;
1306)   9707 C5          					PUSH    BC	;
1307)   9708 D5          					PUSH    DE	;
1308)   9709 CD DB 8F    					CALL    VAR	;
1309)   970C D1          					POP     DE	;
1310)   970D C1          					POP     BC	;
1311)   970E 13          					INC     DE	;
1312)   970F 12          					LD      (DE),A          ;PARAMETER TYPE	;PARAMETER TYPE
1313)   9710 13          					INC     DE	;
1314)   9711 EB          					EX      DE,HL	;
1315)   9712 73          					LD      (HL),E          ;PARAMETER ADDRESS	;PARAMETER ADDRESS
1316)   9713 23          					INC     HL	;
1317)   9714 72          					LD      (HL),D	;
1318)   9715 EB          					EX      DE,HL	;
1319)   9716 18 E2       					JR      CALL1	;
1320)   9718 78          		CALL2:			LD      A,B	;
1321)   9719 32 00 02    					LD      (BUFFER),A      ;PARAMETER COUNT	;PARAMETER COUNT
1322)   971C E1          					POP     HL              ;RESTORE ADDRESS	;RESTORE ADDRESS
1323)   971D CD 27 97    					CALL    USR1	;
1324)   9720 C3 0B 8F    					JP      XEQ	;
1328)   9723 CD CE A0    		@USR:			CALL    ITEMI	;
1329)   9726 D9          					EXX	;
1330)   9727 E5          		USR1:			PUSH    HL              ;ADDRESS ON STACK	;ADDRESS ON STACK
1331)   9728 FD E3       					EX      (SP),IY	;
1332)   972A 24          					INC     H               ;PAGE &FF?	;PAGE &FF?
1333)   972B 21 56 97    					LD      HL,USR2         ;RETURN ADDRESS	;RETURN ADDRESS
1334)   972E E5          					PUSH    HL	;
1335)   972F DD 21 00 03 					LD      IX,STAVAR	;
1336)   9733 CC AD B3    					CALL    Z,OSCALL        ;INTERCEPT PAGE &FF	;INTERCEPT PAGE &FF
1337)   9736 DD 4E 18    					LD      C,(IX+24)	;
1338)   9739 C5          					PUSH    BC	;
1339)   973A F1          					POP     AF              ;LOAD FLAGS	;LOAD FLAGS
1340)   973B DD 7E 04    					LD      A,(IX+4)        ;LOAD Z80 REGISTERS	;LOAD Z80 REGISTERS
1341)   973E DD 46 08    					LD      B,(IX+8)	;
1342)   9741 DD 4E 0C    					LD      C,(IX+12)	;
1343)   9744 DD 56 10    					LD      D,(IX+16)	;
1344)   9747 DD 5E 14    					LD      E,(IX+20)	;
1345)   974A DD 66 20    					LD      H,(IX+32)	;
1346)   974D DD 6E 30    					LD      L,(IX+48)	;
1347)   9750 DD 21 00 02 					LD      IX,BUFFER	;
1348)   9754 FD E9       					JP      (IY)            ;OFF TO USER ROUTINE	;OFF TO USER ROUTINE
1349)   9756 FD E1       		USR2:			POP     IY	;
1350)   9758 AF          					XOR     A	;
1351)   9759 4F          					LD      C,A	;
1352)   975A C9          					RET	;
1356)   975B CD B7 A0    		PUT:			CALL    EXPRI           ;PORT ADDRESS	;PORT ADDRESS
1357)   975E D9          					EXX	;
1358)   975F E5          					PUSH    HL	;
1359)   9760 CD 53 A6    					CALL    COMMA	;
1360)   9763 CD B7 A0    					CALL    EXPRI           ;DATA	;DATA
1361)   9766 D9          					EXX	;
1362)   9767 C1          					POP     BC	;
1363)   9768 ED 69       					OUT     (C),L           ;OUTPUT TO PORT BC	;OUTPUT TO PORT BC
1364)   976A C3 0B 8F    					JP      XEQ	;
1373)   976D CD 62 8B    		ASSIGN:			CALL    GETVAR          ;VARIABLE	;VARIABLE
1374)   9770 D8          					RET     C               ;ILLEGAL VARIABLE	;ILLEGAL VARIABLE
1375)   9771 C4 53 8B    					CALL    NZ,PUTVAR	;
1376)   9774 B7          					OR      A	;
1377)   9775 F8          					RET     M               ;STRING VARIABLE	;STRING VARIABLE
1378)   9776 F5          					PUSH    AF              ;NUMERIC TYPE	;NUMERIC TYPE
1379)   9777 CD F9 98    					CALL    EQUALS	;
1380)   977A E5          					PUSH    HL	;
1381)   977B CD B0 A0    					CALL    EXPRN	;
1382)   977E DD E1       					POP     IX	;
1383)   9780 F1          					POP     AF	;
1384)   9781 CB 47       		STORE:			BIT     0,A	;
1385)   9783 28 13       					JR      Z,STOREI	;
1386)   9785 BF          					CP      A               ;SET ZERO	;SET ZERO
1387)   9786 DD 71 04    		@STORE5:		LD      (IX+4),C	;
1388)   9789 D9          		@STORE4:		EXX	;
1389)   978A DD 75 00    					LD      (IX+0),L	;
1390)   978D DD 74 01    					LD      (IX+1),H	;
1391)   9790 D9          					EXX	;
1392)   9791 DD 75 02    					LD      (IX+2),L	;
1393)   9794 DD 74 03    					LD      (IX+3),H	;
1394)   9797 C9          					RET	;
1395)   9798 F5          		STOREI:			PUSH    AF	;
1396)   9799 0C          					INC     C               ;SPEED - & PRESERVE F'	;SPEED - & PRESERVE F'
1397)   979A 0D          					DEC     C               ; WHEN CALLED BY FNEND0	; WHEN CALLED BY FNEND0
1398)   979B C4 5E A3    					CALL    NZ,SFIX         ;CONVERT TO INTEGER	;CONVERT TO INTEGER
1399)   979E F1          					POP     AF	;
1400)   979F FE 04       					CP      4	;
1401)   97A1 28 E6       					JR      Z,STORE4	;
1402)   97A3 BF          					CP      A               ;SET ZERO	;SET ZERO
1403)   97A4 D9          		STORE1:			EXX	;
1404)   97A5 DD 75 00    					LD      (IX+0),L	;
1405)   97A8 D9          					EXX	;
1406)   97A9 C9          					RET	;
1408)   97AA 21 00 01    		STACCS:			LD      HL,ACCS	;
1409)   97AD 1F          		STORES:			RRA	;
1410)   97AE 30 3F       					JR      NC,STORS3       ;FIXED STRING	;FIXED STRING
1411)   97B0 E5          					PUSH    HL	;
1412)   97B1 CD 7C A1    					CALL    LOAD4	;
1413)   97B4 7B          					LD      A,E             ;LENGTH OF STRING	;LENGTH OF STRING
1414)   97B5 D9          					EXX	;
1415)   97B6 6F          					LD      L,A	;
1416)   97B7 7C          					LD      A,H             ;LENGTH ALLOCATED	;LENGTH ALLOCATED
1417)   97B8 D9          					EXX	;
1418)   97B9 BB          					CP      E	;
1419)   97BA 30 14       					JR      NC,STORS1       ;ENOUGH ROOM	;ENOUGH ROOM
1420)   97BC D9          					EXX	;
1421)   97BD 65          					LD      H,L	;
1422)   97BE D9          					EXX	;
1423)   97BF E5          					PUSH    HL	;
1424)   97C0 06 00       					LD      B,0	;
1425)   97C2 4F          					LD      C,A	;
1426)   97C3 09          					ADD     HL,BC	;
1427)   97C4 ED 4B E2 03 					LD      BC,(FREE)	;
1428)   97C8 ED 42       					SBC     HL,BC           ;IS STRING LAST?	;IS STRING LAST?
1429)   97CA E1          					POP     HL	;
1430)   97CB 37          					SCF	;
1431)   97CC 28 02       					JR      Z,STORS1	;
1432)   97CE 60          					LD      H,B	;
1433)   97CF 69          					LD      L,C	;
1434)   97D0 CD 89 97    		STORS1:			CALL    STORE4          ;PRESERVES CARRY!	;PRESERVES CARRY!
1435)   97D3 06 00       					LD      B,0	;
1436)   97D5 4B          					LD      C,E	;
1437)   97D6 EB          					EX      DE,HL	;
1438)   97D7 E1          					POP     HL	;
1439)   97D8 0D          					DEC     C	;
1440)   97D9 0C          					INC     C	;
1441)   97DA C8          					RET     Z               ;NULL STRING	;NULL STRING
1442)   97DB ED B0       					LDIR	;
1443)   97DD D0          					RET     NC              ;STRING REPLACED	;STRING REPLACED
1444)   97DE ED 53 E2 03 					LD      (FREE),DE	;
1445)   97E2 E5          		@CHECK:			PUSH    HL	;
1446)   97E3 2A E2 03    					LD      HL,(FREE)	;
1447)   97E6 24          					INC     H	;
1448)   97E7 ED 72       					SBC     HL,SP	;
1449)   97E9 E1          					POP     HL	;
1450)   97EA D8          					RET     C	;
1451)   97EB AF          					XOR     A	;
1452)   97EC C3 FE 88    					JP      ERROR           ;"No room"	;"No room"
1454)   97EF 4B          		STORS3:			LD      C,E	;
1455)   97F0 DD E5       					PUSH    IX	;
1456)   97F2 D1          					POP     DE	;
1457)   97F3 AF          					XOR     A	;
1458)   97F4 47          					LD      B,A	;
1459)   97F5 B9          					CP      C	;
1460)   97F6 28 02       					JR      Z,STORS5	;
1461)   97F8 ED B0       					LDIR	;
1462)   97FA 3E 0D       		STORS5:			LD      A,CR	;
1463)   97FC 12          					LD      (DE),A	;
1464)   97FD C9          					RET	;
1475)   97FE 3E FF       		ARGUE:			LD      A,-1	;
1476)   9800 F5          					PUSH    AF              ;PUT MARKER ON STACK	;PUT MARKER ON STACK
1477)   9801 FD 23       		ARGUE1:			INC     IY              ;BUMP PAST ( OR ,	;BUMP PAST ( OR ,
1478)   9803 13          					INC     DE	;
1479)   9804 D5          					PUSH    DE	;
1480)   9805 CD 9B A6    					CALL    NXT	;
1481)   9808 CD 62 8B    					CALL    GETVAR	;
1482)   980B 38 38       					JR      C,ARGERR	;
1483)   980D C4 53 8B    					CALL    NZ,PUTVAR	;
1484)   9810 D1          					POP     DE	;
1485)   9811 E5          					PUSH    HL              ;VARPTR	;VARPTR
1486)   9812 B7          					OR      A               ;TYPE	;TYPE
1487)   9813 F5          					PUSH    AF	;
1488)   9814 D5          					PUSH    DE	;
1489)   9815 FD E3       					EX      (SP),IY	;
1490)   9817 FA 2C 98    					JP      M,ARGUE2        ;STRING	;STRING
1491)   981A CD B0 A0    					CALL    EXPRN           ;PARAMETER VALUE	;PARAMETER VALUE
1492)   981D FD E3       					EX      (SP),IY	;
1493)   981F D1          					POP     DE	;
1494)   9820 F1          					POP     AF	;
1495)   9821 D9          					EXX	;
1496)   9822 E5          					PUSH    HL	;
1497)   9823 D9          					EXX	;
1498)   9824 E5          					PUSH    HL	;
1499)   9825 47          					LD      B,A	;
1500)   9826 C5          					PUSH    BC	;
1501)   9827 CD E2 97    					CALL    CHECK           ;CHECK ROOM	;CHECK ROOM
1502)   982A 18 0D       					JR      ARGUE4	;
1503)   982C CD C0 A0    		ARGUE2:			CALL    EXPRS	;
1504)   982F FD E3       					EX      (SP),IY	;
1505)   9831 D9          					EXX	;
1506)   9832 D1          					POP     DE	;
1507)   9833 D9          					EXX	;
1508)   9834 F1          					POP     AF	;
1509)   9835 CD 02 A6    					CALL    PUSHS	;
1510)   9838 D9          					EXX	;
1511)   9839 CD 9B A6    		ARGUE4:			CALL    NXT	;
1512)   983C FE 2C       					CP      ','	;
1513)   983E 20 0A       					JR      NZ,ARGUE5	;
1514)   9840 1A          					LD      A,(DE)	;
1515)   9841 FE 2C       					CP      ','	;
1516)   9843 28 BC       					JR      Z,ARGUE1        ;ANOTHER	;ANOTHER
1517)   9845 3E 1F       		ARGERR:			LD      A,31	;
1518)   9847 C3 FE 88    					JP      ERROR           ;"Arguments"	;"Arguments"
1519)   984A CD 5F A6    		ARGUE5:			CALL    BRAKET	;
1520)   984D 1A          					LD      A,(DE)	;
1521)   984E FE 29       					CP      ')'	;
1522)   9850 20 F3       					JR      NZ,ARGERR	;
1523)   9852 13          					INC     DE	;
1524)   9853 D9          					EXX	;
1525)   9854 C1          		ARGUE6:			POP     BC	;
1526)   9855 78          					LD      A,B	;
1527)   9856 3C          					INC     A	;
1528)   9857 D9          					EXX	;
1529)   9858 C8          					RET     Z               ;MARKER POPPED	;MARKER POPPED
1530)   9859 D9          					EXX	;
1531)   985A 3D          					DEC     A	;
1532)   985B FA 69 98    					JP      M,ARGUE7        ;STRING	;STRING
1533)   985E E1          					POP     HL	;
1534)   985F D9          					EXX	;
1535)   9860 E1          					POP     HL	;
1536)   9861 D9          					EXX	;
1537)   9862 DD E1       					POP     IX	;
1538)   9864 CD 81 97    					CALL    STORE           ;WRITE TO DUMMY	;WRITE TO DUMMY
1539)   9867 18 EB       					JR      ARGUE6	;
1540)   9869 CD 21 A6    		ARGUE7:			CALL    POPS	;
1541)   986C DD E1       					POP     IX	;
1542)   986E CD AA 97    					CALL    STACCS	;
1543)   9871 18 E1       					JR      ARGUE6	;
1552)   9873 D1          		SAVLOC:			POP     DE              ;RETURN ADDRESS	;RETURN ADDRESS
1553)   9874 FD 23       		SAVLO1:			INC     IY              ;BUMP PAST ( OR ,	;BUMP PAST ( OR ,
1554)   9876 CD 9B A6    					CALL    NXT	;
1555)   9879 D5          					PUSH    DE	;
1556)   987A D9          					EXX	;
1557)   987B C5          					PUSH    BC	;
1558)   987C D5          					PUSH    DE	;
1559)   987D E5          					PUSH    HL	;
1560)   987E D9          					EXX	;
1561)   987F CD DB 8F    					CALL    VAR             ;DUMMY VARIABLE	;DUMMY VARIABLE
1562)   9882 D9          					EXX	;
1563)   9883 E1          					POP     HL	;
1564)   9884 D1          					POP     DE	;
1565)   9885 C1          					POP     BC	;
1566)   9886 D9          					EXX	;
1567)   9887 D1          					POP     DE	;
1568)   9888 B7          					OR      A               ;TYPE	;TYPE
1569)   9889 FA 9A 98    					JP      M,SAVLO2        ;STRING	;STRING
1570)   988C D9          					EXX	;
1571)   988D E5          					PUSH    HL              ;SAVE H'L'	;SAVE H'L'
1572)   988E D9          					EXX	;
1573)   988F 47          					LD      B,A             ;TYPE	;TYPE
1574)   9890 CD 70 A1    					CALL    LOADN	;
1575)   9893 D9          					EXX	;
1576)   9894 E3          					EX      (SP),HL	;
1577)   9895 D9          					EXX	;
1578)   9896 E5          					PUSH    HL	;
1579)   9897 C5          					PUSH    BC	;
1580)   9898 18 26       					JR      SAVLO4	;
1581)   989A F5          		SAVLO2:			PUSH    AF              ;STRING TYPE	;STRING TYPE
1582)   989B D5          					PUSH    DE	;
1583)   989C D9          					EXX	;
1584)   989D E5          					PUSH    HL	;
1585)   989E D9          					EXX	;
1586)   989F CD FA A1    					CALL    LOADS	;
1587)   98A2 D9          					EXX	;
1588)   98A3 E1          					POP     HL	;
1589)   98A4 D9          					EXX	;
1590)   98A5 4B          					LD      C,E	;
1591)   98A6 D1          					POP     DE	;
1592)   98A7 CD E2 97    					CALL    CHECK	;
1593)   98AA F1          					POP     AF              ;LEVEL STACK	;LEVEL STACK
1594)   98AB 21 00 00    					LD      HL,0	;
1595)   98AE 45          					LD      B,L	;
1596)   98AF ED 42       					SBC     HL,BC	;
1597)   98B1 39          					ADD     HL,SP	;
1598)   98B2 F9          					LD      SP,HL	;
1599)   98B3 47          					LD      B,A             ;TYPE	;TYPE
1600)   98B4 C5          					PUSH    BC	;
1601)   98B5 28 09       					JR      Z,SAVLO4	;
1602)   98B7 D5          					PUSH    DE	;
1603)   98B8 11 00 01    					LD      DE,ACCS	;
1604)   98BB EB          					EX      DE,HL	;
1605)   98BC 45          					LD      B,L	;
1606)   98BD ED B0       					LDIR                    ;SAVE STRING ON STACK	;SAVE STRING ON STACK
1607)   98BF D1          					POP     DE	;
1608)   98C0 DD E5       		SAVLO4:			PUSH    IX              ;VARPTR	;VARPTR
1609)   98C2 CD C5 98    					CALL    SAVLO5	;
1611)   98C5 CD E2 97    		SAVLO5:			CALL    CHECK	;
1612)   98C8 CD 9B A6    					CALL    NXT	;
1613)   98CB FE 2C       					CP      ','             ;MORE?	;MORE?
1614)   98CD 28 A5       					JR      Z,SAVLO1	;
1615)   98CF EB          					EX      DE,HL	;
1616)   98D0 E9          					JP      (HL)            ;"RETURN"	;"RETURN"
1618)   98D1 FD 7E 00    		DELIM:			LD      A,(IY)          ;ASSEMBLER DELIMITER	;ASSEMBLER DELIMITER
1619)   98D4 FE 20       					CP      ' '	;
1620)   98D6 C8          					RET     Z	;
1621)   98D7 FE 2C       					CP      ','	;
1622)   98D9 C8          					RET     Z	;
1623)   98DA FE 29       					CP      ')'	;
1624)   98DC C8          					RET     Z	;
1625)   98DD FE 3B       		TERM:			CP      ';'             ;ASSEMBLER TERMINATOR	;ASSEMBLER TERMINATOR
1626)   98DF C8          					RET     Z	;
1627)   98E0 FE 5C       					CP      '\'	;
1628)   98E2 C8          					RET     Z	;
1629)   98E3 18 06       					JR      TERM0	;
1631)   98E5 CD 9B A6    		@TERM?:			CALL    NXT	;
1632)   98E8 FE 8B       					CP      ELSE	;
1633)   98EA D0          					RET     NC	;
1634)   98EB FE 3A       		TERM0:			CP      ':'             ;ASSEMBLER SEPARATOR	;ASSEMBLER SEPARATOR
1635)   98ED D0          					RET     NC	;
1636)   98EE FE 0D       					CP      CR	;
1637)   98F0 C9          					RET	;
1639)   98F1 CD E5 98    		SPAN:			CALL    TERM?	;
1640)   98F4 C8          					RET     Z	;
1641)   98F5 FD 23       					INC     IY	;
1642)   98F7 18 F8       					JR      SPAN	;
1644)   98F9 CD 9B A6    		EQUALS:			CALL    NXT	;
1645)   98FC FD 23       					INC     IY	;
1646)   98FE FE 3D       					CP      '='	;
1647)   9900 C8          					RET     Z	;
1648)   9901 3E 04       					LD      A,4	;
1649)   9903 C3 FE 88    					JP      ERROR           ;"Mistake"	;"Mistake"
1651)   9906 FE 8A       		FORMAT:			CP      TAB	;
1652)   9908 28 0C       					JR      Z,DOTAB	;
1653)   990A FE 89       					CP      SPC	;
1654)   990C 28 38       					JR      Z,DOSPC	;
1655)   990E FE 27       					CP      ''''	;
1656)   9910 C0          					RET     NZ	;
1657)   9911 CD 90 8A    					CALL    CRLF	;
1658)   9914 AF          					XOR     A	;
1659)   9915 C9          					RET	;
1661)   9916 C5          		DOTAB:			PUSH    BC	;
1662)   9917 CD B7 A0    					CALL    EXPRI	;
1663)   991A D9          					EXX	;
1664)   991B C1          					POP     BC	;
1665)   991C FD 7E 00    					LD      A,(IY)	;
1666)   991F FE 2C       					CP      ','	;
1667)   9921 28 11       					JR      Z,DOTAB1	;
1668)   9923 CD 5F A6    					CALL    BRAKET	;
1669)   9926 7D          					LD      A,L	;
1670)   9927 21 FB 03    		TABIT:			LD      HL,COUNT	;
1671)   992A BE          					CP      (HL)	;
1672)   992B C8          					RET     Z	;
1673)   992C F5          					PUSH    AF	;
1674)   992D DC 90 8A    					CALL    C,CRLF	;
1675)   9930 F1          					POP     AF	;
1676)   9931 96          					SUB     (HL)	;
1677)   9932 18 19       					JR      FILL	;
1678)   9934 FD 23       		DOTAB1:			INC     IY	;
1679)   9936 C5          					PUSH    BC	;
1680)   9937 E5          					PUSH    HL	;
1681)   9938 CD B7 A0    					CALL    EXPRI	;
1682)   993B D9          					EXX	;
1683)   993C D1          					POP     DE	;
1684)   993D C1          					POP     BC	;
1685)   993E CD 5F A6    					CALL    BRAKET	;
1686)   9941 CD CC B2    					CALL    PUTCSR	;
1687)   9944 AF          					XOR     A	;
1688)   9945 C9          					RET	;
1690)   9946 C5          		DOSPC:			PUSH    BC	;
1691)   9947 CD CE A0    					CALL    ITEMI	;
1692)   994A D9          					EXX	;
1693)   994B 7D          					LD      A,L	;
1694)   994C C1          					POP     BC	;
1695)   994D B7          		@FILL:			OR      A	;
1696)   994E C8          					RET     Z	;
1697)   994F C5          					PUSH    BC	;
1698)   9950 47          					LD      B,A	;
1699)   9951 3E 20       		FILL1:			LD      A,' '	;
1700)   9953 CD 97 8A    					CALL    OUTCHR	;
1701)   9956 10 F9       					DJNZ    FILL1	;
1702)   9958 C1          					POP     BC	;
1703)   9959 AF          					XOR     A	;
1704)   995A C9          					RET	;
1706)   995B 21 00 01    		PTEXT:			LD      HL,ACCS	;
1707)   995E 1C          					INC     E	;
1708)   995F 1D          		PTEXT1:			DEC     E	;
1709)   9960 C8          					RET     Z	;
1710)   9961 7E          					LD      A,(HL)	;
1711)   9962 23          					INC     HL	;
1712)   9963 CD 97 8A    					CALL    OUTCHR	;
1713)   9966 18 F7       					JR      PTEXT1	;
1715)   9968 F5          		FETCHS:			PUSH    AF	;
1716)   9969 C5          					PUSH    BC	;
1717)   996A E5          					PUSH    HL	;
1718)   996B FD E3       					EX      (SP),IY	;
1719)   996D CD 85 99    					CALL    XTRACT	;
1720)   9970 CD 9B A6    					CALL    NXT	;
1721)   9973 FD E3       					EX      (SP),IY	;
1722)   9975 E1          					POP     HL	;
1723)   9976 C1          					POP     BC	;
1724)   9977 F1          					POP     AF	;
1725)   9978 C9          					RET	;
1727)   9979 11 00 01    		LINES:			LD      DE,ACCS	;
1728)   997C 7E          		LINE1S:			LD      A,(HL)	;
1729)   997D 12          					LD      (DE),A	;
1730)   997E FE 0D       					CP      CR	;
1731)   9980 C8          					RET     Z	;
1732)   9981 23          					INC     HL	;
1733)   9982 1C          					INC     E	;
1734)   9983 18 F7       					JR      LINE1S	;
1736)   9985 CD 9B A6    		XTRACT:			CALL    NXT	;
1737)   9988 FE 22       					CP      34		;ASCII ""	;ASCII ""
1738)   998A FD 23       					INC     IY	;
1739)   998C CA B2 A1    					JP      Z,CONS	;
1740)   998F FD 2B       					DEC     IY	;
1741)   9991 11 00 01    					LD      DE,ACCS	;
1742)   9994 FD 7E 00    		XTRAC1:			LD      A,(IY)	;
1743)   9997 12          					LD      (DE),A	;
1744)   9998 FE 2C       					CP      ','	;
1745)   999A C8          					RET     Z	;
1746)   999B FE 0D       					CP      CR	;
1747)   999D C8          					RET     Z	;
1748)   999E FD 23       					INC     IY	;
1749)   99A0 1C          					INC     E	;
1750)   99A1 18 F1       					JR      XTRAC1	;
1752)   99A3 06 00       		SEARCH:			LD      B,0	;
1753)   99A5 4E          		SRCH1:			LD      C,(HL)	;
1754)   99A6 0C          					INC     C	;
1755)   99A7 0D          					DEC     C	;
1756)   99A8 28 0C       					JR      Z,SRCH2         ;FAIL	;FAIL
1757)   99AA 23          					INC     HL	;
1758)   99AB 23          					INC     HL	;
1759)   99AC 23          					INC     HL	;
1760)   99AD BE          					CP      (HL)	;
1761)   99AE C8          					RET     Z	;
1762)   99AF 0D          					DEC     C	;
1763)   99B0 0D          					DEC     C	;
1764)   99B1 0D          					DEC     C	;
1765)   99B2 09          					ADD     HL,BC	;
1766)   99B3 C3 A5 99    					JP      SRCH1	;
1767)   99B6 2B          		SRCH2:			DEC     HL              ;POINT TO CR	;POINT TO CR
1768)   99B7 37          					SCF	;
1769)   99B8 C9          					RET	;
1771)   99B9 FE 05       		@X4OR5:			CP      5	;
1772)   99BB 62          					LD      H,D	;
1773)   99BC 6B          					LD      L,E	;
1774)   99BD 29          					ADD     HL,HL	;
1775)   99BE D8          					RET     C	;
1776)   99BF 29          					ADD     HL,HL	;
1777)   99C0 D8          					RET     C	;
1778)   99C1 EB          					EX      DE,HL	;
1779)   99C2 C0          					RET     NZ	;
1780)   99C3 19          					ADD     HL,DE	;
1781)   99C4 EB          					EX      DE,HL	;
1782)   99C5 C9          					RET	;
1784)   99C6 EB          		@MUL16:			EX      DE,HL	;
1785)   99C7 21 00 00    					LD      HL,0	;
1786)   99CA 3E 10       					LD      A,16	;
1787)   99CC 29          		MUL161:			ADD     HL,HL	;
1788)   99CD D8          					RET     C               ;OVERFLOW	;OVERFLOW
1789)   99CE CB 23       					SLA     E	;
1790)   99D0 CB 12       					RL      D	;
1791)   99D2 30 02       					JR      NC,MUL162	;
1792)   99D4 09          					ADD     HL,BC	;
1793)   99D5 D8          					RET     C	;
1794)   99D6 3D          		MUL162:			DEC     A	;
1795)   99D7 20 F3       					JR      NZ,MUL161	;
1796)   99D9 C9          					RET	;
1798)   99DA CD 9B A6    		@CHANEL:		CALL    NXT	;
1799)   99DD FE 23       					CP      '#'	;
1800)   99DF 3E 2D       					LD      A,45	;
1801)   99E1 C2 FE 88    					JP      NZ,ERROR        ;"Missing #"	;"Missing #"
1802)   99E4 FD 23       		CHNL:			INC     IY              ;SKIP '#'	;SKIP '#'
1803)   99E6 CD CE A0    					CALL    ITEMI	;
1804)   99E9 D9          					EXX	;
1805)   99EA EB          					EX      DE,HL	;
1806)   99EB C9          					RET	;
1812)   99EC CD 62 9D    		ASSEM:			CALL    SKIP	;
1813)   99EF FD 23       					INC     IY	;
1814)   99F1 FE 3A       					CP      ':'	;
1815)   99F3 28 F7       					JR      Z,ASSEM	;
1816)   99F5 FE 5D       					CP      ']'	;
1817)   99F7 C8          					RET     Z	;
1818)   99F8 FE 0D       					CP      CR	;
1819)   99FA C8          					RET     Z	;
1820)   99FB FD 2B       					DEC     IY	;
1821)   99FD DD 2A 40 03 					LD      IX,(PC)         ;PROGRAM COUNTER	;PROGRAM COUNTER
1822)   9A01 21 FE 03    					LD      HL,LISTON	;
1823)   9A04 CB 76       					BIT     6,(HL)	;
1824)   9A06 28 04       					JR      Z,ASSEM0	;
1825)   9A08 DD 2A 3C 03 					LD      IX,(OC)         ;ORIGIN of CODE	;ORIGIN of CODE
1826)   9A0C DD E5       		ASSEM0:			PUSH    IX	;
1827)   9A0E FD E5       					PUSH    IY	;
1828)   9A10 CD A0 9A    					CALL    ASMB	;
1829)   9A13 C1          					POP     BC	;
1830)   9A14 D1          					POP     DE	;
1831)   9A15 D8          					RET     C	;
1832)   9A16 CD 62 9D    					CALL    SKIP	;
1833)   9A19 37          					SCF	;
1834)   9A1A C0          					RET     NZ	;
1835)   9A1B FD 2B       					DEC     IY	;
1836)   9A1D FD 23       		ASSEM3:			INC     IY	;
1837)   9A1F FD 7E 00    					LD      A,(IY)	;
1838)   9A22 CD EB 98    					CALL    TERM0	;
1839)   9A25 20 F6       					JR      NZ,ASSEM3	;
1840)   9A27 3A FE 03    					LD      A,(LISTON)	;
1841)   9A2A DD E5       					PUSH    IX	;
1842)   9A2C E1          					POP     HL	;
1843)   9A2D B7          					OR      A	;
1844)   9A2E ED 52       					SBC     HL,DE	;
1845)   9A30 EB          					EX      DE,HL           ;DE= NO. OF BYTES	;DE= NO. OF BYTES
1846)   9A31 E5          					PUSH    HL	;
1847)   9A32 2A 40 03    					LD      HL,(PC)	;
1848)   9A35 E5          					PUSH    HL	;
1849)   9A36 19          					ADD     HL,DE	;
1850)   9A37 22 40 03    					LD      (PC),HL         ;UPDATE PC	;UPDATE PC
1851)   9A3A CB 77       					BIT     6,A	;
1852)   9A3C 28 07       					JR      Z,ASSEM5	;
1853)   9A3E 2A 3C 03    					LD      HL,(OC)	;
1854)   9A41 19          					ADD     HL,DE	;
1855)   9A42 22 3C 03    					LD      (OC),HL         ;UPDATE OC	;UPDATE OC
1856)   9A45 E1          		ASSEM5:			POP     HL              ;OLD PC	;OLD PC
1857)   9A46 DD E1       					POP     IX              ;CODE HERE	;CODE HERE
1858)   9A48 CB 67       					BIT     4,A	;
1859)   9A4A 28 A0       					JR      Z,ASSEM	;
1860)   9A4C 7C          					LD      A,H	;
1861)   9A4D CD 8C 9A    					CALL    HEX	;
1862)   9A50 7D          					LD      A,L	;
1863)   9A51 CD 85 9A    					CALL    HEXSP	;
1864)   9A54 AF          					XOR     A	;
1865)   9A55 BB          					CP      E	;
1866)   9A56 28 15       					JR      Z,ASSEM2	;
1867)   9A58 3A FB 03    		ASSEM1:			LD      A,(COUNT)	;
1868)   9A5B FE 11       					CP      17	;
1869)   9A5D 3E 05       					LD      A,5	;
1870)   9A5F D4 27 99    					CALL    NC,TABIT        ;NEXT LINE	;NEXT LINE
1871)   9A62 DD 7E 00    					LD      A,(IX)	;
1872)   9A65 CD 85 9A    					CALL    HEXSP	;
1873)   9A68 DD 23       					INC     IX	;
1874)   9A6A 1D          					DEC     E	;
1875)   9A6B 20 EB       					JR      NZ,ASSEM1	;
1876)   9A6D 3E 12       		ASSEM2:			LD      A,18	;
1877)   9A6F CD 27 99    					CALL    TABIT	;
1878)   9A72 FD E5       					PUSH    IY	;
1879)   9A74 E1          					POP     HL	;
1880)   9A75 ED 42       					SBC     HL,BC	;
1881)   9A77 0A          		ASSEM4:			LD      A,(BC)	;
1882)   9A78 CD B0 8A    					CALL    OUT	;
1883)   9A7B 03          					INC     BC	;
1884)   9A7C 2D          					DEC     L	;
1885)   9A7D 20 F8       					JR      NZ,ASSEM4	;
1886)   9A7F CD 90 8A    					CALL    CRLF	;
1887)   9A82 C3 EC 99    					JP      ASSEM	;
1889)   9A85 CD 8C 9A    		HEXSP:			CALL    HEX	;
1890)   9A88 3E 20       					LD      A,' '	;
1891)   9A8A 18 11       					JR      OUTCH1	;
1892)   9A8C F5          		HEX:			PUSH    AF	;
1893)   9A8D 0F          					RRCA	;
1894)   9A8E 0F          					RRCA	;
1895)   9A8F 0F          					RRCA	;
1896)   9A90 0F          					RRCA	;
1897)   9A91 CD 95 9A    					CALL    HEXOUT	;
1898)   9A94 F1          					POP     AF	;
1899)   9A95 E6 0F       		HEXOUT:			AND     0FH	;
1900)   9A97 C6 90       					ADD     A,90H	;
1901)   9A99 27          					DAA	;
1902)   9A9A CE 40       					ADC     A,40H	;
1903)   9A9C 27          					DAA	;
1904)   9A9D C3 B0 8A    		OUTCH1:			JP      OUT	;
1918)   9AA0 FE 2E       		ASMB:			CP      '.'	;
1919)   9AA2 20 16       					JR      NZ,ASMB1	;
1920)   9AA4 FD 23       					INC     IY	;
1921)   9AA6 DD E5       					PUSH    IX	;
1922)   9AA8 CD DB 8F    					CALL    VAR	;
1923)   9AAB F5          					PUSH    AF	;
1924)   9AAC CD E1 A5    					CALL    ZERO	;
1925)   9AAF D9          					EXX	;
1926)   9AB0 2A 40 03    					LD      HL,(PC)	;
1927)   9AB3 D9          					EXX	;
1928)   9AB4 F1          					POP     AF	;
1929)   9AB5 CD 81 97    					CALL    STORE	;
1930)   9AB8 DD E1       					POP     IX	;
1931)   9ABA CD 62 9D    		ASMB1:			CALL    SKIP	;
1932)   9ABD C8          					RET     Z	;
1933)   9ABE FE D6       					CP      TCALL	;
1934)   9AC0 0E C4       					LD      C,0C4H	;
1935)   9AC2 FD 23       					INC     IY	;
1936)   9AC4 CA B1 9B    					JP      Z,GRPC	;
1937)   9AC7 FD 2B       					DEC     IY	;
1938)   9AC9 21 74 9D    					LD      HL,OPCODS	;
1939)   9ACC CD 19 9D    					CALL    FIND	;
1940)   9ACF D8          					RET     C	;
1941)   9AD0 48          					LD      C,B     ;ROOT OPCODE	;ROOT OPCODE
1942)   9AD1 16 00       					LD      D,0     ;CLEAR IX/IY FLAG	;CLEAR IX/IY FLAG
1947)   9AD3 D6 27       					SUB     39	;
1948)   9AD5 30 07       					JR      NC,GROUP2	;
1949)   9AD7 FE E8       					CP      15-39	;
1950)   9AD9 D4 7F 9C    					CALL    NC,ED	;
1951)   9ADC 18 68       					JR      BYTE0	;
1956)   9ADE D6 0A       		GROUP2:			SUB     10	;
1957)   9AE0 30 0F       					JR      NC,GROUP4	;
1958)   9AE2 FE F9       					CP      3-10	;
1959)   9AE4 DC 09 9D    					CALL    C,BIT	;
1960)   9AE7 D8          					RET     C	;
1961)   9AE8 CD DE 9C    					CALL    REGLO	;
1962)   9AEB D8          					RET     C	;
1963)   9AEC CD 83 9C    					CALL    CB	;
1964)   9AEF 18 55       					JR      BYTE0	;
1968)   9AF1 D6 03       		GROUP4:			SUB     3	;
1969)   9AF3 30 06       					JR      NC,GROUP5	;
1970)   9AF5 CD FD 9C    		G4:			CALL    PAIR	;
1971)   9AF8 D8          					RET     C	;
1972)   9AF9 18 4B       					JR      BYTE0	;
1977)   9AFB D6 0A       		GROUP5:			SUB     8+2	;
1978)   9AFD 30 32       					JR      NC,GROUP7	;
1979)   9AFF FE FD       					CP      5-8	;
1980)   9B01 06 07       					LD      B,7	;
1981)   9B03 D4 91 9C    					CALL    NC,OPND	;
1982)   9B06 78          					LD      A,B	;
1983)   9B07 FE 07       					CP      7	;
1984)   9B09 20 10       					JR      NZ,G6HL	;
1985)   9B0B CD DE 9C    		G6:			CALL    REGLO	;
1986)   9B0E 79          					LD      A,C	;
1987)   9B0F 30 28       					JR      NC,BIND1	;
1988)   9B11 EE 46       					XOR     46H	;
1989)   9B13 CD 85 9C    					CALL    BIND	;
1990)   9B16 CD C1 9C    		DB:			CALL    NUMBER	;
1991)   9B19 18 78       					JR      VAL8	;
1993)   9B1B E6 3F       		G6HL:			AND     3FH	;
1994)   9B1D FE 0C       					CP      12	;
1995)   9B1F 37          					SCF	;
1996)   9B20 C0          					RET     NZ	;
1997)   9B21 79          					LD      A,C	;
1998)   9B22 FE 80       					CP      80H	;
1999)   9B24 0E 09       					LD      C,9	;
2000)   9B26 28 CD       					JR      Z,G4	;
2001)   9B28 EE 1C       					XOR     1CH	;
2002)   9B2A 0F          					RRCA	;
2003)   9B2B 4F          					LD      C,A	;
2004)   9B2C CD 7F 9C    					CALL    ED	;
2005)   9B2F 18 C4       					JR      G4	;
2009)   9B31 D6 02       		GROUP7:			SUB     2	;
2010)   9B33 30 14       					JR      NC,GROUP8	;
2011)   9B35 CD E4 9C    					CALL    REGHI	;
2012)   9B38 79          					LD      A,C	;
2013)   9B39 D2 85 9C    		BIND1:			JP      NC,BIND	;
2014)   9B3C EE 64       					XOR     64H	;
2015)   9B3E 07          					RLCA	;
2016)   9B3F 07          					RLCA	;
2017)   9B40 07          					RLCA	;
2018)   9B41 4F          					LD      C,A	;
2019)   9B42 CD 01 9D    					CALL    PAIR1	;
2020)   9B45 D8          					RET     C	;
2021)   9B46 79          		BYTE0:			LD      A,C	;
2022)   9B47 18 7F       					JR      BYTE2	;
2027)   9B49 D6 02       		GROUP8:			SUB     2	;
2028)   9B4B 30 21       					JR      NC,GROUPA	;
2029)   9B4D FE FF       					CP      1-2	;
2030)   9B4F CC 74 9C    					CALL    Z,CORN	;
2031)   9B52 08          					EX      AF,AF'	;
2032)   9B53 CD E4 9C    					CALL    REGHI	;
2033)   9B56 D8          					RET     C	;
2034)   9B57 08          					EX      AF,AF'	;
2035)   9B58 DC 74 9C    					CALL    C,CORN	;
2036)   9B5B 24          					INC     H	;
2037)   9B5C 28 E8       					JR      Z,BYTE0	;
2038)   9B5E 78          					LD      A,B	;
2039)   9B5F FE 07       					CP      7	;
2040)   9B61 37          					SCF	;
2041)   9B62 C0          					RET     NZ	;
2042)   9B63 79          					LD      A,C	;
2043)   9B64 EE 03       					XOR     3	;
2044)   9B66 07          					RLCA	;
2045)   9B67 07          					RLCA	;
2046)   9B68 07          					RLCA	;
2047)   9B69 CD B1 9C    					CALL    BYTE	;
2048)   9B6C 18 25       					JR      VAL8	;
2052)   9B6E D6 02       		GROUPA:			SUB     2	;
2053)   9B70 30 24       					JR      NC,GROUPB	;
2054)   9B72 FE FF       					CP      1-2	;
2055)   9B74 C4 EA 9C    					CALL    NZ,COND	;
2056)   9B77 79          					LD      A,C	;
2057)   9B78 30 02       					JR      NC,GRPA	;
2058)   9B7A 3E 18       					LD      A,18H	;
2059)   9B7C CD B1 9C    		GRPA:			CALL    BYTE	;
2060)   9B7F CD C1 9C    					CALL    NUMBER	;
2061)   9B82 ED 5B 40 03 					LD      DE,(PC)	;
2062)   9B86 13          					INC     DE	;
2063)   9B87 37          					SCF	;
2064)   9B88 ED 52       					SBC     HL,DE	;
2065)   9B8A 7D          					LD      A,L	;
2066)   9B8B 17          					RLA	;
2067)   9B8C 9F          					SBC     A,A	;
2068)   9B8D BC          					CP      H	;
2069)   9B8E 3E 01       		TOOFAR:			LD      A,1	;
2070)   9B90 C2 FE 88    					JP      NZ,ERROR        ;"Out of range"	;"Out of range"
2071)   9B93 7D          		VAL8:			LD      A,L	;
2072)   9B94 18 32       					JR      BYTE2	;
2076)   9B96 47          		GROUPB:			LD      B,A	;
2077)   9B97 20 16       					JR      NZ,GROUPC	;
2078)   9B99 CD EA 9C    					CALL    COND	;
2079)   9B9C 79          					LD      A,C	;
2080)   9B9D 30 0B       					JR      NC,GRPB	;
2081)   9B9F 78          					LD      A,B	;
2082)   9BA0 E6 3F       					AND     3FH	;
2083)   9BA2 FE 06       					CP      6	;
2084)   9BA4 3E E9       					LD      A,0E9H	;
2085)   9BA6 28 20       					JR      Z,BYTE2	;
2086)   9BA8 3E C3       					LD      A,0C3H	;
2087)   9BAA CD B1 9C    		GRPB:			CALL    BYTE	;
2088)   9BAD 18 05       					JR      ADDR	;
2092)   9BAF 10 0C       		GROUPC:			DJNZ    GROUPD	;
2093)   9BB1 CD CC 9B    		GRPC:			CALL    GRPE	;
2094)   9BB4 CD C1 9C    		ADDR:			CALL    NUMBER	;
2095)   9BB7 CD 93 9B    		VAL16:			CALL    VAL8	;
2096)   9BBA 7C          					LD      A,H	;
2097)   9BBB 18 0B       					JR      BYTE2	;
2101)   9BBD 10 0B       		GROUPD:			DJNZ    GROUPE	;
2102)   9BBF CD C1 9C    					CALL    NUMBER	;
2103)   9BC2 A1          					AND     C	;
2104)   9BC3 B4          					OR      H	;
2105)   9BC4 20 C8       					JR      NZ,TOOFAR	;
2106)   9BC6 7D          					LD      A,L	;
2107)   9BC7 B1          					OR      C	;
2108)   9BC8 18 78       		BYTE2:  		JR      BYTE1	;
2112)   9BCA 10 0A       		GROUPE:			DJNZ    GROUPF	;
2113)   9BCC CD EA 9C    		GRPE:			CALL    COND	;
2114)   9BCF 79          					LD      A,C	;
2115)   9BD0 30 70       					JR      NC,BYTE1	;
2116)   9BD2 F6 09       					OR      9	;
2117)   9BD4 18 6C       					JR      BYTE1	;
2121)   9BD6 10 6C       		GROUPF:			DJNZ    MISC	;
2122)   9BD8 CD 16 9D    					CALL    LDOP	;
2123)   9BDB 30 5F       					JR      NC,LDA	;
2124)   9BDD CD E4 9C    					CALL    REGHI	;
2125)   9BE0 08          					EX      AF,AF'	;
2126)   9BE1 CD 62 9D    					CALL    SKIP	;
2127)   9BE4 FE 28       					CP      '('	;
2128)   9BE6 28 1D       					JR      Z,LDIN	;
2129)   9BE8 08          					EX      AF,AF'	;
2130)   9BE9 D2 0B 9B    					JP      NC,G6	;
2131)   9BEC 0E 01       					LD      C,1	;
2132)   9BEE CD 01 9D    					CALL    PAIR1	;
2133)   9BF1 D8          					RET     C	;
2134)   9BF2 3E 0E       					LD      A,14	;
2135)   9BF4 B8          					CP      B	;
2136)   9BF5 47          					LD      B,A	;
2137)   9BF6 CC FD 9C    					CALL    Z,PAIR	;
2138)   9BF9 78          					LD      A,B	;
2139)   9BFA E6 3F       					AND     3FH	;
2140)   9BFC FE 0C       					CP      12	;
2141)   9BFE 79          					LD      A,C	;
2142)   9BFF 20 A9       					JR      NZ,GRPB	;
2143)   9C01 3E F9       					LD      A,0F9H	;
2144)   9C03 18 3D       					JR      BYTE1	;
2146)   9C05 08          		LDIN:			EX      AF,AF'	;
2147)   9C06 C5          					PUSH    BC	;
2148)   9C07 D4 DE 9C    					CALL    NC,REGLO	;
2149)   9C0A 79          					LD      A,C	;
2150)   9C0B C1          					POP     BC	;
2151)   9C0C 30 77       					JR      NC,BIND	;
2152)   9C0E 0E 0A       					LD      C,0AH	;
2153)   9C10 CD 01 9D    					CALL    PAIR1	;
2154)   9C13 CD 5B 9C    					CALL    LD16	;
2155)   9C16 30 92       					JR      NC,GRPB	;
2156)   9C18 CD C1 9C    					CALL    NUMBER	;
2157)   9C1B 0E 02       					LD      C,2	;
2158)   9C1D CD FD 9C    					CALL    PAIR	;
2159)   9C20 CD 5B 9C    					CALL    LD16	;
2160)   9C23 D8          					RET     C	;
2161)   9C24 CD B1 9C    					CALL    BYTE	;
2162)   9C27 18 8E       					JR      VAL16	;
2166)   9C29 05          		OPT:			DEC     B	;
2167)   9C2A CA 16 9B    					JP      Z,DB	;
2168)   9C2D 10 85       					DJNZ    ADDR	;
2169)   9C2F CD C1 9C    					CALL    NUMBER	;
2170)   9C32 21 FE 03    					LD      HL,LISTON	;
2171)   9C35 4F          					LD      C,A	;
2172)   9C36 ED 6F       					RLD	;
2173)   9C38 79          					LD      A,C	;
2174)   9C39 ED 67       					RRD	;
2175)   9C3B C9          					RET	;
2177)   9C3C FE 04       		LDA:			CP      4	;
2178)   9C3E DC 7F 9C    					CALL    C,ED	;
2179)   9C41 78          					LD      A,B	;
2180)   9C42 18 6D       		BYTE1:			JR      BYTE	;
2184)   9C44 10 E3       		MISC:			DJNZ    OPT	;
2185)   9C46 DD E5       					PUSH    IX	;
2186)   9C48 CD C0 A0    					CALL    EXPRS	;
2187)   9C4B DD E1       					POP     IX	;
2188)   9C4D 21 00 01    					LD      HL,ACCS	;
2189)   9C50 AF          		DEFM1:			XOR     A	;
2190)   9C51 BB          					CP      E	;
2191)   9C52 C8          					RET     Z	;
2192)   9C53 7E          					LD      A,(HL)	;
2193)   9C54 23          					INC     HL	;
2194)   9C55 CD B1 9C    					CALL    BYTE	;
2195)   9C58 1D          					DEC     E	;
2196)   9C59 18 F5       					JR      DEFM1	;
2200)   9C5B 78          		LD16:			LD      A,B	;
2201)   9C5C 38 0E       					JR      C,LD8	;
2202)   9C5E 78          					LD      A,B	;
2203)   9C5F E6 3F       					AND     3FH	;
2204)   9C61 FE 0C       					CP      12	;
2205)   9C63 79          					LD      A,C	;
2206)   9C64 C8          					RET     Z	;
2207)   9C65 CD 7F 9C    					CALL    ED	;
2208)   9C68 79          					LD      A,C	;
2209)   9C69 F6 43       					OR      43H	;
2210)   9C6B C9          					RET	;
2212)   9C6C FE 07       		LD8:			CP      7	;
2213)   9C6E 37          					SCF	;
2214)   9C6F C0          					RET     NZ	;
2215)   9C70 79          					LD      A,C	;
2216)   9C71 F6 30       					OR      30H	;
2217)   9C73 C9          					RET	;
2219)   9C74 C5          		CORN:			PUSH    BC	;
2220)   9C75 CD 91 9C    					CALL    OPND	;
2221)   9C78 CB 68       					BIT     5,B	;
2222)   9C7A C1          					POP     BC	;
2223)   9C7B 28 44       					JR      Z,NUMBER	;
2224)   9C7D 26 FF       					LD      H,-1	;
2225)   9C7F 3E ED       		ED:			LD      A,0EDH	;
2226)   9C81 18 2E       					JR      BYTE	;
2228)   9C83 3E CB       		CB:			LD      A,0CBH	;
2229)   9C85 FE 76       		BIND:			CP      76H	;
2230)   9C87 37          					SCF	;
2231)   9C88 C8          					RET     Z               ;REJECT LD (HL),(HL)	;REJECT LD (HL),(HL)
2232)   9C89 CD B1 9C    					CALL    BYTE	;
2233)   9C8C 14          					INC     D	;
2234)   9C8D F0          					RET     P	;
2235)   9C8E 7B          					LD      A,E	;
2236)   9C8F 18 20       					JR      BYTE	;
2238)   9C91 E5          		OPND:			PUSH    HL	;
2239)   9C92 21 BB 9E    					LD      HL,OPRNDS	;
2240)   9C95 CD 19 9D    					CALL    FIND	;
2241)   9C98 E1          					POP     HL	;
2242)   9C99 D8          					RET     C	;
2243)   9C9A CB 78       					BIT     7,B	;
2244)   9C9C C8          					RET     Z	;
2245)   9C9D CB 58       					BIT     3,B	;
2246)   9C9F E5          					PUSH    HL	;
2247)   9CA0 CC B8 9C    					CALL    Z,OFFSET	;
2248)   9CA3 5D          					LD      E,L	;
2249)   9CA4 E1          					POP     HL	;
2250)   9CA5 3E DD       					LD      A,0DDH	;
2251)   9CA7 CB 70       					BIT     6,B	;
2252)   9CA9 28 02       					JR      Z,OP1	;
2253)   9CAB 3E FD       					LD      A,0FDH	;
2254)   9CAD B7          		OP1:			OR      A	;
2255)   9CAE 14          					INC     D	;
2256)   9CAF 57          					LD      D,A	;
2257)   9CB0 F8          					RET     M	;
2258)   9CB1 DD 77 00    		BYTE:			LD      (IX),A	;
2259)   9CB4 DD 23       					INC     IX	;
2260)   9CB6 B7          					OR      A	;
2261)   9CB7 C9          					RET	;
2263)   9CB8 FD 7E 00    		OFFSET:			LD      A,(IY)	;
2264)   9CBB FE 29       					CP      ')'	;
2265)   9CBD 21 00 00    					LD      HL,0	;
2266)   9CC0 C8          					RET     Z	;
2267)   9CC1 CD 62 9D    		NUMBER:			CALL    SKIP	;
2268)   9CC4 C5          					PUSH    BC	;
2269)   9CC5 D5          					PUSH    DE	;
2270)   9CC6 DD E5       					PUSH    IX	;
2271)   9CC8 CD B7 A0    					CALL    EXPRI	;
2272)   9CCB DD E1       					POP     IX	;
2273)   9CCD D9          					EXX	;
2274)   9CCE D1          					POP     DE	;
2275)   9CCF C1          					POP     BC	;
2276)   9CD0 7D          					LD      A,L	;
2277)   9CD1 B7          					OR      A	;
2278)   9CD2 C9          					RET	;
2280)   9CD3 CD 91 9C    		REG:			CALL    OPND	;
2281)   9CD6 D8          					RET     C	;
2282)   9CD7 78          					LD      A,B	;
2283)   9CD8 E6 3F       					AND     3FH	;
2284)   9CDA FE 08       					CP      8	;
2285)   9CDC 3F          					CCF	;
2286)   9CDD C9          					RET	;
2288)   9CDE CD D3 9C    		REGLO:			CALL    REG	;
2289)   9CE1 D8          					RET     C	;
2290)   9CE2 18 2F       					JR      ORC	;
2292)   9CE4 CD D3 9C    		REGHI:			CALL    REG	;
2293)   9CE7 D8          					RET     C	;
2294)   9CE8 18 26       					JR      SHL3	;
2296)   9CEA CD 91 9C    		COND:			CALL    OPND	;
2297)   9CED D8          					RET     C	;
2298)   9CEE 78          					LD      A,B	;
2299)   9CEF E6 1F       					AND     1FH	;
2300)   9CF1 D6 10       					SUB     16	;
2301)   9CF3 30 1B       					JR      NC,SHL3	;
2302)   9CF5 FE F1       					CP      -15	;
2303)   9CF7 37          					SCF	;
2304)   9CF8 C0          					RET     NZ	;
2305)   9CF9 3E 03       					LD      A,3	;
2306)   9CFB 18 13       					JR      SHL3	;
2308)   9CFD CD 91 9C    		PAIR:			CALL    OPND	;
2309)   9D00 D8          					RET     C	;
2310)   9D01 78          		PAIR1:			LD      A,B	;
2311)   9D02 E6 0F       					AND     0FH	;
2312)   9D04 D6 08       					SUB     8	;
2313)   9D06 D8          					RET     C	;
2314)   9D07 18 07       					JR      SHL3	;
2316)   9D09 CD C1 9C    		BIT:			CALL    NUMBER	;
2317)   9D0C FE 08       					CP      8	;
2318)   9D0E 3F          					CCF	;
2319)   9D0F D8          					RET     C	;
2320)   9D10 07          		SHL3:			RLCA	;
2321)   9D11 07          					RLCA	;
2322)   9D12 07          					RLCA	;
2323)   9D13 B1          		ORC:			OR      C	;
2324)   9D14 4F          					LD      C,A	;
2325)   9D15 C9          					RET	;
2327)   9D16 21 00 9F    		LDOP:			LD      HL,LDOPS	;
2328)   9D19 CD 62 9D    		FIND:			CALL    SKIP	;
2329)   9D1C 06 00       		EXIT:			LD      B,0	;
2330)   9D1E 37          					SCF	;
2331)   9D1F C8          					RET     Z	;
2332)   9D20 FE DD       					CP      DEF	;
2333)   9D22 28 04       					JR      Z,FIND0	;
2334)   9D24 FE 85       					CP      TOR+1	;
2335)   9D26 3F          					CCF	;
2336)   9D27 D8          					RET     C	;
2337)   9D28 7E          		FIND0:			LD      A,(HL)	;
2338)   9D29 B7          					OR      A	;
2339)   9D2A 28 F0       					JR      Z,EXIT	;
2340)   9D2C FD AE 00    					XOR     (IY)	;
2341)   9D2F E6 5F       					AND     01011111B	;
2342)   9D31 28 09       					JR      Z,FIND2	;
2343)   9D33 CB 7E       		FIND1:			BIT     7,(HL)	;
2344)   9D35 23          					INC     HL	;
2345)   9D36 28 FB       					JR      Z,FIND1	;
2346)   9D38 23          					INC     HL	;
2347)   9D39 04          					INC     B	;
2348)   9D3A 18 EC       					JR      FIND0	;
2350)   9D3C FD E5       		FIND2:			PUSH    IY	;
2351)   9D3E CB 7E       		FIND3:			BIT     7,(HL)	;
2352)   9D40 FD 23       					INC     IY	;
2353)   9D42 23          					INC     HL	;
2354)   9D43 20 10       					JR      NZ,FIND5	;
2355)   9D45 BE          					CP      (HL)	;
2356)   9D46 CC 61 9D    					CALL    Z,SKIP0	;
2357)   9D49 7E          					LD      A,(HL)	;
2358)   9D4A FD AE 00    					XOR     (IY)	;
2359)   9D4D E6 5F       					AND     01011111B	;
2360)   9D4F 28 ED       					JR      Z,FIND3	;
2361)   9D51 FD E1       		FIND4:			POP     IY	;
2362)   9D53 18 DE       					JR      FIND1	;
2364)   9D55 CD D1 98    		FIND5:			CALL    DELIM	;
2365)   9D58 C4 6E 9D    					CALL    NZ,SIGN	;
2366)   9D5B 20 F4       					JR      NZ,FIND4	;
2367)   9D5D 78          		FIND6:			LD      A,B	;
2368)   9D5E 46          					LD      B,(HL)	;
2369)   9D5F E1          					POP     HL	;
2370)   9D60 C9          					RET	;
2372)   9D61 23          		SKIP0:			INC     HL	;
2373)   9D62 CD D1 98    		SKIP:			CALL    DELIM	;
2374)   9D65 C0          					RET     NZ	;
2375)   9D66 CD DD 98    					CALL    TERM	;
2376)   9D69 C8          					RET     Z	;
2377)   9D6A FD 23       					INC     IY	;
2378)   9D6C 18 F4       					JR      SKIP	;
2380)   9D6E FE 2B       		SIGN:			CP      '+'	;
2381)   9D70 C8          					RET     Z	;
2382)   9D71 FE 2D       					CP      '-'	;
2383)   9D73 C9          					RET	;
2386)   9D74 4E 4F       		OPCODS:			DEFM    'NO'	;
2387)   9D76 D0          					DEFB    'P'+80H	;
2388)   9D77 00          					DEFB    0	;
2389)   9D78 52 4C 43    					DEFM    'RLC'	;
2390)   9D7B C1          					DEFB    'A'+80H	;
2391)   9D7C 07          					DEFB    7	;
2392)   9D7D 45 58       					DEFM    'EX'	;
2393)   9D7F 00          					DEFB    0	;
2394)   9D80 41 46       					DEFM    'AF'	;
2395)   9D82 00          					DEFB    0	;
2396)   9D83 41 46       					DEFM    'AF'	;
2397)   9D85 A7          					DEFB    ''''+80H	;
2398)   9D86 08          					DEFB    8	;
2399)   9D87 52 52 43    					DEFM    'RRC'	;
2400)   9D8A C1          					DEFB    'A'+80H	;
2401)   9D8B 0F          					DEFB    0FH	;
2402)   9D8C 52 4C       					DEFM    'RL'	;
2403)   9D8E C1          					DEFB    'A'+80H	;
2404)   9D8F 17          					DEFB    17H	;
2405)   9D90 52 52       					DEFM    'RR'	;
2406)   9D92 C1          					DEFB    'A'+80H	;
2407)   9D93 1F          					DEFB    1FH	;
2408)   9D94 44 41       					DEFM    'DA'	;
2409)   9D96 C1          					DEFB    'A'+80H	;
2410)   9D97 27          					DEFB    27H	;
2411)   9D98 43 50       					DEFM    'CP'	;
2412)   9D9A CC          					DEFB    'L'+80H	;
2413)   9D9B 2F          					DEFB    2FH	;
2414)   9D9C 53 43       					DEFM    'SC'	;
2415)   9D9E C6          					DEFB    'F'+80H	;
2416)   9D9F 37          					DEFB    37H	;
2417)   9DA0 43 43       					DEFM    'CC'	;
2418)   9DA2 C6          					DEFB    'F'+80H	;
2419)   9DA3 3F          					DEFB    3FH	;
2420)   9DA4 48 41 4C    					DEFM    'HAL'	;
2421)   9DA7 D4          					DEFB    'T'+80H	;
2422)   9DA8 76          					DEFB    76H	;
2423)   9DA9 45 58       					DEFM    'EX'	;
2424)   9DAB D8          					DEFB    'X'+80H	;
2425)   9DAC D9          					DEFB    0D9H	;
2426)   9DAD 45 58       					DEFM    'EX'	;
2427)   9DAF 00          					DEFB    0	;
2428)   9DB0 44 45       					DEFM    'DE'	;
2429)   9DB2 00          					DEFB    0	;
2430)   9DB3 48          					DEFM    'H'	;
2431)   9DB4 CC          					DEFB    'L'+80H	;
2432)   9DB5 EB          					DEFB    0EBH	;
2433)   9DB6 44          					DEFM    'D'	;
2434)   9DB7 C9          					DEFB    'I'+80H	;
2435)   9DB8 F3          					DEFB    0F3H	;
2436)   9DB9 45          					DEFM    'E'	;
2437)   9DBA C9          					DEFB    'I'+80H	;
2438)   9DBB FB          					DEFB    0FBH	;
2440)   9DBC 4E 45       					DEFM    'NE'	;
2441)   9DBE C7          					DEFB    'G'+80H	;
2442)   9DBF 44          					DEFB    44H	;
2443)   9DC0 49 4D       					DEFM    'IM'	;
2444)   9DC2 00          					DEFB    0	;
2445)   9DC3 B0          					DEFB    '0'+80H	;
2446)   9DC4 46          					DEFB    46H	;
2447)   9DC5 52 45 54    					DEFM    'RET'	;
2448)   9DC8 CE          					DEFB    'N'+80H	;
2449)   9DC9 45          					DEFB    45H	;
2450)   9DCA 52 45 54    					DEFM    'RET'	;
2451)   9DCD C9          					DEFB    'I'+80H	;
2452)   9DCE 4D          					DEFB    4DH	;
2453)   9DCF 49 4D       					DEFM    'IM'	;
2454)   9DD1 00          					DEFB    0	;
2455)   9DD2 B1          					DEFB    '1'+80H	;
2456)   9DD3 56          					DEFB    56H	;
2457)   9DD4 49 4D       					DEFM    'IM'	;
2458)   9DD6 00          					DEFB    0	;
2459)   9DD7 B2          					DEFB    '2'+80H	;
2460)   9DD8 5E          					DEFB    5EH	;
2461)   9DD9 52 52       					DEFM    'RR'	;
2462)   9DDB C4          					DEFB    'D'+80H	;
2463)   9DDC 67          					DEFB    67H	;
2464)   9DDD 52 4C       					DEFM    'RL'	;
2465)   9DDF C4          					DEFB    'D'+80H	;
2466)   9DE0 6F          					DEFB    6FH	;
2467)   9DE1 4C 44       					DEFM    'LD'	;
2468)   9DE3 C9          					DEFB    'I'+80H	;
2469)   9DE4 A0          					DEFB    0A0H	;
2470)   9DE5 43 50       					DEFM    'CP'	;
2471)   9DE7 C9          					DEFB    'I'+80H	;
2472)   9DE8 A1          					DEFB    0A1H	;
2473)   9DE9 49 4E       					DEFM    'IN'	;
2474)   9DEB C9          					DEFB    'I'+80H	;
2475)   9DEC A2          					DEFB    0A2H	;
2476)   9DED 4F 55 54    					DEFM    'OUT'	;
2477)   9DF0 C9          					DEFB    'I'+80H	;
2478)   9DF1 A3          					DEFB    0A3H	;
2479)   9DF2 4C 44       					DEFM    'LD'	;
2480)   9DF4 C4          					DEFB    'D'+80H	;
2481)   9DF5 A8          					DEFB    0A8H	;
2482)   9DF6 43 50       					DEFM    'CP'	;
2483)   9DF8 C4          					DEFB    'D'+80H	;
2484)   9DF9 A9          					DEFB    0A9H	;
2485)   9DFA 49 4E       					DEFM    'IN'	;
2486)   9DFC C4          					DEFB    'D'+80H	;
2487)   9DFD AA          					DEFB    0AAH	;
2488)   9DFE 4F 55 54    					DEFM    'OUT'	;
2489)   9E01 C4          					DEFB    'D'+80H	;
2490)   9E02 AB          					DEFB    0ABH	;
2491)   9E03 4C 44 49    					DEFM    'LDI'	;
2492)   9E06 D2          					DEFB    'R'+80H	;
2493)   9E07 B0          					DEFB    0B0H	;
2494)   9E08 43 50 49    					DEFM    'CPI'	;
2495)   9E0B D2          					DEFB    'R'+80H	;
2496)   9E0C B1          					DEFB    0B1H	;
2497)   9E0D 49 4E 49    					DEFM    'INI'	;
2498)   9E10 D2          					DEFB    'R'+80H	;
2499)   9E11 B2          					DEFB    0B2H	;
2500)   9E12 4F 54 49    					DEFM    'OTI'	;
2501)   9E15 D2          					DEFB    'R'+80H	;
2502)   9E16 B3          					DEFB    0B3H	;
2503)   9E17 4C 44 44    					DEFM    'LDD'	;
2504)   9E1A D2          					DEFB    'R'+80H	;
2505)   9E1B B8          					DEFB    0B8H	;
2506)   9E1C 43 50 44    					DEFM    'CPD'	;
2507)   9E1F D2          					DEFB    'R'+80H	;
2508)   9E20 B9          					DEFB    0B9H	;
2509)   9E21 49 4E 44    					DEFM    'IND'	;
2510)   9E24 D2          					DEFB    'R'+80H	;
2511)   9E25 BA          					DEFB    0BAH	;
2512)   9E26 4F 54 44    					DEFM    'OTD'	;
2513)   9E29 D2          					DEFB    'R'+80H	;
2514)   9E2A BB          					DEFB    0BBH	;
2516)   9E2B 42 49       					DEFM    'BI'	;
2517)   9E2D D4          					DEFB    'T'+80H	;
2518)   9E2E 40          					DEFB    40H	;
2519)   9E2F 52 45       					DEFM    'RE'	;
2520)   9E31 D3          					DEFB    'S'+80H	;
2521)   9E32 80          					DEFB    80H	;
2522)   9E33 53 45       					DEFM    'SE'	;
2523)   9E35 D4          					DEFB    'T'+80H	;
2524)   9E36 C0          					DEFB    0C0H	;
2526)   9E37 52 4C       					DEFM    'RL'	;
2527)   9E39 C3          					DEFB    'C'+80H	;
2528)   9E3A 00          					DEFB    0	;
2529)   9E3B 52 52       					DEFM    'RR'	;
2530)   9E3D C3          					DEFB    'C'+80H	;
2531)   9E3E 08          					DEFB    8	;
2532)   9E3F 52          					DEFM    'R'	;
2533)   9E40 CC          					DEFB    'L'+80H	;
2534)   9E41 10          					DEFB    10H	;
2535)   9E42 52          					DEFM    'R'	;
2536)   9E43 D2          					DEFB    'R'+80H	;
2537)   9E44 18          					DEFB    18H	;
2538)   9E45 53 4C       					DEFM    'SL'	;
2539)   9E47 C1          					DEFB    'A'+80H	;
2540)   9E48 20          					DEFB    20H	;
2541)   9E49 53 52       					DEFM    'SR'	;
2542)   9E4B C1          					DEFB    'A'+80H	;
2543)   9E4C 28          					DEFB    28H	;
2544)   9E4D 53 52       					DEFM    'SR'	;
2545)   9E4F CC          					DEFB    'L'+80H	;
2546)   9E50 38          					DEFB    38H	;
2548)   9E51 50 4F       					DEFM    'PO'	;
2549)   9E53 D0          					DEFB    'P'+80H	;
2550)   9E54 C1          					DEFB    0C1H	;
2551)   9E55 50 55 53    					DEFM    'PUS'	;
2552)   9E58 C8          					DEFB    'H'+80H	;
2553)   9E59 C5          					DEFB    0C5H	;
2554)   9E5A 45 58       					DEFM    'EX'	;
2555)   9E5C 00          					DEFB    0	;
2556)   9E5D 28 53       					DEFM    '(S'	;
2557)   9E5F D0          					DEFB    'P'+80H	;
2558)   9E60 E3          					DEFB    0E3H	;
2560)   9E61 53 55       					DEFM    'SU'	;
2561)   9E63 C2          					DEFB    'B'+80H	;
2562)   9E64 90          					DEFB    90H	;
2563)   9E65 41 4E       					DEFM    'AN'	;
2564)   9E67 C4          					DEFB    'D'+80H	;
2565)   9E68 A0          					DEFB    0A0H	;
2566)   9E69 58 4F       					DEFM    'XO'	;
2567)   9E6B D2          					DEFB    'R'+80H	;
2568)   9E6C A8          					DEFB    0A8H	;
2569)   9E6D 4F          					DEFM    'O'	;
2570)   9E6E D2          					DEFB    'R'+80H	;
2571)   9E6F B0          					DEFB    0B0H	;
2572)   9E70 43          					DEFM    'C'	;
2573)   9E71 D0          					DEFB    'P'+80H	;
2574)   9E72 B8          					DEFB    0B8H	;
2575)   9E73 80          					DEFB    TAND	;
2576)   9E74 A0          					DEFB    0A0H	;
2577)   9E75 84          					DEFB    TOR	;
2578)   9E76 B0          					DEFB    0B0H	;
2580)   9E77 41 44       					DEFM    'AD'	;
2581)   9E79 C4          					DEFB    'D'+80H	;
2582)   9E7A 80          					DEFB    80H	;
2583)   9E7B 41 44       					DEFM    'AD'	;
2584)   9E7D C3          					DEFB    'C'+80H	;
2585)   9E7E 88          					DEFB    88H	;
2586)   9E7F 53 42       					DEFM    'SB'	;
2587)   9E81 C3          					DEFB    'C'+80H	;
2588)   9E82 98          					DEFB    98H	;
2590)   9E83 49 4E       					DEFM    'IN'	;
2591)   9E85 C3          					DEFB    'C'+80H	;
2592)   9E86 04          					DEFB    4	;
2593)   9E87 44 45       					DEFM    'DE'	;
2594)   9E89 C3          					DEFB    'C'+80H	;
2595)   9E8A 05          					DEFB    5	;
2597)   9E8B 49          					DEFM    'I'	;
2598)   9E8C CE          					DEFB    'N'+80H	;
2599)   9E8D 40          					DEFB    40H	;
2600)   9E8E 4F 55       					DEFM    'OU'	;
2601)   9E90 D4          					DEFB    'T'+80H	;
2602)   9E91 41          					DEFB    41H	;
2604)   9E92 4A          					DEFM    'J'	;
2605)   9E93 D2          					DEFB    'R'+80H	;
2606)   9E94 20          					DEFB    20H	;
2607)   9E95 44 4A 4E    					DEFM    'DJN'	;
2608)   9E98 DA          					DEFB    'Z'+80H	;
2609)   9E99 10          					DEFB    10H	;
2611)   9E9A 4A          					DEFM    'J'	;
2612)   9E9B D0          					DEFB    'P'+80H	;
2613)   9E9C C2          					DEFB    0C2H	;
2615)   9E9D 43 41 4C    					DEFM    'CAL'	;
2616)   9EA0 CC          					DEFB    'L'+80H	;
2617)   9EA1 C4          					DEFB    0C4H	;
2619)   9EA2 52 53       					DEFM    'RS'	;
2620)   9EA4 D4          					DEFB    'T'+80H	;
2621)   9EA5 C7          					DEFB    0C7H	;
2623)   9EA6 52 45       					DEFM    'RE'	;
2624)   9EA8 D4          					DEFB    'T'+80H	;
2625)   9EA9 C0          					DEFB    0C0H	;
2627)   9EAA 4C          					DEFM    'L'	;
2628)   9EAB C4          					DEFB    'D'+80H	;
2629)   9EAC 40          					DEFB    40H	;
2631)   9EAD 5D          					DEFB    DEF AND 7FH	;
2632)   9EAE CD          					DEFB    'M'+80H	;
2633)   9EAF 00          					DEFB    0	;
2635)   9EB0 5D          					DEFB    DEF AND 7FH	;
2636)   9EB1 C2          					DEFB    'B'+80H	;
2637)   9EB2 00          					DEFB    0	;
2639)   9EB3 4F 50       					DEFM    'OP'	;
2640)   9EB5 D4          					DEFB    'T'+80H	;
2641)   9EB6 00          					DEFB    0	;
2643)   9EB7 5D          					DEFB    DEF AND 7FH	;
2644)   9EB8 D7          					DEFB    'W'+80H	;
2645)   9EB9 00          					DEFB    0	;
2647)   9EBA 00          					DEFB    0	;
2649)   9EBB C2          		OPRNDS:			DEFB    'B'+80H	;
2650)   9EBC 00          					DEFB    0	;
2651)   9EBD C3          					DEFB    'C'+80H	;
2652)   9EBE 01          					DEFB    1	;
2653)   9EBF C4          					DEFB    'D'+80H	;
2654)   9EC0 02          					DEFB    2	;
2655)   9EC1 C5          					DEFB    'E'+80H	;
2656)   9EC2 03          					DEFB    3	;
2657)   9EC3 C8          					DEFB    'H'+80H	;
2658)   9EC4 04          					DEFB    4	;
2659)   9EC5 CC          					DEFB    'L'+80H	;
2660)   9EC6 05          					DEFB    5	;
2661)   9EC7 28 48       					DEFM    '(H'	;
2662)   9EC9 CC          					DEFB    'L'+80H	;
2663)   9ECA 06          					DEFB    6	;
2664)   9ECB C1          					DEFB    'A'+80H	;
2665)   9ECC 07          					DEFB    7	;
2666)   9ECD 28 49       					DEFM    '(I'	;
2667)   9ECF D8          					DEFB    'X'+80H	;
2668)   9ED0 86          					DEFB    86H	;
2669)   9ED1 28 49       					DEFM    '(I'	;
2670)   9ED3 D9          					DEFB    'Y'+80H	;
2671)   9ED4 C6          					DEFB    0C6H	;
2673)   9ED5 42          					DEFM    'B'	;
2674)   9ED6 C3          					DEFB    'C'+80H	;
2675)   9ED7 08          					DEFB    8	;
2676)   9ED8 44          					DEFM    'D'	;
2677)   9ED9 C5          					DEFB    'E'+80H	;
2678)   9EDA 0A          					DEFB    10	;
2679)   9EDB 48          					DEFM    'H'	;
2680)   9EDC CC          					DEFB    'L'+80H	;
2681)   9EDD 0C          					DEFB    12	;
2682)   9EDE 49          					DEFM    'I'	;
2683)   9EDF D8          					DEFB    'X'+80H	;
2684)   9EE0 8C          					DEFB    8CH	;
2685)   9EE1 49          					DEFM    'I'	;
2686)   9EE2 D9          					DEFB    'Y'+80H	;
2687)   9EE3 CC          					DEFB    0CCH	;
2688)   9EE4 41          					DEFM    'A'	;
2689)   9EE5 C6          					DEFB    'F'+80H	;
2690)   9EE6 0E          					DEFB    14	;
2691)   9EE7 53          					DEFM    'S'	;
2692)   9EE8 D0          					DEFB    'P'+80H	;
2693)   9EE9 0E          					DEFB    14	;
2695)   9EEA 4E          					DEFM    'N'	;
2696)   9EEB DA          					DEFB    'Z'+80H	;
2697)   9EEC 10          					DEFB    16	;
2698)   9EED DA          					DEFB    'Z'+80H	;
2699)   9EEE 11          					DEFB    17	;
2700)   9EEF 4E          					DEFM    'N'	;
2701)   9EF0 C3          					DEFB    'C'+80H	;
2702)   9EF1 12          					DEFB    18	;
2703)   9EF2 50          					DEFM    'P'	;
2704)   9EF3 CF          					DEFB    'O'+80H	;
2705)   9EF4 14          					DEFB    20	;
2706)   9EF5 50          					DEFM    'P'	;
2707)   9EF6 C5          					DEFB    'E'+80H	;
2708)   9EF7 15          					DEFB    21	;
2709)   9EF8 D0          					DEFB    'P'+80H	;
2710)   9EF9 16          					DEFB    22	;
2711)   9EFA CD          					DEFB    'M'+80H	;
2712)   9EFB 17          					DEFB    23	;
2714)   9EFC 28          					DEFM    '('	;
2715)   9EFD C3          					DEFB    'C'+80H	;
2716)   9EFE 20          					DEFB    20H	;
2718)   9EFF 00          					DEFB    0	;
2720)   9F00 49          		LDOPS:			DEFM    'I'	;
2721)   9F01 00          					DEFB    0	;
2722)   9F02 C1          					DEFB    'A'+80H	;
2723)   9F03 47          					DEFB    47H	;
2724)   9F04 52          					DEFM    'R'	;
2725)   9F05 00          					DEFB    0	;
2726)   9F06 C1          					DEFB    'A'+80H	;
2727)   9F07 4F          					DEFB    4FH	;
2728)   9F08 41          					DEFM    'A'	;
2729)   9F09 00          					DEFB    0	;
2730)   9F0A C9          					DEFB    'I'+80H	;
2731)   9F0B 57          					DEFB    57H	;
2732)   9F0C 41          					DEFM    'A'	;
2733)   9F0D 00          					DEFB    0	;
2734)   9F0E D2          					DEFB    'R'+80H	;
2735)   9F0F 5F          					DEFB    5FH	;
2736)   9F10 28 42 43    					DEFM    '(BC'	;
2737)   9F13 00          					DEFB    0	;
2738)   9F14 C1          					DEFB    'A'+80H	;
2739)   9F15 02          					DEFB    2	;
2740)   9F16 28 44 45    					DEFM    '(DE'	;
2741)   9F19 00          					DEFB    0	;
2742)   9F1A C1          					DEFB    'A'+80H	;
2743)   9F1B 12          					DEFB    12H	;
2744)   9F1C 41          					DEFM    'A'	;
2745)   9F1D 00          					DEFB    0	;
2746)   9F1E 28 42       					DEFM    '(B'	;
2747)   9F20 C3          					DEFB    'C'+80H	;
2748)   9F21 0A          					DEFB    0AH	;
2749)   9F22 41          					DEFM    'A'	;
2750)   9F23 00          					DEFB    0	;
2751)   9F24 28 44       					DEFM    '(D'	;
2752)   9F26 C5          					DEFB    'E'+80H	;
2753)   9F27 1A          					DEFB    1AH	;
2755)   9F28 00          					DEFB    0	;
 29)   9F29 49 A5       		FUNTBL:			DEFW    DECODE          ;Line number	;Line number
 30)   9F2B A2 A2       					DEFW    OPENIN          ;OPENIN	;OPENIN
 31)   9F2D BF A2       					DEFW    PTR             ;PTR	;PTR
 32)   9F2F 74 A2       					DEFW    PAGEV           ;PAGE	;PAGE
 33)   9F31 C7 A2       					DEFW    TIMEV           ;TIME	;TIME
 34)   9F33 6A A2       					DEFW    LOMEMV          ;LOMEM	;LOMEM
 35)   9F35 6F A2       					DEFW    HIMEMV          ;HIMEM	;HIMEM
 36)   9F37 13 A3       					DEFW    ABS             ;ABS	;ABS
 37)   9F39 4F A3       					DEFW    ACS             ;ACS	;ACS
 38)   9F3B B9 B2       					DEFW    ADVAL           ;ADVAL	;ADVAL
 39)   9F3D 57 A2       					DEFW    ASC             ;ASC	;ASC
 40)   9F3F 47 A3       					DEFW    ASN             ;ASN	;ASN
 41)   9F41 4B A3       					DEFW    ATN             ;ATN	;ATN
 42)   9F43 33 A2       					DEFW    BGET            ;BGET	;BGET
 43)   9F45 33 A3       					DEFW    COS             ;COS	;COS
 44)   9F47 92 A2       					DEFW    COUNTV          ;COUNT	;COUNT
 45)   9F49 1B A3       					DEFW    DEG             ;DEG	;DEG
 46)   9F4B 88 A2       					DEFW    ERLV            ;ERL	;ERL
 47)   9F4D 8D A2       					DEFW    ERRV            ;ERR	;ERR
 48)   9F4F 73 A3       					DEFW    EVAL            ;EVAL	;EVAL
 49)   9F51 3B A3       					DEFW    EXP             ;EXP	;EXP
 50)   9F53 B7 A2       					DEFW    EXT             ;EXT	;EXT
 51)   9F55 E1 A5       					DEFW    ZERO            ;FALSE	;FALSE
 52)   9F57 3F 93       					DEFW    FN              ;FN	;FN
 53)   9F59 41 A2       					DEFW    GET             ;GET	;GET
 54)   9F5B 3C A2       					DEFW    INKEY           ;INKEY	;INKEY
 55)   9F5D 0C A4       					DEFW    INSTR           ;INSTR(	;INSTR(
 56)   9F5F 27 A3       					DEFW    INT             ;INT	;INT
 57)   9F61 64 A2       					DEFW    LEN             ;LEN	;LEN
 58)   9F63 3F A3       					DEFW    LN              ;LN	;LN
 59)   9F65 43 A3       					DEFW    LOG             ;LOG	;LOG
 60)   9F67 17 A3       					DEFW    NOTK            ;NOT	;NOT
 61)   9F69 9F A2       					DEFW    OPENUP          ;OPENUP	;OPENUP
 62)   9F6B 9D A2       					DEFW    OPENOT          ;OPENOUT	;OPENOUT
 63)   9F6D 0F A3       					DEFW    PI              ;PI	;PI
 64)   9F6F B9 B2       					DEFW    POINT           ;POINT(	;POINT(
 65)   9F71 1C A2       					DEFW    POS             ;POS	;POS
 66)   9F73 1F A3       					DEFW    RAD             ;RAD	;RAD
 67)   9F75 A0 A3       					DEFW    RND             ;RND	;RND
 68)   9F77 23 A3       					DEFW    SGN             ;SGN	;SGN
 69)   9F79 37 A3       					DEFW    SIN             ;SIN	;SIN
 70)   9F7B 2B A3       					DEFW    SQR             ;SQR	;SQR
 71)   9F7D 2F A3       					DEFW    TAN             ;TAN	;TAN
 72)   9F7F 79 A2       					DEFW    TOPV            ;TO(P)	;TO(P)
 73)   9F81 04 A3       					DEFW    TRUE            ;TRUE	;TRUE
 74)   9F83 23 97       					DEFW    USR             ;USR	;USR
 75)   9F85 66 A3       					DEFW    VAL             ;VAL	;VAL
 76)   9F87 22 A2       					DEFW    VPOS            ;VPOS	;VPOS
 77)   9F89 8A A4       					DEFW    CHRS            ;CHRS	;CHRS
 78)   9F8B 91 A4       					DEFW    GETS            ;GETS	;GETS
 79)   9F8D 97 A4       					DEFW    INKEYS          ;INKEYS	;INKEYS
 80)   9F8F D8 A4       					DEFW    LEFTS           ;LEFTS(	;LEFTS(
 81)   9F91 A7 A4       					DEFW    MIDS            ;MIDS(	;MIDS(
 82)   9F93 F3 A4       					DEFW    RIGHTS          ;RIGHTS(	;RIGHTS(
 83)   9F95 A1 A5       					DEFW    STRS            ;STR$	;STR$
 84)   9F97 07 A5       					DEFW    STRING          ;STRINGS(	;STRINGS(
 85)   9F99 27 A2       					DEFW    EOF             ;EOF	;EOF
 95)   9F9B F2 A2       		SOPTBL:			DEFW    SLE             ;<= (STRING)	;<= (STRING)
 96)   9F9D FA A2       					DEFW    SNE             ;<>	;<>
 97)   9F9F EC A2       					DEFW    SGE             ;>=	;>=
 98)   9FA1 DF A2       					DEFW    SLT             ;<	;<
 99)   9FA3 00 A3       					DEFW    SEQ             ;=	;=
100)   9FA5 E5 A2       					DEFW    SGT             ;>	;>
119)   9FA7 CD BC 9F    		@EXPR:			CALL    EXPR1           ;GET FIRST OPERAND	;GET FIRST OPERAND
120)   9FAA FE 82       		EXPR0A:			CP      EORK            ;CHECK OPERATOR	;CHECK OPERATOR
121)   9FAC 28 03       					JR      Z,EXPR0B	;
122)   9FAE FE 84       					CP      ORK	;
123)   9FB0 C0          					RET     NZ	;
124)   9FB1 CD 6C A6    		EXPR0B:			CALL    SAVE            ;SAVE FIRST OPERAND	;SAVE FIRST OPERAND
125)   9FB4 CD BC 9F    					CALL    EXPR1           ;GET SECOND OPERAND	;GET SECOND OPERAND
126)   9FB7 CD 7A A6    					CALL    DOIT            ;DO OPERATION	;DO OPERATION
127)   9FBA 18 EE       					JR      EXPR0A          ;CONTINUE	;CONTINUE
129)   9FBC CD CD 9F    		EXPR1:			CALL    EXPR2	;
130)   9FBF FE 80       		EXPR1A:			CP      ANDK	;
131)   9FC1 C0          					RET     NZ	;
132)   9FC2 CD 6C A6    					CALL    SAVE	;
133)   9FC5 CD CD 9F    					CALL    EXPR2	;
134)   9FC8 CD 7A A6    					CALL    DOIT	;
135)   9FCB 18 F2       					JR      EXPR1A	;
137)   9FCD CD 2C A0    		EXPR2:			CALL    EXPR3	;
138)   9FD0 CD 47 A6    					CALL    RELOP?	;
139)   9FD3 C0          					RET     NZ	;
140)   9FD4 47          					LD      B,A	;
141)   9FD5 FD 23       					INC     IY              ;BUMP OVER OPERATOR	;BUMP OVER OPERATOR
142)   9FD7 CD 9B A6    					CALL    NXT	;
143)   9FDA CD 47 A6    					CALL    RELOP?          ;COMPOUND OPERATOR?	;COMPOUND OPERATOR?
144)   9FDD 20 08       					JR      NZ,EXPR2B	;
145)   9FDF FD 23       					INC     IY	;
146)   9FE1 B8          					CP      B	;
147)   9FE2 CA E2 8F    					JP      Z,SYNTAX        ;ILLEGAL COMBINATION	;ILLEGAL COMBINATION
148)   9FE5 80          					ADD     A,B	;
149)   9FE6 47          					LD      B,A	;
150)   9FE7 78          		EXPR2B:			LD      A,B	;
151)   9FE8 08          					EX      AF,AF'	;
152)   9FE9 FA FF 9F    					JP      M,EXPR2S	;
153)   9FEC 08          					EX      AF,AF'	;
154)   9FED D6 04       					SUB     4	;
155)   9FEF FE 3A       					CP      '>'-4	;
156)   9FF1 20 02       					JR      NZ,EXPR2C	;
157)   9FF3 C6 02       					ADD     A,2	;
158)   9FF5 CD 6E A6    		EXPR2C:			CALL    SAVE1	;
159)   9FF8 CD 2C A0    					CALL    EXPR3	;
160)   9FFB CD 7A A6    					CALL    DOIT            ;Must NOT be "JP DOIT"	;Must NOT be "JP DOIT"
161)   9FFE C9          					RET	;
163)   9FFF 08          		EXPR2S:			EX      AF,AF'	;
164)   A000 3D          					DEC     A	;
165)   A001 E6 07       					AND     7	;
166)   A003 CD 02 A6    					CALL    PUSHS           ;SAVE STRING ON STACK	;SAVE STRING ON STACK
167)   A006 F5          					PUSH    AF              ;SAVE OPERATOR	;SAVE OPERATOR
168)   A007 CD 2C A0    					CALL    EXPR3           ;SECOND STRING	;SECOND STRING
169)   A00A 08          					EX      AF,AF'	;
170)   A00B F2 DC A0    					JP      P,TYPE	;
171)   A00E F1          					POP     AF	;
172)   A00F 4B          					LD      C,E             ;LENGTH OF STRING #2	;LENGTH OF STRING #2
173)   A010 D1          					POP     DE	;
174)   A011 21 00 00    					LD      HL,0	;
175)   A014 39          					ADD     HL,SP	;
176)   A015 43          					LD      B,E             ;LENGTH OF STRING #1	;LENGTH OF STRING #1
177)   A016 D5          					PUSH    DE	;
178)   A017 11 00 01    					LD      DE,ACCS	;
179)   A01A EB          					EX      DE,HL	;
180)   A01B CD A6 A6    					CALL    DISPT2	;
181)   A01E D1          					POP     DE	;
182)   A01F EB          					EX      DE,HL	;
183)   A020 26 00       					LD      H,0	;
184)   A022 39          					ADD     HL,SP	;
185)   A023 F9          					LD      SP,HL	;
186)   A024 EB          					EX      DE,HL	;
187)   A025 AF          					XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
188)   A026 4F          					LD      C,A             ;INTEGER MARKER	;INTEGER MARKER
189)   A027 08          					EX      AF,AF'	;
190)   A028 FD 7E 00    					LD      A,(IY)	;
191)   A02B C9          					RET	;
193)   A02C CD 7B A0    		EXPR3:			CALL    EXPR4	;
194)   A02F FE 2D       		EXPR3A:			CP      '-'	;
195)   A031 28 08       					JR      Z,EXPR3B	;
196)   A033 FE 2B       					CP      '+'	;
197)   A035 C0          					RET     NZ	;
198)   A036 08          					EX      AF,AF'	;
199)   A037 FA 46 A0    					JP      M,EXPR3S	;
200)   A03A 08          					EX      AF,AF'	;
201)   A03B CD 6C A6    		EXPR3B:			CALL    SAVE	;
202)   A03E CD 7B A0    					CALL    EXPR4	;
203)   A041 CD 7A A6    					CALL    DOIT	;
204)   A044 18 E9       					JR      EXPR3A	;
206)   A046 08          		EXPR3S:			EX      AF,AF'	;
207)   A047 FD 23       					INC     IY              ;BUMP PAST '+'	;BUMP PAST '+'
208)   A049 CD 02 A6    					CALL    PUSHS           ;SAVE STRING ON STACK	;SAVE STRING ON STACK
209)   A04C CD 7B A0    					CALL    EXPR4           ;SECOND STRING	;SECOND STRING
210)   A04F 08          					EX      AF,AF'	;
211)   A050 F2 DC A0    					JP      P,TYPE	;
212)   A053 4B          					LD      C,E             ;C=LENGTH	;C=LENGTH
213)   A054 D1          					POP     DE	;
214)   A055 D5          					PUSH    DE	;
215)   A056 21 00 01    					LD      HL,ACCS	;
216)   A059 54          					LD      D,H	;
217)   A05A 79          					LD      A,C	;
218)   A05B B7          					OR      A	;
219)   A05C 28 0F       					JR      Z,EXP3S3	;
220)   A05E 45          					LD      B,L	;
221)   A05F 6F          					LD      L,A             ;SOURCE	;SOURCE
222)   A060 83          					ADD     A,E	;
223)   A061 5F          					LD      E,A             ;DESTINATION	;DESTINATION
224)   A062 3E 13       					LD      A,19	;
225)   A064 DA FE 88    					JP      C,ERROR         ;"String too long"	;"String too long"
226)   A067 D5          					PUSH    DE	;
227)   A068 1D          					DEC     E	;
228)   A069 2D          					DEC     L	;
229)   A06A ED B8       					LDDR                    ;COPY	;COPY
230)   A06C D1          					POP     DE	;
231)   A06D D9          		EXP3S3:			EXX	;
232)   A06E C1          					POP     BC	;
233)   A06F CD 21 A6    					CALL    POPS            ;RESTORE FROM STACK	;RESTORE FROM STACK
234)   A072 D9          					EXX	;
235)   A073 F6 80       					OR      80H             ;FLAG STRING	;FLAG STRING
236)   A075 08          					EX      AF,AF'	;
237)   A076 FD 7E 00    					LD      A,(IY)	;
238)   A079 18 B4       					JR      EXPR3A	;
240)   A07B CD 98 A0    		EXPR4:			CALL    EXPR5	;
241)   A07E FE 2A       		EXPR4A:			CP      '*'	;
242)   A080 28 0B       					JR      Z,EXPR4B	;
243)   A082 FE 2F       					CP      '/'	;
244)   A084 28 07       					JR      Z,EXPR4B	;
245)   A086 FE 83       					CP      MODK	;
246)   A088 28 03       					JR      Z,EXPR4B	;
247)   A08A FE 81       					CP      DIVK	;
248)   A08C C0          					RET     NZ	;
249)   A08D CD 6C A6    		EXPR4B:			CALL    SAVE	;
250)   A090 CD 98 A0    					CALL    EXPR5	;
251)   A093 CD 7A A6    					CALL    DOIT	;
252)   A096 18 E6       					JR      EXPR4A	;
254)   A098 CD 33 A1    		EXPR5:			CALL    ITEM	;
255)   A09B B7          					OR      A               ;TEST TYPE	;TEST TYPE
256)   A09C 08          					EX      AF,AF'          ;SAVE TYPE	;SAVE TYPE
257)   A09D CD 9B A6    		EXPR5A:			CALL    NXT	;
258)   A0A0 FE 5E       					CP      '^'	;
259)   A0A2 C0          					RET     NZ	;
260)   A0A3 CD 6C A6    					CALL    SAVE	;
261)   A0A6 CD 33 A1    					CALL    ITEM	;
262)   A0A9 B7          					OR      A	;
263)   A0AA 08          					EX      AF,AF'	;
264)   A0AB CD 7A A6    					CALL    DOIT	;
265)   A0AE 18 ED       					JR      EXPR5A	;
267)   A0B0 CD A7 9F    		@EXPRN:			CALL    EXPR	;
268)   A0B3 08          					EX      AF,AF'	;
269)   A0B4 F0          					RET     P	;
270)   A0B5 18 25       					JR      TYPE	;
272)   A0B7 CD A7 9F    		@EXPRI:			CALL    EXPR	;
273)   A0BA 08          					EX      AF,AF'	;
274)   A0BB F2 5E A3    					JP      P,SFIX	;
275)   A0BE 18 1C       					JR      TYPE	;
277)   A0C0 CD A7 9F    		@EXPRS:			CALL    EXPR	;
278)   A0C3 08          					EX      AF,AF'	;
279)   A0C4 F8          					RET     M	;
280)   A0C5 18 15       					JR      TYPE	;
283)   A0C7 CD 33 A1    		ITEMN:			CALL    ITEM	;
284)   A0CA B7          					OR      A	;
285)   A0CB F0          					RET     P	;
286)   A0CC 18 0E       					JR      TYPE	;
288)   A0CE CD 33 A1    		@ITEMI:			CALL    ITEM	;
289)   A0D1 B7          					OR      A	;
290)   A0D2 F2 5E A3    					JP      P,SFIX	;
291)   A0D5 18 05       					JR      TYPE	;
293)   A0D7 CD 33 A1    		ITEMS:			CALL    ITEM	;
294)   A0DA B7          					OR      A	;
295)   A0DB F8          					RET     M	;
296)   A0DC 3E 06       		TYPE:			LD      A,6	;
297)   A0DE C3 FE 88    					JP      ERROR           ;"Type mismatch"	;"Type mismatch"
299)   A0E1 CD A7 9F    		ITEM1:			CALL    EXPR            ;BRACKETED EXPR	;BRACKETED EXPR
300)   A0E4 CD 5F A6    					CALL    BRAKET	;
301)   A0E7 08          					EX      AF,AF'	;
302)   A0E8 C9          					RET	;
309)   A0E9 CD E1 A5    		HEX:			CALL    ZERO	;
310)   A0EC CD 34 A6    					CALL    HEXDIG	;
311)   A0EF 38 18       					JR      C,BADHEX	;
312)   A0F1 FD 23       		HEX1:			INC     IY	;
313)   A0F3 E6 0F       					AND     0FH	;
314)   A0F5 06 04       					LD      B,4	;
315)   A0F7 D9          		HEX2:			EXX	;
316)   A0F8 29          					ADD     HL,HL	;
317)   A0F9 D9          					EXX	;
318)   A0FA ED 6A       					ADC     HL,HL	;
319)   A0FC 10 F9       					DJNZ    HEX2	;
320)   A0FE D9          					EXX	;
321)   A0FF B5          					OR      L	;
322)   A100 6F          					LD      L,A	;
323)   A101 D9          					EXX	;
324)   A102 CD 34 A6    					CALL    HEXDIG	;
325)   A105 30 EA       					JR      NC,HEX1	;
326)   A107 AF          					XOR     A	;
327)   A108 C9          					RET	;
329)   A109 3E 1C       		BADHEX:			LD      A,28	;
330)   A10B C3 FE 88    					JP      ERROR           ;"Bad HEX"	;"Bad HEX"
337)   A10E CD C7 A0    		MINUS:			CALL    ITEMN	;
338)   A111 0D          		MINUS0:			DEC     C	;
339)   A112 0C          					INC     C	;
340)   A113 28 06       					JR      Z,NEGATE        ;ZERO/INTEGER	;ZERO/INTEGER
341)   A115 7C          					LD      A,H	;
342)   A116 EE 80       					XOR     80H             ;CHANGE SIGN (FP)	;CHANGE SIGN (FP)
343)   A118 67          					LD      H,A	;
344)   A119 AF          					XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
345)   A11A C9          					RET	;
347)   A11B D9          		NEGATE:			EXX	;
348)   A11C 7C          					LD      A,H	;
349)   A11D 2F          					CPL	;
350)   A11E 67          					LD      H,A	;
351)   A11F 7D          					LD      A,L	;
352)   A120 2F          					CPL	;
353)   A121 6F          					LD      L,A	;
354)   A122 D9          					EXX	;
355)   A123 7C          					LD      A,H	;
356)   A124 2F          					CPL	;
357)   A125 67          					LD      H,A	;
358)   A126 7D          					LD      A,L	;
359)   A127 2F          					CPL	;
360)   A128 6F          					LD      L,A	;
361)   A129 D9          		ADD1:			EXX	;
362)   A12A 23          					INC     HL	;
363)   A12B 7C          					LD      A,H	;
364)   A12C B5          					OR      L	;
365)   A12D D9          					EXX	;
366)   A12E 3E 00       					LD      A,0             ;NUMERIC MARKER	;NUMERIC MARKER
367)   A130 C0          					RET     NZ	;
368)   A131 23          					INC     HL	;
369)   A132 C9          					RET	;
378)   A133 CD E2 97    		ITEM:			CALL    CHECK	;
379)   A136 CD 9B A6    					CALL    NXT	;
380)   A139 FD 23       					INC     IY	;
381)   A13B FE 26       					CP      '&'	;
382)   A13D 28 AA       					JR      Z,HEX           ;HEX CONSTANT	;HEX CONSTANT
383)   A13F FE 2D       					CP      '-'	;
384)   A141 28 CB       					JR      Z,MINUS         ;UNARY MINUS	;UNARY MINUS
385)   A143 FE 2B       					CP      '+'	;
386)   A145 28 80       					JR      Z,ITEMN         ;UNARY PLUS	;UNARY PLUS
387)   A147 FE 28       					CP      '('	;
388)   A149 28 96       					JR      Z,ITEM1         ;EXPRESSION	;EXPRESSION
389)   A14B FE 22       					CP      34		;ASCII ""	;ASCII ""
390)   A14D 28 63       					JR      Z,CONS          ;STRING CONSTANT	;STRING CONSTANT
391)   A14F FE C6       					CP      TCMD	;
392)   A151 D2 E2 8F    					JP      NC,SYNTAX       ;SYNTAX ERROR	;SYNTAX ERROR
393)   A154 FE 8D       					CP      FUNTOK	;
394)   A156 D2 AC A6    					JP      NC,DISPAT       ;FUNCTION	;FUNCTION
395)   A159 FD 2B       					DEC     IY	;
396)   A15B FE 3A       					CP      ':'	;
397)   A15D 30 08       					JR      NC,ITEM2        ;VARIABLE?	;VARIABLE?
398)   A15F FE 30       					CP      '0'	;
399)   A161 30 74       					JR      NC,CON          ;NUMERIC CONSTANT	;NUMERIC CONSTANT
400)   A163 FE 2E       					CP      '.'	;
401)   A165 28 70       					JR      Z,CON           ;NUMERIC CONSTANT	;NUMERIC CONSTANT
402)   A167 CD 62 8B    		ITEM2:			CALL    GETVAR          ;VARIABLE	;VARIABLE
403)   A16A 20 2B       					JR      NZ,NOSUCH	;
404)   A16C B7          					OR      A	;
405)   A16D FA FA A1    					JP      M,LOADS         ;STRING VARIABLE	;STRING VARIABLE
406)   A170 B7          		@LOADN:			OR      A	;
407)   A171 28 18       					JR      Z,LOAD1         ;BYTE VARIABLE	;BYTE VARIABLE
408)   A173 0E 00       					LD      C,0	;
409)   A175 CB 47       					BIT     0,A	;
410)   A177 28 03       					JR      Z,LOAD4         ;INTEGER VARIABLE	;INTEGER VARIABLE
411)   A179 DD 4E 04    		LOAD5:			LD      C,(IX+4)	;
412)   A17C D9          		@LOAD4:			EXX	;
413)   A17D DD 6E 00    					LD      L,(IX+0)	;
414)   A180 DD 66 01    					LD      H,(IX+1)	;
415)   A183 D9          					EXX	;
416)   A184 DD 6E 02    					LD      L,(IX+2)	;
417)   A187 DD 66 03    					LD      H,(IX+3)	;
418)   A18A C9          					RET	;
420)   A18B 21 00 00    		LOAD1:			LD      HL,0	;
421)   A18E D9          					EXX	;
422)   A18F 26 00       					LD      H,0	;
423)   A191 DD 6E 00    					LD      L,(IX+0)	;
424)   A194 D9          					EXX	;
425)   A195 4C          					LD      C,H	;
426)   A196 C9          					RET	;
428)   A197 DA E2 8F    		NOSUCH:			JP      C,SYNTAX	;
429)   A19A 3A FE 03    					LD      A,(LISTON)	;
430)   A19D CB 6F       					BIT     5,A	;
431)   A19F 3E 1A       					LD      A,26	;
432)   A1A1 20 23       					JR      NZ,ERROR0       ;"No such variable"	;"No such variable"
433)   A1A3 FD 23       		NOS1:			INC     IY	;
434)   A1A5 CD 49 8D    					CALL    RANGE	;
435)   A1A8 30 F9       					JR      NC,NOS1	;
436)   A1AA DD 21 40 03 					LD      IX,PC	;
437)   A1AE AF          					XOR     A	;
438)   A1AF 4F          					LD      C,A	;
439)   A1B0 18 CA       					JR      LOAD4	;
448)   A1B2 11 00 01    		@CONS:			LD      DE,ACCS	;
449)   A1B5 FD 7E 00    		CONS3:			LD      A,(IY)	;
450)   A1B8 FD 23       					INC     IY	;
451)   A1BA FE 22       					CP      34		;ASCII ""	;ASCII ""
452)   A1BC 28 0B       					JR      Z,CONS2	;
453)   A1BE 12          		CONS1:			LD      (DE),A	;
454)   A1BF 1C          					INC     E	;
455)   A1C0 FE 0D       					CP      CR	;
456)   A1C2 20 F1       					JR      NZ,CONS3	;
457)   A1C4 3E 09       					LD      A,9	;
458)   A1C6 C3 FE 88    		ERROR0:			JP      ERROR           ;"Missing """	;"Missing """
460)   A1C9 FD 7E 00    		CONS2:			LD      A,(IY)	;
461)   A1CC FE 34       					CP      0x34		;ASCII "	;ASCII "
462)   A1CE FD 23       					INC     IY	;
463)   A1D0 28 EC       					JR      Z,CONS1	;
464)   A1D2 FD 2B       					DEC     IY	;
465)   A1D4 3E 80       					LD      A,80H           ;STRING MARKER	;STRING MARKER
466)   A1D6 C9          					RET	;
474)   A1D7 FD E5       		CON:			PUSH    IY	;
475)   A1D9 DD E1       					POP     IX	;
476)   A1DB 3E 24       					LD      A,36	;
477)   A1DD CD BF A6    					CALL    FPP	;
478)   A1E0 38 E4       					JR      C,ERROR0	;
479)   A1E2 DD E5       					PUSH    IX	;
480)   A1E4 FD E1       					POP     IY	;
481)   A1E6 AF          					XOR     A	;
482)   A1E7 C9          					RET	;
484)   A1E8 DD 46 04    		@DLOAD5:		LD      B,(IX+4)	;
485)   A1EB D9          					EXX	;
486)   A1EC DD 5E 00    					LD      E,(IX+0)	;
487)   A1EF DD 56 01    					LD      D,(IX+1)	;
488)   A1F2 D9          					EXX	;
489)   A1F3 DD 5E 02    					LD      E,(IX+2)	;
490)   A1F6 DD 56 03    					LD      D,(IX+3)	;
491)   A1F9 C9          					RET	;
493)   A1FA 11 00 01    		@LOADS:			LD      DE,ACCS	;
494)   A1FD 1F          					RRA	;
495)   A1FE 30 10       					JR      NC,LOADS2       ;FIXED STRING	;FIXED STRING
496)   A200 CD 7C A1    					CALL    LOAD4	;
497)   A203 D9          					EXX	;
498)   A204 7D          					LD      A,L	;
499)   A205 D9          					EXX	;
500)   A206 B7          					OR      A	;
501)   A207 4F          					LD      C,A	;
502)   A208 3E 80       					LD      A,80H           ;STRING MARKER	;STRING MARKER
503)   A20A C8          					RET     Z	;
504)   A20B 06 00       					LD      B,0	;
505)   A20D ED B0       					LDIR	;
506)   A20F C9          					RET	;
507)   A210 7E          		LOADS2:			LD      A,(HL)	;
508)   A211 12          					LD      (DE),A	;
509)   A212 23          					INC     HL	;
510)   A213 FE 0D       					CP      CR	;
511)   A215 3E 80       					LD      A,80H           ;STRING MARKER	;STRING MARKER
512)   A217 C8          					RET     Z	;
513)   A218 1C          					INC     E	;
514)   A219 20 F5       					JR      NZ,LOADS2	;
515)   A21B C9          					RET                     ;RETURN NULL STRING	;RETURN NULL STRING
545)   A21C CD CD B2    		POS:			CALL    GETCSR	;
546)   A21F EB          					EX      DE,HL	;
547)   A220 18 75       					JR      COUNT1	;
548)   A222 CD CD B2    		VPOS:			CALL    GETCSR	;
549)   A225 18 70       					JR      COUNT1	;
550)   A227 CD DA 99    		EOF:			CALL    CHANEL	;
551)   A22A CD AD B3    					CALL    OSSTAT	;
552)   A22D CA 04 A3    					JP      Z,TRUE	;
553)   A230 C3 E1 A5    					JP      ZERO	;
554)   A233 CD DA 99    		BGET:			CALL    CHANEL          ;CHANNEL NUMBER	;CHANNEL NUMBER
555)   A236 CD AD B3    					CALL    OSBGET	;
556)   A239 6F          					LD      L,A	;
557)   A23A 18 59       					JR      COUNT0	;
558)   A23C CD 97 A4    		INKEY:			CALL    INKEYS	;
559)   A23F 18 19       					JR      ASC0	;
560)   A241 CD 9B A6    		GET:			CALL    NXT	;
561)   A244 FE 28       					CP      '('	;
562)   A246 20 0A       					JR      NZ,GET0	;
563)   A248 CD CE A0    					CALL    ITEMI           ;PORT ADDRESS	;PORT ADDRESS
564)   A24B D9          					EXX	;
565)   A24C 44          					LD      B,H	;
566)   A24D 4D          					LD      C,L	;
567)   A24E ED 68       					IN      L,(C)           ;INPUT FROM PORT BC	;INPUT FROM PORT BC
568)   A250 18 43       					JR      COUNT0	;
569)   A252 CD 91 A4    		GET0:			CALL    GETS	;
570)   A255 18 08       					JR      ASC1	;
571)   A257 CD D7 A0    		ASC:			CALL    ITEMS	;
572)   A25A AF          		ASC0:			XOR     A	;
573)   A25B BB          					CP      E	;
574)   A25C CA 04 A3    					JP      Z,TRUE          ;NULL STRING	;NULL STRING
575)   A25F 2A 00 01    		ASC1:			LD      HL,(ACCS)	;
576)   A262 18 31       					JR      COUNT0	;
577)   A264 CD D7 A0    		LEN:			CALL    ITEMS	;
578)   A267 EB          					EX      DE,HL	;
579)   A268 18 2B       					JR      COUNT0	;
580)   A26A 2A E0 03    		LOMEMV:			LD      HL,(LOMEM)	;
581)   A26D 18 28       					JR      COUNT1	;
582)   A26F 2A E4 03    		HIMEMV:			LD      HL,(HIMEM)	;
583)   A272 18 23       					JR      COUNT1	;
584)   A274 2A DC 03    		PAGEV:			LD      HL,(PAGE)	;
585)   A277 18 1E       					JR      COUNT1	;
586)   A279 FD 7E 00    		TOPV:			LD      A,(IY)	;
587)   A27C FD 23       					INC     IY              ;SKIP "P"	;SKIP "P"
588)   A27E FE 50       					CP      'P'	;
589)   A280 C2 E2 8F    					JP      NZ,SYNTAX       ;"Syntax Error"	;"Syntax Error"
590)   A283 2A DE 03    					LD      HL,(TOP)	;
591)   A286 18 0F       					JR      COUNT1	;
592)   A288 2A F2 03    		ERLV:			LD      HL,(ERL)	;
593)   A28B 18 0A       					JR      COUNT1	;
594)   A28D 2A FD 03    		ERRV:			LD      HL,(ERR)	;
595)   A290 18 03       					JR      COUNT0	;
596)   A292 2A FB 03    		COUNTV:			LD      HL,(COUNT)	;
597)   A295 26 00       		COUNT0:			LD      H,0	;
598)   A297 D9          		COUNT1:			EXX	;
599)   A298 AF          					XOR     A	;
600)   A299 4F          					LD      C,A             ;INTEGER MARKER	;INTEGER MARKER
601)   A29A 67          					LD      H,A	;
602)   A29B 6F          					LD      L,A	;
603)   A29C C9          					RET	;
610)   A29D AF          		OPENOT:			XOR     A	;
611)   A29E 21          					DEFB    21H             ;SKIP NEXT 2 BYTES	;SKIP NEXT 2 BYTES
612)   A29F 3E 02       		OPENUP:			LD      A,2	;
613)   A2A1 21          					DEFB    21H             ;SKIP NEXT 2 BYTES	;SKIP NEXT 2 BYTES
614)   A2A2 3E 01       		OPENIN:			LD      A,1	;
615)   A2A4 F5          					PUSH    AF              ;SAVE OPEN TYPE	;SAVE OPEN TYPE
616)   A2A5 CD D7 A0    					CALL    ITEMS           ;FILENAME	;FILENAME
617)   A2A8 3E 0D       					LD      A,CR	;
618)   A2AA 12          					LD      (DE),A	;
619)   A2AB F1          					POP     AF              ;RESTORE OPEN TYPE	;RESTORE OPEN TYPE
620)   A2AC C6 FF       					ADD     A,-1            ;AFFECT FLAGS	;AFFECT FLAGS
621)   A2AE 21 00 01    					LD      HL,ACCS	;
622)   A2B1 CD AD B3    					CALL    OSOPEN	;
623)   A2B4 6F          					LD      L,A	;
624)   A2B5 18 DE       					JR      COUNT0	;
630)   A2B7 CD DA 99    		EXT:			CALL    CHANEL	;
631)   A2BA CD AD B3    					CALL    GETEXT	;
632)   A2BD 18 12       					JR      TIME0	;
634)   A2BF CD DA 99    		PTR:			CALL    CHANEL	;
635)   A2C2 CD AD B3    					CALL    GETPTR	;
636)   A2C5 18 0A       					JR      TIME0	;
641)   A2C7 FD 7E 00    		TIMEV:			LD      A,(IY)	;
642)   A2CA FE 24       					CP      '$'	;
643)   A2CC 28 09       					JR      Z,TIMEVS	;
644)   A2CE CD C5 B2    					CALL    GETIME	;
645)   A2D1 D5          		TIME0:			PUSH    DE	;
646)   A2D2 D9          					EXX	;
647)   A2D3 E1          					POP     HL	;
648)   A2D4 AF          					XOR     A	;
649)   A2D5 4F          					LD      C,A	;
650)   A2D6 C9          					RET	;
655)   A2D7 FD 23       		TIMEVS:			INC     IY              ;SKIP $	;SKIP $
656)   A2D9 CD B9 B2    					CALL    GETIMS	;
657)   A2DC 3E 80       					LD      A,80H           ;MARK STRING	;MARK STRING
658)   A2DE C9          					RET	;
662)   A2DF CD DE A5    		SLT:			CALL    SCP	;
663)   A2E2 D0          					RET     NC	;
664)   A2E3 18 1F       					JR      TRUE	;
666)   A2E5 CD DE A5    		SGT:			CALL    SCP	;
667)   A2E8 C8          					RET     Z	;
668)   A2E9 D8          					RET     C	;
669)   A2EA 18 18       					JR      TRUE	;
671)   A2EC CD DE A5    		SGE:			CALL    SCP	;
672)   A2EF D8          					RET     C	;
673)   A2F0 18 12       					JR      TRUE	;
675)   A2F2 CD DE A5    		SLE:			CALL    SCP	;
676)   A2F5 28 0D       					JR      Z,TRUE	;
677)   A2F7 D0          					RET     NC	;
678)   A2F8 18 0A       					JR      TRUE	;
680)   A2FA CD DE A5    		SNE:			CALL    SCP	;
681)   A2FD C8          					RET     Z	;
682)   A2FE 18 04       					JR      TRUE	;
684)   A300 CD DE A5    		SEQ:			CALL    SCP	;
685)   A303 C0          					RET     NZ	;
686)   A304 3E FF       		TRUE:			LD      A,-1	;
687)   A306 D9          					EXX	;
688)   A307 67          					LD      H,A	;
689)   A308 6F          					LD      L,A	;
690)   A309 D9          					EXX	;
691)   A30A 67          					LD      H,A	;
692)   A30B 6F          					LD      L,A	;
693)   A30C 3C          					INC     A	;
694)   A30D 4F          					LD      C,A	;
695)   A30E C9          					RET	;
700)   A30F 3E 23       		PI:			LD      A,35	;
701)   A311 18 43       					JR      FPP1	;
706)   A313 3E 10       		ABS:			LD      A,16	;
707)   A315 18 3A       					JR      FPPN	;
712)   A317 3E 1A       		NOTK:			LD      A,26	;
713)   A319 18 36       					JR      FPPN	;
718)   A31B 3E 15       		DEG:			LD      A,21	;
719)   A31D 18 32       					JR      FPPN	;
724)   A31F 3E 1B       		RAD:			LD      A,27	;
725)   A321 18 2E       					JR      FPPN	;
730)   A323 3E 1C       		SGN:			LD      A,28	;
731)   A325 18 2A       					JR      FPPN	;
736)   A327 3E 17       		INT:			LD      A,23	;
737)   A329 18 26       					JR      FPPN	;
742)   A32B 3E 1E       		SQR:			LD      A,30	;
743)   A32D 18 22       					JR      FPPN	;
748)   A32F 3E 1F       		TAN:			LD      A,31	;
749)   A331 18 1E       					JR      FPPN	;
754)   A333 3E 14       		COS:			LD      A,20	;
755)   A335 18 1A       					JR      FPPN	;
760)   A337 3E 1D       		SIN:			LD      A,29	;
761)   A339 18 16       					JR      FPPN	;
766)   A33B 3E 16       		EXP:			LD      A,22	;
767)   A33D 18 12       					JR      FPPN	;
772)   A33F 3E 18       		LN:			LD      A,24	;
773)   A341 18 0E       					JR      FPPN	;
778)   A343 3E 19       		LOG:			LD      A,25	;
779)   A345 18 0A       					JR      FPPN	;
784)   A347 3E 12       		ASN:			LD      A,18	;
785)   A349 18 06       					JR      FPPN	;
790)   A34B 3E 13       		ATN:			LD      A,19	;
791)   A34D 18 02       					JR      FPPN	;
796)   A34F 3E 11       		ACS:			LD      A,17	;
797)   A351 F5          		FPPN:			PUSH    AF	;
798)   A352 CD C7 A0    					CALL    ITEMN	;
799)   A355 F1          					POP     AF	;
800)   A356 CD BF A6    		FPP1:			CALL    FPP	;
801)   A359 DA FE 88    					JP      C,ERROR	;
802)   A35C AF          					XOR     A	;
803)   A35D C9          					RET	;
807)   A35E 3E 26       		@SFIX:			LD      A,38	;
808)   A360 18 F4       					JR      FPP1	;
812)   A362 3E 27       		SFLOAT:			LD      A,39	;
813)   A364 18 F0       					JR      FPP1	;
818)   A366 CD D7 A0    		VAL:			CALL    ITEMS	;
819)   A369 AF          		@VAL0:			XOR     A	;
820)   A36A 12          					LD      (DE),A	;
821)   A36B DD 21 00 01 					LD      IX,ACCS	;
822)   A36F 3E 24       					LD      A,36	;
823)   A371 18 E3       					JR      FPP1	;
828)   A373 CD D7 A0    		EVAL:			CALL    ITEMS	;
829)   A376 3E 0D       					LD      A,CR	;
830)   A378 12          					LD      (DE),A	;
831)   A379 FD E5       					PUSH    IY	;
832)   A37B 11 00 01    					LD      DE,ACCS	;
833)   A37E FD 21 00 01 					LD      IY,ACCS	;
834)   A382 0E 00       					LD      C,0	;
835)   A384 CD 78 8D    					CALL    LEXAN2          ;TOKENISE	;TOKENISE
836)   A387 12          					LD      (DE),A	;
837)   A388 13          					INC     DE	;
838)   A389 AF          					XOR     A	;
839)   A38A CD 02 A6    					CALL    PUSHS           ;PUT ON STACK	;PUT ON STACK
840)   A38D FD 21 02 00 					LD      IY,2	;
841)   A391 FD 39       					ADD     IY,SP	;
842)   A393 CD A7 9F    					CALL    EXPR	;
843)   A396 FD E1       					POP     IY	;
844)   A398 FD 39       					ADD     IY,SP	;
845)   A39A FD F9       					LD      SP,IY           ;ADJUST STACK POINTER	;ADJUST STACK POINTER
846)   A39C FD E1       					POP     IY	;
847)   A39E 08          					EX      AF,AF'	;
848)   A39F C9          					RET	;
857)   A3A0 DD 21 F6 03 		RND:			LD      IX,RANDOM	;
858)   A3A4 CD 9B A6    					CALL    NXT	;
859)   A3A7 FE 28       					CP      '('	;
860)   A3A9 28 1C       					JR      Z,RND5          ;ARGUMENT FOLLOWS	;ARGUMENT FOLLOWS
861)   A3AB CD 79 A1    					CALL    LOAD5	;
862)   A3AE CB 19       		RND1:			RR      C	;
863)   A3B0 06 20       					LD      B,32	;
864)   A3B2 D9          		RND2:			EXX                     ;CALCULATE NEXT	;CALCULATE NEXT
865)   A3B3 ED 6A       					ADC     HL,HL	;
866)   A3B5 D9          					EXX	;
867)   A3B6 ED 6A       					ADC     HL,HL	;
868)   A3B8 CB 5D       					BIT     3,L	;
869)   A3BA 28 01       					JR      Z,RND3	;
870)   A3BC 3F          					CCF	;
871)   A3BD 10 F3       		RND3:			DJNZ    RND2	;
872)   A3BF CB 11       		RND4:			RL      C               ;SAVE CARRY	;SAVE CARRY
873)   A3C1 CD 86 97    					CALL    STORE5          ;STORE NEW NUMBER	;STORE NEW NUMBER
874)   A3C4 AF          					XOR     A	;
875)   A3C5 4F          					LD      C,A	;
876)   A3C6 C9          					RET	;
877)   A3C7 CD CE A0    		RND5:			CALL    ITEMI	;
878)   A3CA DD 21 F6 03 					LD      IX,RANDOM	;
879)   A3CE CB 7C       					BIT     7,H             ;NEGATIVE?	;NEGATIVE?
880)   A3D0 37          					SCF	;
881)   A3D1 20 EC       					JR      NZ,RND4         ;SEED	;SEED
882)   A3D3 CD 42 A5    					CALL    TEST	;
883)   A3D6 F5          					PUSH    AF	;
884)   A3D7 CD 3A A5    					CALL    SWAP	;
885)   A3DA D9          					EXX	;
886)   A3DB CD 79 A1    					CALL    LOAD5	;
887)   A3DE C4 AE A3    					CALL    NZ,RND1         ;NEXT IF NON-ZERO	;NEXT IF NON-ZERO
888)   A3E1 D9          					EXX                     ;SCRAMBLE (CARE!)	;SCRAMBLE (CARE!)
889)   A3E2 0E 7F       					LD      C,7FH	;
890)   A3E4 CB 7C       		RND6:			BIT     7,H             ;FLOAT	;FLOAT
891)   A3E6 20 08       					JR      NZ,RND7	;
892)   A3E8 D9          					EXX	;
893)   A3E9 29          					ADD     HL,HL	;
894)   A3EA D9          					EXX	;
895)   A3EB ED 6A       					ADC     HL,HL	;
896)   A3ED 0D          					DEC     C	;
897)   A3EE 20 F4       					JR      NZ,RND6	;
898)   A3F0 CB BC       		RND7:			RES     7,H             ;POSITIVE 0-0.999999	;POSITIVE 0-0.999999
899)   A3F2 F1          					POP     AF	;
900)   A3F3 C8          					RET     Z               ;ZERO ARGUMENT	;ZERO ARGUMENT
901)   A3F4 D9          					EXX	;
902)   A3F5 7B          					LD      A,E	;
903)   A3F6 3D          					DEC     A	;
904)   A3F7 B2          					OR      D	;
905)   A3F8 D9          					EXX	;
906)   A3F9 B3          					OR      E	;
907)   A3FA B2          					OR      D	;
908)   A3FB C8          					RET     Z               ;ARGUMENT=1	;ARGUMENT=1
909)   A3FC 06 00       					LD      B,0             ;INTEGER MARKER	;INTEGER MARKER
910)   A3FE 3E 0A       					LD      A,10	;
911)   A400 CD BF A6    					CALL    FPP             ;MULTIPLY	;MULTIPLY
912)   A403 DA FE 88    					JP      C,ERROR	;
913)   A406 CD 5E A3    					CALL    SFIX	;
914)   A409 C3 29 A1    					JP      ADD1	;
919)   A40C CD 50 A6    		INSTR:			CALL    EXPRSC          ;STRING TO SEARCH	;STRING TO SEARCH
920)   A40F CD 02 A6    					CALL    PUSHS           ;SAVE STRING ON STACK	;SAVE STRING ON STACK
921)   A412 CD C0 A0    					CALL    EXPRS           ;SUB-STRING	;SUB-STRING
922)   A415 C1          					POP     BC	;
923)   A416 21 00 00    					LD      HL,0	;
924)   A419 39          					ADD     HL,SP           ;HL ADDRESSES MAIN	;HL ADDRESSES MAIN
925)   A41A C5          					PUSH    BC              ;C = MAIN STRING LENGTH	;C = MAIN STRING LENGTH
926)   A41B 43          					LD      B,E             ;B = SUB-STRING LENGTH	;B = SUB-STRING LENGTH
927)   A41C CD 9B A6    					CALL    NXT	;
928)   A41F FE 2C       					CP      ','	;
929)   A421 3E 00       					LD      A,0	;
930)   A423 20 17       					JR      NZ,INSTR1	;
931)   A425 FD 23       					INC     IY              ;SKIP COMMA	;SKIP COMMA
932)   A427 C5          					PUSH    BC              ;SAVE LENGTHS	;SAVE LENGTHS
933)   A428 E5          					PUSH    HL              ;SAVE MAIN ADDRESS	;SAVE MAIN ADDRESS
934)   A429 CD 02 A6    					CALL    PUSHS	;
935)   A42C CD B7 A0    					CALL    EXPRI	;
936)   A42F C1          					POP     BC	;
937)   A430 CD 21 A6    					CALL    POPS	;
938)   A433 E1          					POP     HL              ;RESTORE MAIN ADDRESS	;RESTORE MAIN ADDRESS
939)   A434 C1          					POP     BC              ;RESTORE LENGTHS	;RESTORE LENGTHS
940)   A435 D9          					EXX	;
941)   A436 7D          					LD      A,L	;
942)   A437 D9          					EXX	;
943)   A438 B7          					OR      A	;
944)   A439 28 01       					JR      Z,INSTR1	;
945)   A43B 3D          					DEC     A	;
946)   A43C 11 00 01    		INSTR1:			LD      DE,ACCS         ;DE ADDRESSES SUB	;DE ADDRESSES SUB
947)   A43F CD 56 A4    					CALL    SEARCH	;
948)   A442 D1          					POP     DE	;
949)   A443 28 03       					JR      Z,INSTR2        ;N.B. CARRY CLEARED	;N.B. CARRY CLEARED
950)   A445 ED 62       					SBC     HL,HL	;
951)   A447 39          					ADD     HL,SP	;
952)   A448 ED 72       		INSTR2:			SBC     HL,SP	;
953)   A44A EB          					EX      DE,HL	;
954)   A44B 26 00       					LD      H,0	;
955)   A44D 39          					ADD     HL,SP	;
956)   A44E F9          					LD      SP,HL	;
957)   A44F EB          					EX      DE,HL	;
958)   A450 CD 5F A6    					CALL    BRAKET	;
959)   A453 C3 97 A2    					JP      COUNT1	;
969)   A456 C5          		@SEARCH:		PUSH    BC	;
970)   A457 06 00       					LD      B,0	;
971)   A459 4F          					LD      C,A	;
972)   A45A 09          					ADD     HL,BC           ;NEW START ADDRESS	;NEW START ADDRESS
973)   A45B C1          					POP     BC	;
974)   A45C 91          					SUB     C	;
975)   A45D 30 28       					JR      NC,SRCH4	;
976)   A45F ED 44       					NEG	;
977)   A461 4F          					LD      C,A             ;REMAINING LENGTH	;REMAINING LENGTH
978)   A462 1A          		SRCH1:			LD      A,(DE)	;
979)   A463 C5          					PUSH    BC	;
980)   A464 06 00       					LD      B,0	;
981)   A466 ED B1       					CPIR                    ;FIND FIRST CHARACTER	;FIND FIRST CHARACTER
982)   A468 79          					LD      A,C	;
983)   A469 C1          					POP     BC	;
984)   A46A 20 1B       					JR      NZ,SRCH4	;
985)   A46C 4F          					LD      C,A	;
986)   A46D 05          					DEC     B               ;Bug fix	;Bug fix
987)   A46E B8          					CP      B               ;Bug fix	;Bug fix
988)   A46F 04          					INC     B               ;Bug fix	;Bug fix
989)   A470 38 15       					JR      C,SRCH4         ;Bug fix	;Bug fix
990)   A472 C5          					PUSH    BC	;
991)   A473 D5          					PUSH    DE	;
992)   A474 E5          					PUSH    HL	;
993)   A475 05          					DEC     B	;
994)   A476 28 08       					JR      Z,SRCH3         ;FOUND !	;FOUND !
995)   A478 13          		SRCH2:			INC     DE	;
996)   A479 1A          					LD      A,(DE)	;
997)   A47A BE          					CP      (HL)	;
998)   A47B 20 03       					JR      NZ,SRCH3	;
999)   A47D 23          					INC     HL	;
1000)   A47E 10 F8       					DJNZ    SRCH2	;
1001)   A480 E1          		SRCH3:			POP     HL	;
1002)   A481 D1          					POP     DE	;
1003)   A482 C1          					POP     BC	;
1004)   A483 20 DD       					JR      NZ,SRCH1	;
1005)   A485 AF          					XOR     A               ;Z, NC	;Z, NC
1006)   A486 C9          					RET                     ;FOUND	;FOUND
1008)   A487 F6 FF       		SRCH4:			OR      0FFH            ;NZ, NC	;NZ, NC
1009)   A489 C9          					RET                     ;NOT FOUND	;NOT FOUND
1014)   A48A CD CE A0    		CHRS:			CALL    ITEMI	;
1015)   A48D D9          					EXX	;
1016)   A48E 7D          					LD      A,L	;
1017)   A48F 18 03       					JR      GET1	;
1022)   A491 CD D4 B2    		GETS:			CALL    OSRDCH	;
1023)   A494 37          		GET1:			SCF	;
1024)   A495 18 07       					JR      INKEY1	;
1031)   A497 CD CE A0    		INKEYS:			CALL    ITEMI	;
1032)   A49A D9          					EXX	;
1033)   A49B CD DC B2    					CALL    OSKEY	;
1034)   A49E 11 00 01    		INKEY1:			LD      DE,ACCS	;
1035)   A4A1 12          					LD      (DE),A	;
1036)   A4A2 3E 80       					LD      A,80H	;
1037)   A4A4 D0          					RET     NC	;
1038)   A4A5 1C          					INC     E	;
1039)   A4A6 C9          					RET	;
1044)   A4A7 CD 50 A6    		MIDS:			CALL    EXPRSC	;
1045)   A4AA CD 02 A6    					CALL    PUSHS           ;SAVE STRING ON STACK	;SAVE STRING ON STACK
1046)   A4AD CD B7 A0    					CALL    EXPRI	;
1047)   A4B0 C1          					POP     BC	;
1048)   A4B1 CD 21 A6    					CALL    POPS	;
1049)   A4B4 D9          					EXX	;
1050)   A4B5 7D          					LD      A,L	;
1051)   A4B6 D9          					EXX	;
1052)   A4B7 B7          					OR      A	;
1053)   A4B8 28 0D       					JR      Z,MIDS1	;
1054)   A4BA 3D          					DEC     A	;
1055)   A4BB 6F          					LD      L,A	;
1056)   A4BC 93          					SUB     E	;
1057)   A4BD 1E 00       					LD      E,0	;
1058)   A4BF 30 06       					JR      NC,MIDS1	;
1059)   A4C1 ED 44       					NEG	;
1060)   A4C3 4F          					LD      C,A	;
1061)   A4C4 CD FE A4    					CALL    RIGHT1	;
1062)   A4C7 CD 9B A6    		MIDS1:			CALL    NXT	;
1063)   A4CA FE 2C       					CP      ','	;
1064)   A4CC FD 23       					INC     IY	;
1065)   A4CE 28 0B       					JR      Z,LEFT1	;
1066)   A4D0 FD 2B       					DEC     IY	;
1067)   A4D2 CD 5F A6    					CALL    BRAKET	;
1068)   A4D5 3E 80       					LD      A,80H	;
1069)   A4D7 C9          					RET	;
1075)   A4D8 CD 50 A6    		LEFTS:			CALL    EXPRSC	;
1076)   A4DB CD 02 A6    		LEFT1:			CALL    PUSHS           ;SAVE STRING ON STACK	;SAVE STRING ON STACK
1077)   A4DE CD B7 A0    					CALL    EXPRI	;
1078)   A4E1 C1          					POP     BC	;
1079)   A4E2 CD 21 A6    					CALL    POPS	;
1080)   A4E5 CD 5F A6    					CALL    BRAKET	;
1081)   A4E8 D9          					EXX	;
1082)   A4E9 7D          					LD      A,L	;
1083)   A4EA D9          					EXX	;
1084)   A4EB BB          					CP      E	;
1085)   A4EC 30 02       					JR      NC,LEFT3	;
1086)   A4EE 6B          					LD      L,E             ;FOR RIGHTS	;FOR RIGHTS
1087)   A4EF 5F          		LEFT2:			LD      E,A	;
1088)   A4F0 3E 80       		LEFT3:			LD      A,80H           ;STRING MARKER	;STRING MARKER
1089)   A4F2 C9          					RET	;
1094)   A4F3 CD D8 A4    		RIGHTS:			CALL    LEFTS	;
1095)   A4F6 D0          					RET     NC	;
1096)   A4F7 1C          					INC     E	;
1097)   A4F8 1D          					DEC     E	;
1098)   A4F9 C8          					RET     Z	;
1099)   A4FA 4B          					LD      C,E	;
1100)   A4FB 7D          					LD      A,L	;
1101)   A4FC 93          					SUB     E	;
1102)   A4FD 6F          					LD      L,A	;
1103)   A4FE 06 00       		RIGHT1:			LD      B,0	;
1104)   A500 62          					LD      H,D	;
1105)   A501 58          					LD      E,B	;
1106)   A502 ED B0       					LDIR                    ;MOVE	;MOVE
1107)   A504 3E 80       					LD      A,80H	;
1108)   A506 C9          					RET	;
1113)   A507 CD B7 A0    		STRING:			CALL    EXPRI	;
1114)   A50A CD 53 A6    					CALL    COMMA	;
1115)   A50D D9          					EXX	;
1116)   A50E 7D          					LD      A,L	;
1117)   A50F D9          					EXX	;
1118)   A510 F5          					PUSH    AF	;
1119)   A511 CD C0 A0    					CALL    EXPRS	;
1120)   A514 CD 5F A6    					CALL    BRAKET	;
1121)   A517 F1          					POP     AF	;
1122)   A518 B7          					OR      A	;
1123)   A519 28 D4       					JR      Z,LEFT2         ;N=0	;N=0
1124)   A51B 3D          					DEC     A	;
1125)   A51C 4F          					LD      C,A	;
1126)   A51D 3E 80       					LD      A,80H           ;STRING MARKER	;STRING MARKER
1127)   A51F C8          					RET     Z	;
1128)   A520 1C          					INC     E	;
1129)   A521 1D          					DEC     E	;
1130)   A522 C8          					RET     Z               ;NULL STRING	;NULL STRING
1131)   A523 43          					LD      B,E	;
1132)   A524 62          					LD      H,D	;
1133)   A525 2E 00       					LD      L,0	;
1134)   A527 C5          		STRIN1:			PUSH    BC	;
1135)   A528 7E          		STRIN2:			LD      A,(HL)	;
1136)   A529 23          					INC     HL	;
1137)   A52A 12          					LD      (DE),A	;
1138)   A52B 1C          					INC     E	;
1139)   A52C 3E 13       					LD      A,19	;
1140)   A52E CA FE 88    					JP      Z,ERROR         ;"String too long"	;"String too long"
1141)   A531 10 F5       					DJNZ    STRIN2	;
1142)   A533 C1          					POP     BC	;
1143)   A534 0D          					DEC     C	;
1144)   A535 20 F0       					JR      NZ,STRIN1	;
1145)   A537 3E 80       					LD      A,80H	;
1146)   A539 C9          					RET	;
1154)   A53A 79          		@SWAP:			LD      A,C	;
1155)   A53B 48          					LD      C,B	;
1156)   A53C 47          					LD      B,A	;
1157)   A53D EB          					EX      DE,HL	;
1158)   A53E D9          					EXX	;
1159)   A53F EB          					EX      DE,HL	;
1160)   A540 D9          					EXX	;
1161)   A541 C9          					RET	;
1167)   A542 7C          		@TEST:			LD      A,H	;
1168)   A543 B5          					OR      L	;
1169)   A544 D9          					EXX	;
1170)   A545 B4          					OR      H	;
1171)   A546 B5          					OR      L	;
1172)   A547 D9          					EXX	;
1173)   A548 C9          					RET	;
1180)   A549 D9          		@DECODE:		EXX	;
1181)   A54A FD 7E 00    					LD      A,(IY)	;
1182)   A54D FD 23       					INC     IY	;
1183)   A54F 17          					RLA	;
1184)   A550 17          					RLA	;
1185)   A551 67          					LD      H,A	;
1186)   A552 E6 C0       					AND     0C0H	;
1187)   A554 FD AE 00    					XOR     (IY)	;
1188)   A557 FD 23       					INC     IY	;
1189)   A559 6F          					LD      L,A	;
1190)   A55A 7C          					LD      A,H	;
1191)   A55B 17          					RLA	;
1192)   A55C 17          					RLA	;
1193)   A55D E6 C0       					AND     0C0H	;
1194)   A55F FD AE 00    					XOR     (IY)	;
1195)   A562 FD 23       					INC     IY	;
1196)   A564 67          					LD      H,A	;
1197)   A565 D9          					EXX	;
1198)   A566 AF          					XOR     A	;
1199)   A567 4F          					LD      C,A	;
1200)   A568 67          					LD      H,A	;
1201)   A569 6F          					LD      L,A	;
1202)   A56A C9          					RET	;
1209)   A56B FD 23       		HEXSTS:			INC     IY              ;SKIP TILDE	;SKIP TILDE
1210)   A56D CD C7 A0    					CALL    ITEMN	;
1211)   A570 CD 76 A5    					CALL    HEXSTR	;
1212)   A573 3E 80       					LD      A,80H	;
1213)   A575 C9          					RET	;
1215)   A576 CD 5E A3    		@HEXSTR:		CALL    SFIX	;
1216)   A579 01 08 00    					LD      BC,8	;
1217)   A57C 11 00 01    					LD      DE,ACCS	;
1218)   A57F C5          		HEXST1:			PUSH    BC	;
1219)   A580 06 04       					LD      B,4	;
1220)   A582 AF          					XOR     A	;
1221)   A583 D9          		HEXST2:			EXX	;
1222)   A584 29          					ADD     HL,HL	;
1223)   A585 D9          					EXX	;
1224)   A586 ED 6A       					ADC     HL,HL	;
1225)   A588 17          					RLA	;
1226)   A589 10 F8       					DJNZ    HEXST2	;
1227)   A58B C1          					POP     BC	;
1228)   A58C 0D          					DEC     C	;
1229)   A58D F8          					RET     M	;
1230)   A58E 28 06       					JR      Z,HEXST3	;
1231)   A590 B7          					OR      A	;
1232)   A591 20 03       					JR      NZ,HEXST3	;
1233)   A593 B8          					CP      B	;
1234)   A594 28 E9       					JR      Z,HEXST1	;
1235)   A596 C6 90       		HEXST3:			ADD     A,90H	;
1236)   A598 27          					DAA	;
1237)   A599 CE 40       					ADC     A,40H	;
1238)   A59B 27          					DAA	;
1239)   A59C 12          					LD      (DE),A	;
1240)   A59D 13          					INC     DE	;
1241)   A59E 47          					LD      B,A	;
1242)   A59F 18 DE       					JR      HEXST1	;
1252)   A5A1 CD 9B A6    		STRS:			CALL    NXT	;
1253)   A5A4 FE 7E       					CP      '~'	;
1254)   A5A6 28 C3       					JR      Z,HEXSTS	;
1255)   A5A8 CD C7 A0    					CALL    ITEMN	;
1256)   A5AB DD 21 00 03 					LD      IX,STAVAR	;
1257)   A5AF DD 7E 03    					LD      A,(IX+3)	;
1258)   A5B2 B7          					OR      A	;
1259)   A5B3 DD 21 DB A5 					LD      IX,G9-1         ;G9 FORMAT	;G9 FORMAT
1260)   A5B7 28 04       					JR      Z,STR0	;
1261)   A5B9 DD 21 00 03 		@STR:			LD      IX,STAVAR	;
1262)   A5BD 11 00 01    		STR0:			LD      DE,ACCS	;
1263)   A5C0 3E 25       					LD      A,37	;
1264)   A5C2 CD BF A6    					CALL    FPP	;
1265)   A5C5 DA FE 88    					JP      C,ERROR	;
1266)   A5C8 DD CB 02 46 					BIT     0,(IX+2)	;
1267)   A5CC 3E 80       		STR1:			LD      A,80H           ;STRING MARKER	;STRING MARKER
1268)   A5CE C8          					RET     Z	;
1269)   A5CF 79          					LD      A,C	;
1270)   A5D0 C6 04       					ADD     A,4	;
1271)   A5D2 BB          		STR2:			CP      E	;
1272)   A5D3 28 F7       					JR      Z,STR1	;
1273)   A5D5 EB          					EX      DE,HL		;
1274)   A5D6 36 20       					LD      (HL),' '        ;TRAILING SPACE	;TRAILING SPACE
1275)   A5D8 23          					INC     HL	;
1276)   A5D9 EB          					EX      DE,HL	;
1277)   A5DA 18 F6       					JR      STR2	;
1279)   A5DC 09 00       		G9:			DEFW    9	;
1285)   A5DE CD EB A5    		SCP:			CALL    SCP0	;
1286)   A5E1 3E 00       		@ZERO:			LD      A,0	;
1287)   A5E3 D9          					EXX	;
1288)   A5E4 67          					LD      H,A	;
1289)   A5E5 6F          					LD      L,A	;
1290)   A5E6 D9          					EXX	;
1291)   A5E7 67          					LD      H,A	;
1292)   A5E8 6F          					LD      L,A	;
1293)   A5E9 4F          					LD      C,A	;
1294)   A5EA C9          					RET	;
1296)   A5EB 04          		SCP0:			INC     B	;
1297)   A5EC 0C          					INC     C	;
1298)   A5ED 05          		SCP1:			DEC     B	;
1299)   A5EE 28 0A       					JR      Z,SCP2	;
1300)   A5F0 0D          					DEC     C	;
1301)   A5F1 28 0C       					JR      Z,SCP3	;
1302)   A5F3 1A          					LD      A,(DE)	;
1303)   A5F4 BE          					CP      (HL)	;
1304)   A5F5 C0          					RET     NZ	;
1305)   A5F6 13          					INC     DE	;
1306)   A5F7 23          					INC     HL	;
1307)   A5F8 18 F3       					JR      SCP1	;
1308)   A5FA B7          		SCP2:			OR      A	;
1309)   A5FB 0D          						DEC     C	;
1310)   A5FC C8          					RET     Z	;
1311)   A5FD 37          					SCF	;
1312)   A5FE C9          					RET	;
1313)   A5FF B7          		SCP3:			OR      A	;
1314)   A600 0C          					INC     C	;
1315)   A601 C9          					RET	;
1323)   A602 CD E2 97    		@PUSHS:			CALL    CHECK	;
1324)   A605 DD E1       					POP     IX              ;RETURN ADDRESS	;RETURN ADDRESS
1325)   A607 B7          					OR      A               ;CLEAR CARRY	;CLEAR CARRY
1326)   A608 21 00 01    					LD      HL,ACCS	;
1327)   A60B 54          					LD      D,H	;
1328)   A60C 45          					LD      B,L             ;B=0	;B=0
1329)   A60D ED 52       					SBC     HL,DE	;
1330)   A60F 39          					ADD     HL,SP	;
1331)   A610 F9          					LD      SP,HL	;
1332)   A611 57          					LD      D,A	;
1333)   A612 D5          					PUSH    DE	;
1334)   A613 28 0A       					JR      Z,PUSHS1        ;ZERO LENGTH	;ZERO LENGTH
1335)   A615 4B          					LD      C,E	;
1336)   A616 11 00 01    					LD      DE,ACCS	;
1337)   A619 EB          					EX      DE,HL	;
1338)   A61A ED B0       					LDIR                    ;COPY TO STACK	;COPY TO STACK
1339)   A61C CD E2 97    					CALL    CHECK	;
1340)   A61F DD E9       		PUSHS1:			JP      (IX)            ;"RETURN"	;"RETURN"
1348)   A621 DD E1       		@POPS:			POP     IX              ;RETURN ADDRESS	;RETURN ADDRESS
1349)   A623 21 00 00    					LD      HL,0	;
1350)   A626 44          					LD      B,H             ;B=0	;B=0
1351)   A627 39          					ADD     HL,SP	;
1352)   A628 11 00 01    					LD      DE,ACCS	;
1353)   A62B 0C          					INC     C	;
1354)   A62C 0D          					DEC     C	;
1355)   A62D 28 02       					JR      Z,POPS1         ;ZERO LENGTH	;ZERO LENGTH
1356)   A62F ED B0       					LDIR                    ;COPY FROM STACK	;COPY FROM STACK
1357)   A631 F9          		POPS1:			LD      SP,HL	;
1358)   A632 DD E9       					JP      (IX)            ;"RETURN"	;"RETURN"
1360)   A634 FD 7E 00    		HEXDIG:			LD      A,(IY)	;
1361)   A637 FE 30       					CP      '0'	;
1362)   A639 D8          					RET     C	;
1363)   A63A FE 3A       					CP      '9'+1	;
1364)   A63C 3F          					CCF	;
1365)   A63D D0          					RET     NC	;
1366)   A63E FE 41       					CP      'A'	;
1367)   A640 D8          					RET     C	;
1368)   A641 D6 37       					SUB     'A'-10	;
1369)   A643 FE 10       					CP      16	;
1370)   A645 3F          					CCF	;
1371)   A646 C9          					RET	;
1373)   A647 FE 3E       		RELOP?:			CP      '>'	;
1374)   A649 D0          					RET     NC	;
1375)   A64A FE 3D       					CP      '='	;
1376)   A64C D0          					RET     NC	;
1377)   A64D FE 3C       					CP      '<'	;
1378)   A64F C9          					RET	;
1380)   A650 CD C0 A0    		EXPRSC:			CALL    EXPRS	;
1381)   A653 CD 9B A6    		@COMMA:			CALL    NXT	;
1382)   A656 FD 23       					INC     IY	;
1383)   A658 FE 2C       					CP      ','	;
1384)   A65A C8          					RET     Z	;
1385)   A65B 3E 05       					LD      A,5	;
1386)   A65D 18 0A       					JR      ERROR1          ;"Missing ,"	;"Missing ,"
1388)   A65F CD 9B A6    		@BRAKET:		CALL    NXT	;
1389)   A662 FD 23       					INC     IY	;
1390)   A664 FE 29       					CP      ')'	;
1391)   A666 C8          					RET     Z	;
1392)   A667 3E 1B       					LD      A,27	;
1393)   A669 C3 FE 88    		ERROR1:			JP      ERROR           ;"Missing )"	;"Missing )"
1395)   A66C FD 23       		SAVE:			INC     IY	;
1396)   A66E 08          		SAVE1:			EX      AF,AF'	;
1397)   A66F FA DC A0    					JP      M,TYPE	;
1398)   A672 08          					EX      AF,AF'	;
1399)   A673 E3          					EX      (SP),HL	;
1400)   A674 D9          					EXX	;
1401)   A675 E5          					PUSH    HL	;
1402)   A676 D9          					EXX	;
1403)   A677 F5          					PUSH    AF	;
1404)   A678 C5          					PUSH    BC	;
1405)   A679 E9          					JP      (HL)	;
1407)   A67A 08          		DOIT:			EX      AF,AF'	;
1408)   A67B FA DC A0    					JP      M,TYPE	;
1409)   A67E D9          					EXX	;
1410)   A67F C1          					POP     BC              ;RETURN ADDRESS	;RETURN ADDRESS
1411)   A680 D9          					EXX	;
1412)   A681 79          					LD      A,C	;
1413)   A682 C1          					POP     BC	;
1414)   A683 47          					LD      B,A	;
1415)   A684 F1          					POP     AF              ;OPERATOR	;OPERATOR
1416)   A685 D9          					EXX	;
1417)   A686 EB          					EX      DE,HL	;
1418)   A687 E1          					POP     HL	;
1419)   A688 D9          					EXX	;
1420)   A689 EB          					EX      DE,HL	;
1421)   A68A E1          					POP     HL	;
1422)   A68B D9          					EXX	;
1423)   A68C C5          					PUSH    BC	;
1424)   A68D D9          					EXX	;
1425)   A68E E6 0F       					AND     0FH	;
1426)   A690 CD BF A6    					CALL    FPP	;
1427)   A693 38 D4       					JR      C,ERROR1	;
1428)   A695 AF          					XOR     A	;
1429)   A696 08          					EX      AF,AF'          ;TYPE	;TYPE
1430)   A697 FD 7E 00    					LD      A,(IY)	;
1431)   A69A C9          					RET	;
1433)   A69B FD 7E 00    		@NXT:			LD      A,(IY)	;
1434)   A69E FE 20       					CP      ' '	;
1435)   A6A0 C0          					RET     NZ	;
1436)   A6A1 FD 23       					INC     IY	;
1437)   A6A3 C3 9B A6    					JP      NXT	;
1439)   A6A6 E5          		DISPT2:			PUSH    HL	;
1440)   A6A7 21 9B 9F    					LD      HL,SOPTBL	;
1441)   A6AA 18 06       					JR      DISPT0	;
1443)   A6AC E5          		DISPAT:			PUSH    HL	;
1444)   A6AD D6 8D       					SUB     FUNTOK	;
1445)   A6AF 21 29 9F    					LD      HL,FUNTBL	;
1446)   A6B2 C5          		DISPT0:			PUSH    BC	;
1447)   A6B3 87          					ADD     A,A	;
1448)   A6B4 4F          					LD      C,A	;
1449)   A6B5 06 00       					LD      B,0	;
1450)   A6B7 09          					ADD     HL,BC	;
1451)   A6B8 7E          					LD      A,(HL)	;
1452)   A6B9 23          					INC     HL	;
1453)   A6BA 66          					LD      H,(HL)	;
1454)   A6BB 6F          					LD      L,A	;
1455)   A6BC C1          					POP     BC	;
1456)   A6BD E3          					EX      (SP),HL	;
1457)   A6BE C9          					RET                     ;OFF TO ROUTINE	;OFF TO ROUTINE
 36)   A6BF FD E5       		@FPP:			PUSH    IY              ;Save IY	;Save IY
 37)   A6C1 FD 21 00 00 		        		LD      IY,0	;
 38)   A6C5 FD 39       		        		ADD     IY,SP           ;Save SP in IY	;Save SP in IY
 39)   A6C7 CD D6 A6    		        		CALL    OP              ;Perform operation	;Perform operation
 40)   A6CA BF          		        		CP      A               ;Good return (Z, NC)	;Good return (Z, NC)
 41)   A6CB FD E1       		EXIT:			POP     IY              ;Restore IY	;Restore IY
 42)   A6CD C9          		        		RET                     ;Return to caller	;Return to caller
 46)   A6CE 3E 01       		BAD:			LD      A,BADOP         ;"Bad operation code"	;"Bad operation code"
 47)   A6D0 FD F9       		ERROR:			LD      SP,IY           ;Restore SP from IY	;Restore SP from IY
 48)   A6D2 B7          		        		OR      A               ;Set NZ	;Set NZ
 49)   A6D3 37          		        		SCF                     ;Set C	;Set C
 50)   A6D4 18 F5       		        		JR      EXIT	;
 54)   A6D6 FE 2A       		OP:			CP      (RTABLE-DTABLE)/2	;
 55)   A6D8 30 F4       		        		JR      NC,BAD	;
 56)   A6DA FE 10       		        		CP      (FTABLE-DTABLE)/2	;
 57)   A6DC 30 07       		        		JR      NC,DISPAT	;
 58)   A6DE 08          		        		EX      AF,AF'	;
 59)   A6DF 78          		        		LD      A,B	;
 60)   A6E0 B1          		        		OR      C               ;Both integer?	;Both integer?
 61)   A6E1 C4 60 B0    		        		CALL    NZ,FLOATA       ;No, so float both	;No, so float both
 62)   A6E4 08          		        		EX      AF,AF'	;
 63)   A6E5 E5          		DISPAT:			PUSH    HL	;
 64)   A6E6 21 F6 A6    		        		LD      HL,DTABLE	;
 65)   A6E9 C5          		        		PUSH    BC	;
 66)   A6EA 87          		        		ADD     A,A             ;A = op-code * 2	;A = op-code * 2
 67)   A6EB 4F          		        		LD      C,A	;
 68)   A6EC 06 00       		        		LD      B,0             ;BC = op-code * 2	;BC = op-code * 2
 69)   A6EE 09          		        		ADD     HL,BC	;
 70)   A6EF 7E          		        		LD      A,(HL)          ;Get low byte	;Get low byte
 71)   A6F0 23          		        		INC     HL	;
 72)   A6F1 66          		        		LD      H,(HL)          ;Get high byte	;Get high byte
 73)   A6F2 6F          		        		LD      L,A	;
 74)   A6F3 C1          		        		POP     BC	;
 75)   A6F4 E3          		        		EX      (SP),HL	;
 76)   A6F5 C9          		        		RET                     ;Off to routine	;Off to routine
 80)   A6F6 6D A7       		DTABLE:			DEFW    IAND            ;AND (INTEGER)	;AND (INTEGER)
 81)   A6F8 D0 A7       		        		DEFW    IBDIV           ;DIV	;DIV
 82)   A6FA 7F A7       		        		DEFW    IEOR            ;EOR	;EOR
 83)   A6FC A3 A7       		        		DEFW    IMOD            ;MOD	;MOD
 84)   A6FE 91 A7       		        		DEFW    IOR             ;OR	;OR
 85)   A700 FF A9       		        		DEFW    ILE             ;<=	;<=
 86)   A702 0C AA       		        		DEFW    INE             ;<>	;<>
 87)   A704 F4 A9       		        		DEFW    IGE             ;>=	;>=
 88)   A706 DD A9       		        		DEFW    ILT             ;<	;<
 89)   A708 17 AA       		        		DEFW    IEQ             ;=	;=
 90)   A70A 9A A8       		        		DEFW    IMUL            ;*	;*
 91)   A70C F3 A7       		        		DEFW    IADD            ;+	;+
 92)   A70E E8 A9       		        		DEFW    IGT             ;>	;>
 93)   A710 DD A7       		        		DEFW    ISUB            ;-	;-
 94)   A712 38 A9       		        		DEFW    IPOW            ;^	;^
 95)   A714 52 A8       		        		DEFW    IDIV            ;/	;/
 97)   A716 26 AA       		FTABLE:			DEFW    ABS             ;ABS	;ABS
 98)   A718 82 AD       		        		DEFW    ACS             ;ACS	;ACS
 99)   A71A DE AC       		        		DEFW    ASN             ;ASN	;ASN
100)   A71C 03 AD       		        		DEFW    ATN             ;ATN	;ATN
101)   A71E 1C AB       		        		DEFW    COS             ;COS	;COS
102)   A720 50 AA       		        		DEFW    DEG             ;DEG	;DEG
103)   A722 C1 AB       		        		DEFW    EXP             ;EXP	;EXP
104)   A724 96 AA       		        		DEFW    INT             ;INT	;INT
105)   A726 4C AC       		        		DEFW    LN              ;LN	;LN
106)   A728 CC AC       		        		DEFW    LOG             ;LOG	;LOG
107)   A72A 31 AA       		        		DEFW    NOTK            ;NOT	;NOT
108)   A72C 58 AA       		        		DEFW    RAD             ;RAD	;RAD
109)   A72E 6E AA       		        		DEFW    SGN             ;SGN	;SGN
110)   A730 27 AB       		        		DEFW    SIN             ;SIN	;SIN
111)   A732 AC AA       		        		DEFW    SQR             ;SQR	;SQR
112)   A734 FF AA       		        		DEFW    TAN             ;TAN	;TAN
114)   A736 DC B0       				        DEFW    ZERO            ;ZERO	;ZERO
115)   A738 A0 AB       		        		DEFW    FONE            ;FONE	;FONE
116)   A73A 1B AA       		        		DEFW    TRUE            ;TRUE	;TRUE
117)   A73C 44 AA       		        		DEFW    PI              ;PI	;PI
119)   A73E 7E AA       				        DEFW    VAL             ;VAL	;VAL
120)   A740 8A AD       		        		DEFW    STR             ;STR$	;STR$
122)   A742 B1 AF       		        		DEFW    SFIX            ;FIX	;FIX
123)   A744 6D B0       		        		DEFW    SFLOAT          ;FLOAT	;FLOAT
125)   A746 B2 B0       				        DEFW    FTEST           ;TEST	;TEST
126)   A748 C3 B0       		        		DEFW    FCOMP           ;COMPARE	;COMPARE
128)   A74A 6A A7       		RTABLE:			DEFW    FAND            ;AND (FLOATING-POINT)	;AND (FLOATING-POINT)
129)   A74C CD A7       		        		DEFW    FBDIV           ;DIV	;DIV
130)   A74E 7C A7       		        		DEFW    FEOR            ;EOR	;EOR
131)   A750 A0 A7       		        		DEFW    FMOD            ;MOD	;MOD
132)   A752 8E A7       		        		DEFW    FOR             ;OR	;OR
133)   A754 FA A9       		        		DEFW    FLE             ;<= 	;<=
134)   A756 07 AA       		        		DEFW    FNE             ;<>	;<>
135)   A758 EF A9       		        		DEFW    FGE             ;>=	;>=
136)   A75A D8 A9       		        		DEFW    FLT             ;<	;<
137)   A75C 12 AA       		        		DEFW    FEQ             ;=	;=
138)   A75E E8 A8       		        		DEFW    FMUL            ;*	;*
139)   A760 FD A7       		        		DEFW    FADD            ;+	;+
140)   A762 E3 A9       		        		DEFW    FGT             ;>	;>
141)   A764 E7 A7       		        		DEFW    FSUB            ;-	;-
142)   A766 AE A9       		        		DEFW    FPOW            ;^	;^
143)   A768 55 A8       		        		DEFW    FDIV            ;/	;/
156)   A76A CD A8 AF    		FAND:			CALL    FIX2	;
157)   A76D 7C          		IAND:			LD      A,H	;
158)   A76E A2          		        		AND     D	;
159)   A76F 67          		        		LD      H,A	;
160)   A770 7D          		        		LD      A,L	;
161)   A771 A3          		        		AND     E	;
162)   A772 6F          		        		LD      L,A	;
163)   A773 D9          		        		EXX	;
164)   A774 7C          		        		LD      A,H	;
165)   A775 A2          		        		AND     D	;
166)   A776 67          		        		LD      H,A	;
167)   A777 7D          		        		LD      A,L	;
168)   A778 A3          		        		AND     E	;
169)   A779 6F          		        		LD      L,A	;
170)   A77A D9          		        		EXX	;
171)   A77B C9          		        		RET	;
176)   A77C CD A8 AF    		FEOR:			CALL    FIX2	;
177)   A77F 7C          		IEOR:			LD      A,H	;
178)   A780 AA          		        		XOR     D	;
179)   A781 67          		        		LD      H,A	;
180)   A782 7D          		        		LD      A,L	;
181)   A783 AB          		        		XOR     E	;
182)   A784 6F          		        		LD      L,A	;
183)   A785 D9          		        		EXX	;
184)   A786 7C          		        		LD      A,H	;
185)   A787 AA          		        		XOR     D	;
186)   A788 67          		        		LD      H,A	;
187)   A789 7D          		        		LD      A,L	;
188)   A78A AB          		        		XOR     E	;
189)   A78B 6F          		        		LD      L,A	;
190)   A78C D9          		        		EXX	;
191)   A78D C9          		        		RET	;
196)   A78E CD A8 AF    		FOR:			CALL    FIX2	;
197)   A791 7C          		IOR:			LD      A,H	;
198)   A792 B2          		        		OR      D	;
199)   A793 67          		        		LD      H,A	;
200)   A794 7D          		        		LD      A,L	;
201)   A795 B3          		        		OR      E	;
202)   A796 6F          		        		LD      L,A	;
203)   A797 D9          		        		EXX	;
204)   A798 7C          		        		LD      A,H	;
205)   A799 B2          		        		OR      D	;
206)   A79A 67          		        		LD      H,A	;
207)   A79B 7D          		        		LD      A,L	;
208)   A79C B3          		        		OR      E	;
209)   A79D 6F          		        		LD      L,A	;
210)   A79E D9          		        		EXX	;
211)   A79F C9          		        		RET	;
216)   A7A0 CD A8 AF    		FMOD:			CALL    FIX2	;
217)   A7A3 7C          		IMOD:			LD      A,H	;
218)   A7A4 AA          		        		XOR     D               ;DIV RESULT SIGN	;DIV RESULT SIGN
219)   A7A5 CB 7C       		        		BIT     7,H	;
220)   A7A7 08          		        		EX      AF,AF'	;
221)   A7A8 CB 7C       		        		BIT     7,H	;
222)   A7AA C4 C0 AF    		        		CALL    NZ,NEGATE       ;MAKE ARGUMENTS +VE	;MAKE ARGUMENTS +VE
223)   A7AD CD 97 B0    		        		CALL    SWAP	;
224)   A7B0 CB 7C       		        		BIT     7,H	;
225)   A7B2 C4 C0 AF    		        		CALL    NZ,NEGATE	;
226)   A7B5 44          		        		LD      B,H	;
227)   A7B6 4D          		        		LD      C,L	;
228)   A7B7 21 00 00    		        		LD      HL,0	;
229)   A7BA D9          		        		EXX	;
230)   A7BB 44          		        		LD      B,H	;
231)   A7BC 4D          		        		LD      C,L	;
232)   A7BD 21 00 00    		        		LD      HL,0	;
233)   A7C0 3E DF       		        		LD      A,-33	;
234)   A7C2 CD EC B1    		        		CALL    DIVA            ;DIVIDE	;DIVIDE
235)   A7C5 D9          		        		EXX	;
236)   A7C6 0E 00       		        		LD      C,0             ;INTEGER MARKER	;INTEGER MARKER
237)   A7C8 08          		        		EX      AF,AF'	;
238)   A7C9 C8          		        		RET     Z	;
239)   A7CA C3 C0 AF    		        		JP      NEGATE	;
243)   A7CD CD A8 AF    		FBDIV:			CALL    FIX2	;
244)   A7D0 CD A3 A7    		IBDIV:			CALL    IMOD	;
245)   A7D3 B7          		        		OR      A	;
246)   A7D4 CD 97 B0    		        		CALL    SWAP	;
247)   A7D7 0E 00       		        		LD      C,0	;
248)   A7D9 F0          		        		RET     P	;
249)   A7DA C3 C0 AF    		        		JP      NEGATE	;
254)   A7DD CD 1F B1    		ISUB:			CALL    SUB	;
255)   A7E0 E0          		        		RET     PO	;
256)   A7E1 CD 19 B1    		        		CALL    ADD	;
257)   A7E4 CD 64 B0    		        		CALL    FLOAT2	;
258)   A7E7 7A          		FSUB:			LD      A,D	;
259)   A7E8 EE 80       		        		XOR     80H             ;CHANGE SIGN THEN ADD	;CHANGE SIGN THEN ADD
260)   A7EA 57          		        		LD      D,A	;
261)   A7EB 18 10       		        		JR      FADD	;
265)   A7ED 7C          		RSUB:			LD      A,H	;
266)   A7EE EE 80       		        		XOR     80H	;
267)   A7F0 67          		        		LD      H,A	;
268)   A7F1 18 0A       		        		JR      FADD	;
273)   A7F3 CD 19 B1    		IADD:			CALL    ADD	;
274)   A7F6 E0          		        		RET     PO	;
275)   A7F7 CD 1F B1    		        		CALL    SUB	;
276)   A7FA CD 64 B0    		        		CALL    FLOAT2	;
277)   A7FD 05          		FADD:			DEC     B	;
278)   A7FE 04          		        		INC     B	;
279)   A7FF C8          		        		RET     Z               ;ARG 2 ZERO	;ARG 2 ZERO
280)   A800 0D          		        		DEC     C	;
281)   A801 0C          		        		INC     C	;
282)   A802 CA 97 B0    		        		JP      Z,SWAP          ;ARG 1 ZERO	;ARG 1 ZERO
283)   A805 D9          		        		EXX	;
284)   A806 01 00 00    		        		LD      BC,0            ;INITIALISE	;INITIALISE
285)   A809 D9          		        		EXX	;
286)   A80A 7C          		        		LD      A,H	;
287)   A80B AA          		        		XOR     D               ;XOR SIGNS	;XOR SIGNS
288)   A80C F5          		        		PUSH    AF	;
289)   A80D 78          		        		LD      A,B	;
290)   A80E B9          		        		CP      C               ;COMPARE EXPONENTS	;COMPARE EXPONENTS
291)   A80F DC 97 B0    		        		CALL    C,SWAP          ;MAKE DED'E'B LARGEST	;MAKE DED'E'B LARGEST
292)   A812 78          		        		LD      A,B	;
293)   A813 CB FC       		        		SET     7,H             ;IMPLIED 1	;IMPLIED 1
294)   A815 C4 98 AF    		        		CALL    NZ,FIX          ;ALIGN	;ALIGN
295)   A818 F1          		        		POP     AF	;
296)   A819 7A          		        		LD      A,D             ;SIGN OF LARGER	;SIGN OF LARGER
297)   A81A CB FA       		        		SET     7,D             ;IMPLIED 1	;IMPLIED 1
298)   A81C FA 29 A8    		        		JP      M,FADD3         ;SIGNS DIFFERENT	;SIGNS DIFFERENT
299)   A81F CD 19 B1    		        		CALL    ADD             ;HLH'L'=HLH'L'+DED'E'	;HLH'L'=HLH'L'+DED'E'
300)   A822 DC 9F B0    		        		CALL    C,DIV2          ;NORMALISE	;NORMALISE
301)   A825 CB FC       		        		SET     7,H	;
302)   A827 18 0A       		        		JR      FADD4	;
304)   A829 CD 1F B1    		FADD3:			CALL    SUB             ;HLH'L'=HLH'L'-DED'E'	;HLH'L'=HLH'L'-DED'E'
305)   A82C DC D4 AF    		        		CALL    C,NEG           ;NEGATE HLH'L'B'C'	;NEGATE HLH'L'B'C'
306)   A82F CD 41 B0    		        		CALL    FLO48	;
307)   A832 2F          		        		CPL                     ;CHANGE RESULT SIGN	;CHANGE RESULT SIGN
308)   A833 D9          		FADD4:			EXX	;
309)   A834 EB          		        		EX      DE,HL	;
310)   A835 21 00 80    		        		LD      HL,8000H	;
311)   A838 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
312)   A839 ED 42       		        		SBC     HL,BC	;
313)   A83B EB          		        		EX      DE,HL	;
314)   A83C D9          		        		EXX	;
315)   A83D CC 91 B0    		        		CALL    Z,ODD           ;ROUND UNBIASSED	;ROUND UNBIASSED
316)   A840 DC 83 B0    		        		CALL    C,ADD1          ;ROUND UP	;ROUND UP
317)   A843 DC AB B0    		        		CALL    C,INCC	;
318)   A846 CB BC       		        		RES     7,H	;
319)   A848 0D          		        		DEC     C	;
320)   A849 0C          		        		INC     C	;
321)   A84A CA DC B0    		        		JP      Z,ZERO	;
322)   A84D B7          		        		OR      A               ;RESULT SIGNQ	;RESULT SIGNQ
323)   A84E F0          		        		RET     P               ;POSITIVE	;POSITIVE
324)   A84F CB FC       		        		SET     7,H             ;NEGATIVE	;NEGATIVE
325)   A851 C9          		        		RET	;
330)   A852 CD 64 B0    		IDIV:			CALL    FLOAT2	;
331)   A855 05          		FDIV:			DEC     B               ;TEST FOR ZERO	;TEST FOR ZERO
332)   A856 04          		        		INC     B	;
333)   A857 3E 12       		        		LD      A,DIVBY0	;
334)   A859 CA D0 A6    		        		JP      Z,ERROR         ;"Division by zero"	;"Division by zero"
335)   A85C 0D          		        		DEC     C               ;TEST FOR ZERO	;TEST FOR ZERO
336)   A85D 0C          		        		INC     C	;
337)   A85E C8          		        		RET     Z	;
338)   A85F 7C          		        		LD      A,H	;
339)   A860 AA          		        		XOR     D               ;CALC. RESULT SIGN	;CALC. RESULT SIGN
340)   A861 08          		        		EX      AF,AF'          ;SAVE SIGN	;SAVE SIGN
341)   A862 CB FA       		        		SET     7,D             ;REPLACE IMPLIED 1's	;REPLACE IMPLIED 1's
342)   A864 CB FC       		        		SET     7,H	;
343)   A866 C5          		        		PUSH    BC              ;SAVE EXPONENTS	;SAVE EXPONENTS
344)   A867 42          		        		LD      B,D             ;LOAD REGISTERS	;LOAD REGISTERS
345)   A868 4B          		        		LD      C,E	;
346)   A869 11 00 00    		        		LD      DE,0	;
347)   A86C D9          		        		EXX	;
348)   A86D 42          		        		LD      B,D	;
349)   A86E 4B          		        		LD      C,E	;
350)   A86F 11 00 00    		        		LD      DE,0	;
351)   A872 3E E0       		        		LD      A,-32           ;LOOP COUNTER	;LOOP COUNTER
352)   A874 CD EC B1    		        		CALL    DIVA            ;DIVIDE	;DIVIDE
353)   A877 D9          		        		EXX	;
354)   A878 CB 7A       		        		BIT     7,D	;
355)   A87A D9          		        		EXX	;
356)   A87B CC 07 B2    		        		CALL    Z,DIVB          ;NORMALISE & INC A	;NORMALISE & INC A
357)   A87E EB          		        		EX      DE,HL	;
358)   A87F D9          		        		EXX	;
359)   A880 CB 38       		        		SRL     B               ;DIVISOR/2	;DIVISOR/2
360)   A882 CB 19       		        		RR      C	;
361)   A884 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
362)   A885 ED 42       		        		SBC     HL,BC           ;REMAINDER-DIVISOR/2	;REMAINDER-DIVISOR/2
363)   A887 3F          		        		CCF	;
364)   A888 EB          		        		EX      DE,HL           ;RESULT IN HLH'L'	;RESULT IN HLH'L'
365)   A889 CC 91 B0    		        		CALL    Z,ODD           ;ROUND UNBIASSED	;ROUND UNBIASSED
366)   A88C DC 83 B0    		        		CALL    C,ADD1          ;ROUND UP	;ROUND UP
367)   A88F C1          		        		POP     BC              ;RESTORE EXPONENTS	;RESTORE EXPONENTS
368)   A890 DC AB B0    		        		CALL    C,INCC	;
369)   A893 1F          		        		RRA                     ;LSB OF A TO CARRY	;LSB OF A TO CARRY
370)   A894 79          		        		LD      A,C             ;COMPUTE NEW EXPONENT	;COMPUTE NEW EXPONENT
371)   A895 98          		        		SBC     A,B	;
372)   A896 3F          		        		CCF	;
373)   A897 C3 21 A9    		        		JP      CHKOVF	;
377)   A89A 7C          		IMUL:			LD      A,H	;
378)   A89B AA          		        		XOR     D	;
379)   A89C 08          		        		EX      AF,AF'          ;SAVE RESULT SIGN	;SAVE RESULT SIGN
380)   A89D CB 7C       		        		BIT     7,H	;
381)   A89F C4 C0 AF    		        		CALL    NZ,NEGATE	;
382)   A8A2 CD 97 B0    		        		CALL    SWAP	;
383)   A8A5 CB 7C       		        		BIT     7,H	;
384)   A8A7 C4 C0 AF    		        		CALL    NZ,NEGATE	;
385)   A8AA 44          		        		LD      B,H	;
386)   A8AB 4D          		        		LD      C,L	;
387)   A8AC 21 00 00    		        		LD      HL,0	;
388)   A8AF D9          		        		EXX	;
389)   A8B0 44          		        		LD      B,H	;
390)   A8B1 4D          		        		LD      C,L	;
391)   A8B2 21 00 00    		        		LD      HL,0	;
392)   A8B5 3E DF       		        		LD      A,-33	;
393)   A8B7 CD 1A B2    		        		CALL    MULA            ;MULTIPLY	;MULTIPLY
394)   A8BA D9          		        		EXX	;
395)   A8BB 0E BF       		        		LD      C,191           ;PRESET EXPONENT	;PRESET EXPONENT
396)   A8BD CD BC B0    		        		CALL    TEST            ;TEST RANGE	;TEST RANGE
397)   A8C0 20 0D       		        		JR      NZ,IMUL1        ;TOO BIG	;TOO BIG
398)   A8C2 CB 7A       		        		BIT     7,D	;
399)   A8C4 20 09       		        		JR      NZ,IMUL1	;
400)   A8C6 CD 97 B0    		        		CALL    SWAP	;
401)   A8C9 4A          		        		LD      C,D             ;INTEGER MARKER	;INTEGER MARKER
402)   A8CA 08          		        		EX      AF,AF'	;
403)   A8CB F0          		        		RET     P	;
404)   A8CC C3 C0 AF    		        		JP      NEGATE	;
406)   A8CF 0D          		IMUL1:			DEC     C	;
407)   A8D0 D9          		        		EXX	;
408)   A8D1 CB 23       		        		SLA     E	;
409)   A8D3 CB 12       		        		RL      D	;
410)   A8D5 D9          		        		EXX	;
411)   A8D6 CB 13       		        		RL      E	;
412)   A8D8 CB 12       		        		RL      D	;
413)   A8DA D9          		        		EXX	;
414)   A8DB ED 6A       		        		ADC     HL,HL	;
415)   A8DD D9          		        		EXX	;
416)   A8DE ED 6A       		        		ADC     HL,HL	;
417)   A8E0 F2 CF A8    		        		JP      P,IMUL1         ;NORMALISE	;NORMALISE
418)   A8E3 08          		        		EX      AF,AF'	;
419)   A8E4 F8          		        		RET     M	;
420)   A8E5 CB BC       		        		RES     7,H             ;POSITIVE	;POSITIVE
421)   A8E7 C9          		        		RET	;
425)   A8E8 05          		FMUL:			DEC     B               ;TEST FOR ZERO	;TEST FOR ZERO
426)   A8E9 04          		        		INC     B	;
427)   A8EA CA DC B0    		        		JP      Z,ZERO	;
428)   A8ED 0D          		        		DEC     C               ;TEST FOR ZERO	;TEST FOR ZERO
429)   A8EE 0C          		        		INC     C	;
430)   A8EF C8          		        		RET     Z	;
431)   A8F0 7C          		        		LD      A,H	;
432)   A8F1 AA          		        		XOR     D               ;CALC. RESULT SIGN	;CALC. RESULT SIGN
433)   A8F2 08          		        		EX      AF,AF'	;
434)   A8F3 CB FA       		        		SET     7,D             ;REPLACE IMPLIED 1's	;REPLACE IMPLIED 1's
435)   A8F5 CB FC       		        		SET     7,H	;
436)   A8F7 C5          		        		PUSH    BC              ;SAVE EXPONENTS	;SAVE EXPONENTS
437)   A8F8 44          		        		LD      B,H             ;LOAD REGISTERS	;LOAD REGISTERS
438)   A8F9 4D          		        		LD      C,L	;
439)   A8FA 21 00 00    		        		LD      HL,0	;
440)   A8FD D9          		        		EXX	;
441)   A8FE 44          		        		LD      B,H	;
442)   A8FF 4D          		        		LD      C,L	;
443)   A900 21 00 00    		        		LD      HL,0	;
444)   A903 3E E0       		        		LD      A,-32           ;LOOP COUNTER	;LOOP COUNTER
445)   A905 CD 1A B2    		        		CALL    MULA            ;MULTIPLY	;MULTIPLY
446)   A908 DC 2E B2    		        		CALL    C,MULB          ;NORMALISE & INC A	;NORMALISE & INC A
447)   A90B D9          		        		EXX	;
448)   A90C E5          		        		PUSH    HL	;
449)   A90D 21 00 80    		        		LD      HL,8000H	;
450)   A910 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
451)   A911 ED 52       		        		SBC     HL,DE	;
452)   A913 E1          		        		POP     HL	;
453)   A914 CC 91 B0    		        		CALL    Z,ODD           ;ROUND UNBIASSED	;ROUND UNBIASSED
454)   A917 DC 83 B0    		        		CALL    C,ADD1          ;ROUND UP	;ROUND UP
455)   A91A C1          		        		POP     BC              ;RESTORE EXPONENTS	;RESTORE EXPONENTS
456)   A91B DC AB B0    		        		CALL    C,INCC	;
457)   A91E 1F          		        		RRA                     ;LSB OF A TO CARRY	;LSB OF A TO CARRY
458)   A91F 79          		        		LD      A,C             ;COMPUTE NEW EXPONENT	;COMPUTE NEW EXPONENT
459)   A920 88          		        		ADC     A,B	;
460)   A921 38 05       		CHKOVF:			JR      C,CHKO1	;
461)   A923 F2 DC B0    		        		JP      P,ZERO          ;UNDERFLOW	;UNDERFLOW
462)   A926 18 03       		        		JR      CHKO2	;
463)   A928 FA AD B0    		CHKO1:			JP      M,OFLOW         ;OVERFLOW	;OVERFLOW
464)   A92B C6 80       		CHKO2:			ADD     A,80H	;
465)   A92D 4F          		        		LD      C,A	;
466)   A92E CA DC B0    		        		JP      Z,ZERO	;
467)   A931 08          		        		EX      AF,AF'          ;RESTORE SIGN BIT	;RESTORE SIGN BIT
468)   A932 CB BC       		        		RES     7,H	;
469)   A934 F0          		        		RET     P	;
470)   A935 CB FC       		        		SET     7,H	;
471)   A937 C9          		        		RET	;
475)   A938 CD 97 B0    		IPOW:			CALL    SWAP	;
476)   A93B CB 7C       		        		BIT     7,H	;
477)   A93D F5          		        		PUSH    AF              ;SAVE SIGN	;SAVE SIGN
478)   A93E C4 C0 AF    		        		CALL    NZ,NEGATE	;
479)   A941 48          		IPOW0:			LD      C,B	;
480)   A942 06 20       		        		LD      B,32            ;LOOP COUNTER	;LOOP COUNTER
481)   A944 CD 36 B1    		IPOW1:			CALL    X2	;
482)   A947 38 08       		        		JR      C,IPOW2	;
483)   A949 10 F9       		        		DJNZ    IPOW1	;
484)   A94B F1          		        		POP     AF	;
485)   A94C D9          		        		EXX	;
486)   A94D 2C          		        		INC     L               ;RESULT=1	;RESULT=1
487)   A94E D9          		        		EXX	;
488)   A94F 4C          		        		LD      C,H	;
489)   A950 C9          		        		RET	;
491)   A951 F1          		IPOW2:			POP     AF	;
492)   A952 C5          		        		PUSH    BC	;
493)   A953 EB          		        		EX      DE,HL	;
494)   A954 E5          		        		PUSH    HL	;
495)   A955 D9          		        		EXX	;
496)   A956 EB          		        		EX      DE,HL	;
497)   A957 E5          		        		PUSH    HL	;
498)   A958 D9          		        		EXX	;
499)   A959 DD 21 00 00 		        		LD      IX,0	;
500)   A95D DD 39       		        		ADD     IX,SP	;
501)   A95F 28 42       		        		JR      Z,IPOW4	;
502)   A961 C5          		        		PUSH    BC	;
503)   A962 D9          		        		EXX	;
504)   A963 D5          		        		PUSH    DE	;
505)   A964 D9          		        		EXX	;
506)   A965 D5          		        		PUSH    DE	;
507)   A966 CD 6D B0    		        		CALL    SFLOAT	;
508)   A969 CD 38 AC    		        		CALL    RECIP	;
509)   A96C DD 71 04    		        		LD      (IX+4),C	;
510)   A96F D9          		        		EXX	;
511)   A970 DD 75 00    		        		LD      (IX+0),L	;
512)   A973 DD 74 01    		        		LD      (IX+1),H	;
513)   A976 D9          		        		EXX	;
514)   A977 DD 75 02    		        		LD      (IX+2),L	;
515)   A97A DD 74 03    		        		LD      (IX+3),H	;
516)   A97D 18 1D       		        		JR      IPOW5	;
518)   A97F C5          		IPOW3:			PUSH    BC	;
519)   A980 D9          		        		EXX	;
520)   A981 CB 23       		        		SLA     E	;
521)   A983 CB 12       		        		RL      D	;
522)   A985 D5          		        		PUSH    DE	;
523)   A986 D9          		        		EXX	;
524)   A987 CB 13       		        		RL      E	;
525)   A989 CB 12       		        		RL      D	;
526)   A98B D5          		        		PUSH    DE	;
527)   A98C 3E 0A       		        		LD      A,'*' AND 0FH	;
528)   A98E F5          		        		PUSH    AF	;
529)   A98F CD 48 B1    		        		CALL    COPY	;
530)   A992 CD D6 A6    		        		CALL    OP              ;SQUARE	;SQUARE
531)   A995 F1          		        		POP     AF	;
532)   A996 CD DC AE    		        		CALL    DLOAD5	;
533)   A999 DC D6 A6    		        		CALL    C,OP            ;MULTIPLY BY X	;MULTIPLY BY X
534)   A99C D1          		IPOW5:			POP     DE	;
535)   A99D D9          		        		EXX	;
536)   A99E D1          		        		POP     DE	;
537)   A99F D9          		        		EXX	;
538)   A9A0 79          		        		LD      A,C	;
539)   A9A1 C1          		        		POP     BC	;
540)   A9A2 4F          		        		LD      C,A	;
541)   A9A3 10 DA       		IPOW4:			DJNZ    IPOW3	;
542)   A9A5 F1          		        		POP     AF	;
543)   A9A6 F1          		        		POP     AF	;
544)   A9A7 F1          		        		POP     AF	;
545)   A9A8 C9          		        		RET	;
547)   A9A9 F1          		FPOW0:			POP     AF	;
548)   A9AA F1          		        		POP     AF	;
549)   A9AB F1          		        		POP     AF	;
550)   A9AC 18 93       		        		JR      IPOW0	;
554)   A9AE CB 7A       		FPOW:			BIT     7,D	;
555)   A9B0 F5          		        		PUSH    AF	;
556)   A9B1 CD 97 B0    		        		CALL    SWAP	;
557)   A9B4 CD 56 B1    		        		CALL    PUSH5	;
558)   A9B7 0D          		        		DEC     C	;
559)   A9B8 0C          		        		INC     C	;
560)   A9B9 28 EE       		        		JR      Z,FPOW0	;
561)   A9BB 3E 9E       		        		LD      A,158	;
562)   A9BD B9          		        		CP      C	;
563)   A9BE 38 08       		        		JR      C,FPOW1	;
564)   A9C0 3C          		        		INC     A	;
565)   A9C1 CD 98 AF    		        		CALL    FIX	;
566)   A9C4 08          		        		EX      AF,AF'	;
567)   A9C5 F2 A9 A9    		        		JP      P,FPOW0	;
568)   A9C8 CD 97 B0    		FPOW1:			CALL    SWAP	;
569)   A9CB CD 4F AC    		        		CALL    LN0	;
570)   A9CE CD 5F B1    		        		CALL    POP5	;
571)   A9D1 F1          		        		POP     AF	;
572)   A9D2 CD E8 A8    		        		CALL    FMUL	;
573)   A9D5 C3 C4 AB    		        		JP      EXP0	;
578)   A9D8 CD E6 B0    		FLT:			CALL    FCP	;
579)   A9DB 18 03       		        		JR      ILT1	;
580)   A9DD CD D9 B0    		ILT:			CALL    ICP	;
581)   A9E0 D0          		ILT1:			RET     NC	;
582)   A9E1 18 38       		        		JR      TRUE	;
584)   A9E3 CD E6 B0    		FGT:			CALL    FCP	;
585)   A9E6 18 03       		        		JR      IGT1	;
586)   A9E8 CD D9 B0    		IGT:			CALL    ICP	;
587)   A9EB C8          		IGT1:			RET     Z	;
588)   A9EC D8          		        		RET     C	;
589)   A9ED 18 2C       		        		JR      TRUE	;
591)   A9EF CD E6 B0    		FGE:			CALL    FCP	;
592)   A9F2 18 03       		        		JR      IGE1	;
593)   A9F4 CD D9 B0    		IGE:			CALL    ICP	;
594)   A9F7 D8          		IGE1:			RET     C	;
595)   A9F8 18 21       		        		JR      TRUE	;
597)   A9FA CD E6 B0    		FLE:			CALL    FCP	;
598)   A9FD 18 03       		        		JR      ILE1	;
599)   A9FF CD D9 B0    		ILE:			CALL    ICP	;
600)   AA02 28 17       		ILE1:			JR      Z,TRUE	;
601)   AA04 D0          		        		RET     NC	;
602)   AA05 18 14       		        		JR      TRUE	;
604)   AA07 CD E6 B0    		FNE:			CALL    FCP	;
605)   AA0A 18 03       		        		JR      INE1	;
606)   AA0C CD D9 B0    		INE:			CALL    ICP	;
607)   AA0F C8          		INE1:			RET     Z	;
608)   AA10 18 09       		        		JR      TRUE	;
610)   AA12 CD E6 B0    		FEQ:			CALL    FCP	;
611)   AA15 18 03       		        		JR      IEQ1	;
612)   AA17 CD D9 B0    		IEQ:			CALL    ICP	;
613)   AA1A C0          		IEQ1:			RET     NZ	;
614)   AA1B 21 FF FF    		TRUE:			LD      HL,-1	;
615)   AA1E D9          		        		EXX	;
616)   AA1F 21 FF FF    		        		LD      HL,-1	;
617)   AA22 D9          		        		EXX	;
618)   AA23 AF          		        		XOR     A	;
619)   AA24 4F          		        		LD      C,A	;
620)   AA25 C9          		        		RET	;
631)   AA26 CB 7C       		ABS:			BIT     7,H	;
632)   AA28 C8          		        		RET     Z               ;POSITIVE/ZERO	;POSITIVE/ZERO
633)   AA29 0D          		        		DEC     C	;
634)   AA2A 0C          		        		INC     C	;
635)   AA2B CA C0 AF    		        		JP      Z,NEGATE        ;INTEGER	;INTEGER
636)   AA2E CB BC       		        		RES     7,H	;
637)   AA30 C9          		        		RET	;
642)   AA31 CD B1 AF    		NOTK:			CALL    SFIX	;
643)   AA34 7C          		        		LD      A,H	;
644)   AA35 2F          		        		CPL	;
645)   AA36 67          		        		LD      H,A	;
646)   AA37 7D          		        		LD      A,L	;
647)   AA38 2F          		        		CPL	;
648)   AA39 6F          		        		LD      L,A	;
649)   AA3A D9          		        		EXX	;
650)   AA3B 7C          		        		LD      A,H	;
651)   AA3C 2F          		        		CPL	;
652)   AA3D 67          		        		LD      H,A	;
653)   AA3E 7D          		        		LD      A,L	;
654)   AA3F 2F          		        		CPL	;
655)   AA40 6F          		        		LD      L,A	;
656)   AA41 D9          		        		EXX	;
657)   AA42 AF          		        		XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
658)   AA43 C9          		        		RET	;
663)   AA44 21 0F 49    		PI:			LD      HL,490FH	;
664)   AA47 D9          		        		EXX	;
665)   AA48 21 A2 DA    		        		LD      HL,0DAA2H	;
666)   AA4B D9          		        		EXX	;
667)   AA4C 0E 81       		        		LD      C,81H	;
668)   AA4E AF          		        		XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
669)   AA4F C9          		        		RET	;
674)   AA50 CD 60 AA    		DEG:			CALL    FPI180	;
675)   AA53 CD E8 A8    		        		CALL    FMUL	;
676)   AA56 AF          		        		XOR     A	;
677)   AA57 C9          		        		RET	;
682)   AA58 CD 60 AA    		RAD:			CALL    FPI180	;
683)   AA5B CD 55 A8    		        		CALL    FDIV	;
684)   AA5E AF          		        		XOR     A	;
685)   AA5F C9          		        		RET	;
689)   AA60 CD 6D B0    		FPI180:			CALL    SFLOAT	;
690)   AA63 11 2E 65    		        		LD      DE,652EH	;
691)   AA66 D9          		        		EXX	;
692)   AA67 11 D3 E0    		        		LD      DE,0E0D3H	;
693)   AA6A D9          		        		EXX	;
694)   AA6B 06 85       		        		LD      B,85H	;
695)   AA6D C9          		        		RET	;
700)   AA6E CD BC B0    		SGN:			CALL    TEST	;
701)   AA71 B1          		        		OR      C	;
702)   AA72 C8          		        		RET     Z               ;ZERO	;ZERO
703)   AA73 CB 7C       		        		BIT     7,H	;
704)   AA75 C2 1B AA    		        		JP      NZ,TRUE         ;-1	;-1
705)   AA78 CD DC B0    		        		CALL    ZERO	;
706)   AA7B C3 83 B0    		        		JP      ADD1            ;1	;1
712)   AA7E CD A7 B2    		VAL:			CALL    SIGNQ	;
713)   AA81 F5          		        		PUSH    AF	;
714)   AA82 CD EE AE    		        		CALL    CON	;
715)   AA85 F1          		        		POP     AF	;
716)   AA86 FE 2D       		        		CP      '-'	;
717)   AA88 3E 00       		        		LD      A,0             ;NUMERIC MARKER	;NUMERIC MARKER
718)   AA8A C0          		        		RET     NZ	;
719)   AA8B 0D          		        		DEC     C	;
720)   AA8C 0C          		        		INC     C	;
721)   AA8D CA C0 AF    		        		JP      Z,NEGATE        ;ZERO/INTEGER	;ZERO/INTEGER
722)   AA90 7C          		        		LD      A,H	;
723)   AA91 EE 80       		        		XOR     80H             ;CHANGE SIGN (FP)	;CHANGE SIGN (FP)
724)   AA93 67          		        		LD      H,A	;
725)   AA94 AF          		        		XOR     A	;
726)   AA95 C9          		        		RET	;
731)   AA96 0D          		INT:			DEC     C	;
732)   AA97 0C          		        		INC     C	;
733)   AA98 C8          		        		RET     Z               ;ZERO/INTEGER	;ZERO/INTEGER
734)   AA99 3E 9F       		        		LD      A,159	;
735)   AA9B 44          		        		LD      B,H             ;B7=SIGN BIT	;B7=SIGN BIT
736)   AA9C CD 98 AF    		        		CALL    FIX	;
737)   AA9F 08          		        		EX      AF,AF'	;
738)   AAA0 A0          		        		AND     B	;
739)   AAA1 FC 83 B0    		        		CALL    M,ADD1          ;NEGATIVE NON-INTEGER	;NEGATIVE NON-INTEGER
740)   AAA4 78          		        		LD      A,B	;
741)   AAA5 B7          		        		OR      A	;
742)   AAA6 FC C0 AF    		        		CALL    M,NEGATE	;
743)   AAA9 AF          		        		XOR     A	;
744)   AAAA 4F          		        		LD      C,A	;
745)   AAAB C9          		        		RET	;
750)   AAAC CD 6D B0    		SQR:			CALL    SFLOAT	;
751)   AAAF CB 7C       		SQR0:			BIT     7,H	;
752)   AAB1 3E 15       		        		LD      A,NGROOT	;
753)   AAB3 C2 D0 A6    		        		JP      NZ,ERROR        ;"-ve root"	;"-ve root"
754)   AAB6 0D          		        		DEC     C	;
755)   AAB7 0C          		        		INC     C	;
756)   AAB8 C8          		        		RET     Z               ;ZERO	;ZERO
757)   AAB9 CB FC       		        		SET     7,H             ;IMPLIED 1	;IMPLIED 1
758)   AABB CB 41       		        		BIT     0,C	;
759)   AABD CC 9F B0    		        		CALL    Z,DIV2          ;MAKE EXPONENT ODD	;MAKE EXPONENT ODD
760)   AAC0 79          		        		LD      A,C	;
761)   AAC1 D6 80       		        		SUB     80H	;
762)   AAC3 CB 2F       		        		SRA     A               ;HALVE EXPONENT	;HALVE EXPONENT
763)   AAC5 C6 80       		        		ADD     A,80H	;
764)   AAC7 4F          		        		LD      C,A	;
765)   AAC8 C5          		        		PUSH    BC              ;SAVE EXPONENT	;SAVE EXPONENT
766)   AAC9 EB          		        		EX      DE,HL	;
767)   AACA 21 00 00    		        		LD      HL,0	;
768)   AACD 44          		        		LD      B,H	;
769)   AACE 4D          		        		LD      C,L	;
770)   AACF D9          		        		EXX	;
771)   AAD0 EB          		        		EX      DE,HL	;
772)   AAD1 21 00 00    		        		LD      HL,0	;
773)   AAD4 44          		        		LD      B,H	;
774)   AAD5 4D          		        		LD      C,L	;
775)   AAD6 3E E1       		        		LD      A,-31	;
776)   AAD8 CD 4D B2    		        		CALL    SQRA            ;ROOT	;ROOT
777)   AADB D9          		        		EXX	;
778)   AADC CB 78       		        		BIT     7,B	;
779)   AADE D9          		        		EXX	;
780)   AADF CC 4D B2    		        		CALL    Z,SQRA          ;NORMALISE & INC A	;NORMALISE & INC A
781)   AAE2 CD 86 B2    		        		CALL    SQRB	;
782)   AAE5 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
783)   AAE6 CD 07 B2    		        		CALL    DIVB	;
784)   AAE9 CB 1B       		        		RR      E               ;LSB TO CARRY	;LSB TO CARRY
785)   AAEB 60          		        		LD      H,B	;
786)   AAEC 69          		        		LD      L,C	;
787)   AAED D9          		        		EXX	;
788)   AAEE 60          		        		LD      H,B	;
789)   AAEF 69          		        		LD      L,C	;
790)   AAF0 DC 83 B0    		        		CALL    C,ADD1          ;ROUND UP	;ROUND UP
791)   AAF3 C1          		        		POP     BC              ;RESTORE EXPONENT	;RESTORE EXPONENT
792)   AAF4 DC AB B0    		        		CALL    C,INCC	;
793)   AAF7 1F          		        		RRA	;
794)   AAF8 9F          		        		SBC     A,A	;
795)   AAF9 81          		        		ADD     A,C	;
796)   AAFA 4F          		        		LD      C,A	;
797)   AAFB CB BC       		        		RES     7,H             ;POSITIVE	;POSITIVE
798)   AAFD AF          		        		XOR     A	;
799)   AAFE C9          		        		RET	;
804)   AAFF CD 6D B0    		TAN:			CALL    SFLOAT	;
805)   AB02 CD 56 B1    		        		CALL    PUSH5	;
806)   AB05 CD 1F AB    		        		CALL    COS0	;
807)   AB08 CD 5F B1    		        		CALL    POP5	;
808)   AB0B CD 56 B1    		        		CALL    PUSH5	;
809)   AB0E CD 97 B0    		        		CALL    SWAP	;
810)   AB11 CD 2A AB    		        		CALL    SIN0	;
811)   AB14 CD 5F B1    		        		CALL    POP5	;
812)   AB17 CD 55 A8    		        		CALL    FDIV	;
813)   AB1A AF          		        		XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
814)   AB1B C9          		        		RET	;
819)   AB1C CD 6D B0    		COS:			CALL    SFLOAT	;
820)   AB1F CD E2 AF    		COS0:			CALL    SCALE	;
821)   AB22 1C          		        		INC     E	;
822)   AB23 1C          		        		INC     E	;
823)   AB24 7B          		        		LD      A,E	;
824)   AB25 18 0E       		        		JR      SIN1	;
829)   AB27 CD 6D B0    		SIN:			CALL    SFLOAT	;
830)   AB2A E5          		SIN0:			PUSH    HL              ;H7=SIGN	;H7=SIGN
831)   AB2B CD E2 AF    		        		CALL    SCALE	;
832)   AB2E F1          		        		POP     AF	;
833)   AB2F 07          		        		RLCA	;
834)   AB30 07          		        		RLCA	;
835)   AB31 07          		        		RLCA	;
836)   AB32 E6 04       		        		AND     4	;
837)   AB34 AB          		        		XOR     E	;
838)   AB35 F5          		SIN1:			PUSH    AF              ;OCTANT	;OCTANT
839)   AB36 CB BC       		        		RES     7,H	;
840)   AB38 1F          		        		RRA	;
841)   AB39 CD B6 AB    		        		CALL    PIBY4	;
842)   AB3C DC ED A7    		        		CALL    C,RSUB          ;X=(PI/4)-X	;X=(PI/4)-X
843)   AB3F F1          		        		POP     AF	;
844)   AB40 F5          		        		PUSH    AF	;
845)   AB41 E6 03       		        		AND     3	;
846)   AB43 E2 74 AB    		        		JP      PO,SIN2         ;USE COSINE APPROX.	;USE COSINE APPROX.
847)   AB46 CD 56 B1    		        		CALL    PUSH5           ;SAVE X	;SAVE X
848)   AB49 CD 50 B1    		        		CALL    SQUARE          ;PUSH X*X	;PUSH X*X
849)   AB4C CD 89 B1    		        		CALL    POLY	;
850)   AB4F B7 A8       		        		DEFW    0A8B7H          ;a(8)	;a(8)
851)   AB51 11 36       		        		DEFW    3611H	;
852)   AB53 6D          		        		DEFB    6DH	;
853)   AB54 26 DE       		        		DEFW    0DE26H          ;a(6)	;a(6)
854)   AB56 05 D0       		        		DEFW    0D005H	;
855)   AB58 73          		        		DEFB    73H	;
856)   AB59 C0 80       		        		DEFW    80C0H           ;a(4)	;a(4)
857)   AB5B 88 08       		        		DEFW    888H	;
858)   AB5D 79          		        		DEFB    79H	;
859)   AB5E 9D AA       		        		DEFW    0AA9DH          ;a(2)	;a(2)
860)   AB60 AA AA       		        		DEFW    0AAAAH	;
861)   AB62 7D          		        		DEFB    7DH	;
862)   AB63 00 00       		        		DEFW    0               ;a(0)	;a(0)
863)   AB65 00 00       		        		DEFW    0	;
864)   AB67 80          		        		DEFB    80H	;
865)   AB68 CD 5F B1    		        		CALL    POP5	;
866)   AB6B CD 5F B1    		        		CALL    POP5	;
867)   AB6E CD E8 A8    		        		CALL    FMUL	;
868)   AB71 C3 96 AB    		        		JP      SIN3	;
870)   AB74 CD 50 B1    		SIN2:			CALL    SQUARE          ;PUSH X*X	;PUSH X*X
871)   AB77 CD 89 B1    		        		CALL    POLY	;
872)   AB7A 71 D5       		        		DEFW    0D571H          ;b(8)	;b(8)
873)   AB7C 78 4C       		        		DEFW    4C78H	;
874)   AB7E 70          		        		DEFB    70H	;
875)   AB7F AF 94       		        		DEFW    94AFH           ;b(6)	;b(6)
876)   AB81 03 B6       		        		DEFW    0B603H	;
877)   AB83 76          		        		DEFB    76H	;
878)   AB84 C8 9C       		        		DEFW    9CC8H           ;b(4)	;b(4)
879)   AB86 AA 2A       		        		DEFW    2AAAH	;
880)   AB88 7B          		        		DEFB    7BH	;
881)   AB89 DD FF       		        		DEFW    0FFDDH          ;b(2)	;b(2)
882)   AB8B FF FF       		        		DEFW    0FFFFH	;
883)   AB8D 7E          		        		DEFB    7EH	;
884)   AB8E 00 00       		        		DEFW    0               ;b(0)	;b(0)
885)   AB90 00 00       		        		DEFW    0	;
886)   AB92 80          		        		DEFB    80H	;
887)   AB93 CD 5F B1    		        		CALL    POP5	;
888)   AB96 F1          		SIN3:			POP     AF	;
889)   AB97 E6 04       		        		AND     4	;
890)   AB99 C8          		        		RET     Z	;
891)   AB9A 0D          		        		DEC     C	;
892)   AB9B 0C          		        		INC     C	;
893)   AB9C C8          		        		RET     Z               ;ZERO	;ZERO
894)   AB9D CB FC       		        		SET     7,H             ;MAKE NEGATIVE	;MAKE NEGATIVE
895)   AB9F C9          		        		RET	;
899)   ABA0 21 00 00    		FONE:			LD      HL,0	;
900)   ABA3 D9          		        		EXX	;
901)   ABA4 21 00 00    		        		LD      HL,0	;
902)   ABA7 D9          		        		EXX	;
903)   ABA8 0E 80       		        		LD      C,80H	;
904)   ABAA C9          		        		RET	;
906)   ABAB 11 00 00    		DONE:			LD      DE,0	;
907)   ABAE D9          		        		EXX	;
908)   ABAF 11 00 00    		        		LD      DE,0	;
909)   ABB2 D9          		        		EXX	;
910)   ABB3 06 80       		        		LD      B,80H	;
911)   ABB5 C9          		        		RET	;
913)   ABB6 11 0F 49    		PIBY4:			LD      DE,490FH	;
914)   ABB9 D9          		        		EXX	;
915)   ABBA 11 A2 DA    		        		LD      DE,0DAA2H	;
916)   ABBD D9          		        		EXX	;
917)   ABBE 06 7F       		        		LD      B,7FH	;
918)   ABC0 C9          		        		RET	;
923)   ABC1 CD 6D B0    		EXP:			CALL    SFLOAT	;
924)   ABC4 CD 41 AC    		EXP0:			CALL    LN2             ;LN(2)	;LN(2)
925)   ABC7 D9          		        		EXX	;
926)   ABC8 1D          			        	DEC     E	;
927)   ABC9 01 CF D1    				        LD      BC,0D1CFH       ;0.6931471805599453	;0.6931471805599453
928)   ABCC D9          		        		EXX	;
929)   ABCD E5          		        		PUSH    HL              ;H7=SIGN	;H7=SIGN
930)   ABCE CD F2 AF    		        		CALL    MOD48           ;"MODULUS"	;"MODULUS"
931)   ABD1 F1          		        		POP     AF	;
932)   ABD2 CB 7B       		        		BIT     7,E	;
933)   ABD4 28 09       		        		JR      Z,EXP1	;
934)   ABD6 17          		        		RLA	;
935)   ABD7 DA DC B0    		        		JP      C,ZERO	;
936)   ABDA 3E 18       		        		LD      A,EXPRNG	;
937)   ABDC C3 D0 A6    		        		JP      ERROR           ;"Exp range"	;"Exp range"
939)   ABDF E6 80       		EXP1:			AND     80H	;
940)   ABE1 B3          		        		OR      E	;
941)   ABE2 F5          		        		PUSH    AF              ;INTEGER PART	;INTEGER PART
942)   ABE3 CB BC       		        		RES     7,H	;
943)   ABE5 CD 56 B1    		        		CALL    PUSH5           ;PUSH X*LN(2)	;PUSH X*LN(2)
944)   ABE8 CD 89 B1    		        		CALL    POLY	;
945)   ABEB 72 40       		        		DEFW    4072H           ;a(7)	;a(7)
946)   ABED 2E 94       		        		DEFW    942EH	;
947)   ABEF 73          		        		DEFB    73H	;
948)   ABF0 65 6F       		        		DEFW    6F65H           ;a(6)	;a(6)
949)   ABF2 4F 2E       		        		DEFW    2E4FH	;
950)   ABF4 76          		        		DEFB    76H	;
951)   ABF5 37 6D       		        		DEFW    6D37H           ;a(5)	;a(5)
952)   ABF7 02 88       		        		DEFW    8802H	;
953)   ABF9 79          		        		DEFB    79H	;
954)   ABFA 12 E5       		        		DEFW    0E512H          ;a(4)	;a(4)
955)   ABFC A0 2A       		        		DEFW    2AA0H	;
956)   ABFE 7B          		        		DEFB    7BH	;
957)   ABFF 14 4F       		        		DEFW    4F14H           ;a(3)	;a(3)
958)   AC01 AA AA       		        		DEFW    0AAAAH	;
959)   AC03 7D          		        		DEFB    7DH	;
960)   AC04 56 FD       		        		DEFW    0FD56H          ;a(2)	;a(2)
961)   AC06 FF 7F       		        		DEFW    7FFFH	;
962)   AC08 7E          		        		DEFB    7EH	;
963)   AC09 FE FF       		        		DEFW    0FFFEH          ;a(1)	;a(1)
964)   AC0B FF FF       		        		DEFW    0FFFFH	;
965)   AC0D 7F          		        		DEFB    7FH	;
966)   AC0E 00 00       		        		DEFW    0               ;a(0)	;a(0)
967)   AC10 00 00       		        		DEFW    0	;
968)   AC12 80          		        		DEFB    80H	;
969)   AC13 CD 5F B1    		        		CALL    POP5	;
970)   AC16 F1          		        		POP     AF	;
971)   AC17 F5          		        		PUSH    AF	;
972)   AC18 F4 38 AC    		        		CALL    P,RECIP         ;X=1/X	;X=1/X
973)   AC1B F1          		        		POP     AF	;
974)   AC1C F2 23 AC    		        		JP      P,EXP4	;
975)   AC1F E6 7F       		        		AND     7FH	;
976)   AC21 ED 44       		        		NEG	;
977)   AC23 C6 80       		EXP4:			ADD     A,80H	;
978)   AC25 81          		        		ADD     A,C	;
979)   AC26 38 05       		        		JR      C,EXP2	;
980)   AC28 F2 DC B0    		        		JP      P,ZERO          ;UNDERFLOW	;UNDERFLOW
981)   AC2B 18 03       		        		JR      EXP3	;
982)   AC2D FA AD B0    		EXP2:			JP      M,OFLOW         ;OVERFLOW	;OVERFLOW
983)   AC30 C6 80       		EXP3:			ADD     A,80H	;
984)   AC32 CA DC B0    		        		JP      Z,ZERO	;
985)   AC35 4F          		        		LD      C,A	;
986)   AC36 AF          		        		XOR     A               ;NUMERIC MARKER	;NUMERIC MARKER
987)   AC37 C9          		        		RET	;
989)   AC38 CD AB AB    		RECIP:			CALL    DONE	;
990)   AC3B CD 97 B0    		RDIV:			CALL    SWAP	;
991)   AC3E C3 55 A8    		        		JP      FDIV            ;RECIPROCAL	;RECIPROCAL
993)   AC41 11 72 31    		LN2:			LD      DE,3172H        ;LN(2)	;LN(2)
994)   AC44 D9          		        		EXX	;
995)   AC45 11 F8 17    		        		LD      DE,17F8H	;
996)   AC48 D9          		        		EXX	;
997)   AC49 06 7F       		        		LD      B,7FH	;
998)   AC4B C9          		        		RET	;
1003)   AC4C CD 6D B0    		LN:			CALL    SFLOAT	;
1004)   AC4F 3E 16       		LN0:			LD      A,LOGRNG	;
1005)   AC51 CB 7C       		        		BIT     7,H	;
1006)   AC53 C2 D0 A6    		        		JP      NZ,ERROR        ;"Log range"	;"Log range"
1007)   AC56 0C          		        		INC     C	;
1008)   AC57 0D          		        		DEC     C	;
1009)   AC58 CA D0 A6    		        		JP      Z,ERROR	;
1010)   AC5B 11 04 35    		        		LD      DE,3504H        ;SQR(2)	;SQR(2)
1011)   AC5E D9          		        		EXX	;
1012)   AC5F 11 33 F3    		        		LD      DE,0F333H       ;1.41421356237	;1.41421356237
1013)   AC62 D9          		        		EXX	;
1014)   AC63 CD EE B0    		        		CALL    ICP0            ;MANTISSA>SQR(2)?	;MANTISSA>SQR(2)?
1015)   AC66 79          		        		LD      A,C             ;EXPONENT	;EXPONENT
1016)   AC67 0E 80       		        		LD      C,80H           ;1 <= X < 2	;1 <= X < 2
1017)   AC69 38 02       		        		JR      C,LN4	;
1018)   AC6B 0D          		        		DEC     C	;
1019)   AC6C 3C          		        		INC     A	;
1020)   AC6D F5          		LN4:			PUSH    AF              ;SAVE EXPONENT	;SAVE EXPONENT
1021)   AC6E CD 6B B1    		        		CALL    RATIO           ;X=(X-1)/(X+1)	;X=(X-1)/(X+1)
1022)   AC71 CD 56 B1    		        		CALL    PUSH5	;
1023)   AC74 CD 50 B1    				        CALL    SQUARE          ;PUSH X*X	;PUSH X*X
1024)   AC77 CD 89 B1    		        		CALL    POLY	;
1025)   AC7A 48 CC       		        		DEFW    0CC48H          ;a(9)	;a(9)
1026)   AC7C FB 74       		        		DEFW    74FBH	;
1027)   AC7E 7D          		        		DEFB    7DH	;
1028)   AC7F AF AE       		        		DEFW    0AEAFH          ;a(7)	;a(7)
1029)   AC81 FF 11       		        		DEFW    11FFH	;
1030)   AC83 7E          		        		DEFB    7EH	;
1031)   AC84 8C D9       		        		DEFW    0D98CH          ;a(5)	;a(5)
1032)   AC86 CD 4C       		        		DEFW    4CCDH	;
1033)   AC88 7E          		        		DEFB    7EH	;
1034)   AC89 E3 A9       		        		DEFW    0A9E3H          ;a(3)	;a(3)
1035)   AC8B AA 2A       		        		DEFW    2AAAH	;
1036)   AC8D 7F          		        		DEFB    7FH	;
1037)   AC8E 00 00       		        		DEFW    0               ;a(1)	;a(1)
1038)   AC90 00 00       		        		DEFW    0	;
1039)   AC92 81          		        		DEFB    81H	;
1040)   AC93 CD 5F B1    		        		CALL    POP5	;
1041)   AC96 CD 5F B1    		        		CALL    POP5	;
1042)   AC99 CD E8 A8    		        		CALL    FMUL	;
1043)   AC9C F1          		        		POP     AF              ;EXPONENT	;EXPONENT
1044)   AC9D CD 56 B1    		        		CALL    PUSH5	;
1045)   ACA0 08          		        		EX      AF,AF'	;
1046)   ACA1 CD DC B0    		        		CALL    ZERO	;
1047)   ACA4 08          		        		EX      AF,AF'	;
1048)   ACA5 D6 80       		        		SUB     80H	;
1049)   ACA7 28 1B       		        		JR      Z,LN3	;
1050)   ACA9 30 02       		        		JR      NC,LN1	;
1051)   ACAB 2F          		        		CPL	;
1052)   ACAC 3C          		        		INC     A	;
1053)   ACAD 67          		LN1:			LD      H,A	;
1054)   ACAE 0E 87       		        		LD      C,87H	;
1055)   ACB0 F5          		        		PUSH    AF	;
1056)   ACB1 CD 53 B0    		        		CALL    FLOAT	;
1057)   ACB4 CB BC       		        		RES     7,H	;
1058)   ACB6 CD 41 AC    		        		CALL    LN2	;
1059)   ACB9 CD E8 A8    		        		CALL    FMUL	;
1060)   ACBC F1          		        		POP     AF	;
1061)   ACBD 30 05       		        		JR      NC,LN3	;
1062)   ACBF FA C4 AC    		        		JP      M,LN3	;
1063)   ACC2 CB FC       		        		SET     7,H	;
1064)   ACC4 CD 5F B1    		LN3:			CALL    POP5	;
1065)   ACC7 CD FD A7    		        		CALL    FADD	;
1066)   ACCA AF          		        		XOR     A	;
1067)   ACCB C9          		        		RET	;
1072)   ACCC CD 4C AC    		LOG:			CALL    LN	;
1073)   ACCF 11 5B 5E    		        		LD      DE,5E5BH        ;LOG(e)	;LOG(e)
1074)   ACD2 D9          		        		EXX	;
1075)   ACD3 11 A9 D8    		        		LD      DE,0D8A9H	;
1076)   ACD6 D9          		        		EXX	;
1077)   ACD7 06 7E       		        		LD      B,7EH	;
1078)   ACD9 CD E8 A8    		        		CALL    FMUL	;
1079)   ACDC AF          		        		XOR     A	;
1080)   ACDD C9          		        		RET	;
1085)   ACDE CD 6D B0    		ASN:			CALL    SFLOAT	;
1086)   ACE1 CD 56 B1    		        		CALL    PUSH5	;
1087)   ACE4 CD 48 B1    		        		CALL    COPY	;
1088)   ACE7 CD E8 A8    		        		CALL    FMUL	;
1089)   ACEA CD AB AB    		        		CALL    DONE	;
1090)   ACED CD ED A7    		        		CALL    RSUB	;
1091)   ACF0 CD AF AA    		        		CALL    SQR0	;
1092)   ACF3 CD 5F B1    		        		CALL    POP5	;
1093)   ACF6 0C          		        		INC     C	;
1094)   ACF7 0D          		        		DEC     C	;
1095)   ACF8 3E 02       		        		LD      A,2	;
1096)   ACFA D5          		        		PUSH    DE	;
1097)   ACFB 28 70       		        		JR      Z,ACS1	;
1098)   ACFD D1          		        		POP     DE	;
1099)   ACFE CD 3B AC    		        		CALL    RDIV	;
1100)   AD01 18 03       		        		JR      ATN0	;
1105)   AD03 CD 6D B0    		ATN:			CALL    SFLOAT	;
1106)   AD06 E5          		ATN0:			PUSH    HL              ;SAVE SIGN	;SAVE SIGN
1107)   AD07 CB BC       		        		RES     7,H	;
1108)   AD09 11 13 54    		        		LD      DE,5413H        ;TAN(PI/8)=SQR(2)-1	;TAN(PI/8)=SQR(2)-1
1109)   AD0C D9          		        		EXX	;
1110)   AD0D 11 D0 CC    		        		LD      DE,0CCD0H	;
1111)   AD10 D9          		        		EXX	;
1112)   AD11 06 7E       		        		LD      B,7EH	;
1113)   AD13 CD EB B0    		        		CALL    FCP0            ;COMPARE	;COMPARE
1114)   AD16 06 00       		        		LD      B,0	;
1115)   AD18 38 1C       		        		JR      C,ATN2	;
1116)   AD1A 11 82 1A    		        		LD      DE,1A82H        ;TAN(3*PI/8)=SQR(2)+1	;TAN(3*PI/8)=SQR(2)+1
1117)   AD1D D9          		        		EXX	;
1118)   AD1E 11 9A 79    		        		LD      DE,799AH	;
1119)   AD21 D9          		        		EXX	;
1120)   AD22 06 81       		        		LD      B,81H	;
1121)   AD24 CD EB B0    		        		CALL    FCP0            ;COMPARE	;COMPARE
1122)   AD27 38 08       		        		JR      C,ATN1	;
1123)   AD29 CD 38 AC    		        		CALL    RECIP           ;X=1/X	;X=1/X
1124)   AD2C 06 02       		        		LD      B,2	;
1125)   AD2E C3 36 AD    		        		JP      ATN2	;
1126)   AD31 CD 6B B1    		ATN1:			CALL    RATIO           ;X=(X-1)/(X+1)	;X=(X-1)/(X+1)
1127)   AD34 06 01       		        		LD      B,1	;
1128)   AD36 C5          		ATN2:			PUSH    BC              ;SAVE FLAG	;SAVE FLAG
1129)   AD37 CD 56 B1    		        		CALL    PUSH5	;
1130)   AD3A CD 50 B1    		        		CALL    SQUARE          ;PUSH X*X	;PUSH X*X
1131)   AD3D CD 89 B1    		        		CALL    POLY	;
1132)   AD40 35 F3       		        		DEFW    0F335H          ;a(13)	;a(13)
1133)   AD42 D8 37       		        		DEFW    37D8H	;
1134)   AD44 7B          		        		DEFB    7BH	;
1135)   AD45 91 6B       		        		DEFW    6B91H           ;a(11)	;a(11)
1136)   AD47 B9 AA       		        		DEFW    0AAB9H	;
1137)   AD49 7C          		        		DEFB    7CH	;
1138)   AD4A DE 41       		        		DEFW    41DEH           ;a(9)	;a(9)
1139)   AD4C 97 61       		        		DEFW    6197H	;
1140)   AD4E 7C          		        		DEFB    7CH	;
1141)   AD4F 7B 9D       		        		DEFW    9D7BH           ;a(7)	;a(7)
1142)   AD51 37 92       		        		DEFW    9237H	;
1143)   AD53 7D          		        		DEFB    7DH	;
1144)   AD54 5A 2A       		        		DEFW    2A5AH           ;a(5)	;a(5)
1145)   AD56 CC 4C       		        		DEFW    4CCCH	;
1146)   AD58 7D          		        		DEFB    7DH	;
1147)   AD59 5C A9       		        		DEFW    0A95CH          ;a(3)	;a(3)
1148)   AD5B AA AA       		        		DEFW    0AAAAH	;
1149)   AD5D 7E          		        		DEFB    7EH	;
1150)   AD5E 00 00       		        		DEFW    0               ;a(1)	;a(1)
1151)   AD60 00 00       		        		DEFW    0	;
1152)   AD62 80          		        		DEFB    80H	;
1153)   AD63 CD 5F B1    		        		CALL    POP5	;
1154)   AD66 CD 5F B1    		        		CALL    POP5	;
1155)   AD69 CD E8 A8    		        		CALL    FMUL	;
1156)   AD6C F1          		        		POP     AF	;
1157)   AD6D CD B6 AB    		ACS1:			CALL    PIBY4           ;PI/4	;PI/4
1158)   AD70 1F          		        		RRA	;
1159)   AD71 F5          		        		PUSH    AF	;
1160)   AD72 DC FD A7    		        		CALL    C,FADD	;
1161)   AD75 F1          		        		POP     AF	;
1162)   AD76 04          		        		INC     B	;
1163)   AD77 1F          		        		RRA	;
1164)   AD78 DC ED A7    		        		CALL    C,RSUB	;
1165)   AD7B F1          		        		POP     AF	;
1166)   AD7C B7          		        		OR      A	;
1167)   AD7D F0          		        		RET     P	;
1168)   AD7E CB FC       		        		SET     7,H             ;MAKE NEGATIVE	;MAKE NEGATIVE
1169)   AD80 AF          		        		XOR     A	;
1170)   AD81 C9          		        		RET	;
1175)   AD82 CD DE AC    		ACS:			CALL    ASN	;
1176)   AD85 3E 02       		        		LD      A,2	;
1177)   AD87 F5          		        		PUSH    AF	;
1178)   AD88 18 E3       		        		JR      ACS1	;
1188)   AD8A CD 6D B0    		STR:			CALL    SFLOAT	;
1189)   AD8D 06 00       		        		LD      B,0             ;DEFAULT PT. POSITION	;DEFAULT PT. POSITION
1190)   AD8F CB 7C       		        		BIT     7,H             ;NEGATIVE?	;NEGATIVE?
1191)   AD91 28 06       		        		JR      Z,STR10	;
1192)   AD93 CB BC       		        		RES     7,H	;
1193)   AD95 3E 2D       		        		LD      A,'-'	;
1194)   AD97 12          		        		LD      (DE),A          ;STORE SIGN	;STORE SIGN
1195)   AD98 13          		        		INC     DE	;
1196)   AD99 AF          		STR10:			XOR     A               ;CLEAR A	;CLEAR A
1197)   AD9A B9          		        		CP      C	;
1198)   AD9B 28 47       		        		JR      Z,STR2          ;ZERO	;ZERO
1199)   AD9D D5          		        		PUSH    DE              ;SAVE TEXT POINTER	;SAVE TEXT POINTER
1200)   AD9E 78          		        		LD      A,B	;
1201)   AD9F F5          		STR11:			PUSH    AF              ;SAVE DECIMAL COUNTER	;SAVE DECIMAL COUNTER
1202)   ADA0 79          		        		LD      A,C             ;BINARY EXPONENT	;BINARY EXPONENT
1203)   ADA1 FE A1       		        		CP      161	;
1204)   ADA3 30 1A       		        		JR      NC,STR14	;
1205)   ADA5 FE 9B       		        		CP      155	;
1206)   ADA7 30 25       		        		JR      NC,STR15	;
1207)   ADA9 2F          		        		CPL	;
1208)   ADAA FE E1       		        		CP      225	;
1209)   ADAC 38 02       		        		JR      C,STR13	;
1210)   ADAE 3E F8       		        		LD      A,-8	;
1211)   ADB0 C6 1C       		STR13:			ADD     A,28	;
1212)   ADB2 CD B0 B1    		        		CALL    POWR10	;
1213)   ADB5 F5          		        		PUSH    AF	;
1214)   ADB6 CD E8 A8    		        		CALL    FMUL	;
1215)   ADB9 F1          		        		POP     AF	;
1216)   ADBA 47          		        		LD      B,A	;
1217)   ADBB F1          		        		POP     AF	;
1218)   ADBC 90          		        		SUB     B	;
1219)   ADBD 18 E0       		        		JR      STR11	;
1220)   ADBF D6 20       		STR14:			SUB     32	;
1221)   ADC1 CD B0 B1    		        		CALL    POWR10	;
1222)   ADC4 F5          		        		PUSH    AF	;
1223)   ADC5 CD 55 A8    		        		CALL    FDIV	;
1224)   ADC8 F1          		        		POP     AF	;
1225)   ADC9 47          		        		LD      B,A	;
1226)   ADCA F1          		        		POP     AF	;
1227)   ADCB 80          		        		ADD     A,B	;
1228)   ADCC 18 D1       		        		JR      STR11	;
1229)   ADCE 3E 09       		STR15:			LD      A,9	;
1230)   ADD0 CD B0 B1    		        		CALL    POWR10          ;10^9	;10^9
1231)   ADD3 CD EB B0    		        		CALL    FCP0	;
1232)   ADD6 79          		        		LD      A,C	;
1233)   ADD7 C1          		        		POP     BC	;
1234)   ADD8 4F          		        		LD      C,A	;
1235)   ADD9 CB FC       		        		SET     7,H             ;IMPLIED 1	;IMPLIED 1
1236)   ADDB DC 0D B1    		        		CALL    C,X10B          ;X10, DEC B	;X10, DEC B
1237)   ADDE D1          		        		POP     DE              ;RESTORE TEXT POINTER	;RESTORE TEXT POINTER
1238)   ADDF CB B9       		        		RES     7,C	;
1239)   ADE1 3E 00       		        		LD      A,0	;
1240)   ADE3 17          		        		RLA                     ;PUT CARRY IN LSB	;PUT CARRY IN LSB
1248)   ADE4 0C          		STR2:			INC     C	;
1249)   ADE5 08          		        		EX      AF,AF'          ;SAVE A	;SAVE A
1250)   ADE6 78          		        		LD      A,B	;
1251)   ADE7 DD CB 02 4E 		        		BIT     1,(IX+2)	;
1252)   ADEB 20 08       		        		JR      NZ,STR20	;
1253)   ADED AF          		        		XOR     A	;
1254)   ADEE DD BE 01    		        		CP      (IX+1)	;
1255)   ADF1 28 0A       		        		JR      Z,STR21	;
1256)   ADF3 3E F6       		        		LD      A,-10	;
1257)   ADF5 DD 86 01    		STR20:			ADD     A,(IX+1)        ;SIG. FIG. COUNT	;SIG. FIG. COUNT
1258)   ADF8 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
1259)   ADF9 FA FD AD    		        		JP      M,STR21	;
1260)   ADFC AF          		        		XOR     A	;
1261)   ADFD F5          		STR21:			PUSH    AF	;
1262)   ADFE 08          		        		EX      AF,AF'          ;RESTORE A	;RESTORE A
1263)   ADFF CD 36 B1    		STR22:			CALL    X2              ;RL AHLH'L'	;RL AHLH'L'
1264)   AE02 8F          		        		ADC     A,A	;
1265)   AE03 FE 0A       		        		CP      10	;
1266)   AE05 38 05       		        		JR      C,STR23	;
1267)   AE07 D6 0A       		        		SUB     10	;
1268)   AE09 D9          		        		EXX	;
1269)   AE0A 2C          		        		INC     L               ;SET RESULT BIT	;SET RESULT BIT
1270)   AE0B D9          		        		EXX	;
1271)   AE0C 0D          		STR23:			DEC     C	;
1272)   AE0D 20 F0       		        		JR      NZ,STR22        ;32 TIMES	;32 TIMES
1273)   AE0F 4F          		        		LD      C,A             ;REMAINDER	;REMAINDER
1274)   AE10 7C          		        		LD      A,H	;
1275)   AE11 E6 3F       		        		AND     3FH             ;CLEAR OUT JUNK	;CLEAR OUT JUNK
1276)   AE13 67          		        		LD      H,A	;
1277)   AE14 F1          		        		POP     AF	;
1278)   AE15 F2 22 AE    		        		JP      P,STR24	;
1279)   AE18 3C          		        		INC     A	;
1280)   AE19 20 1C       		        		JR      NZ,STR26	;
1281)   AE1B 3E 04       		        		LD      A,4	;
1282)   AE1D B9          		        		CP      C               ;ROUND UP?	;ROUND UP?
1283)   AE1E 3E 00       		        		LD      A,0	;
1284)   AE20 18 15       		        		JR      STR26	;
1285)   AE22 F5          		STR24:			PUSH    AF	;
1286)   AE23 79          		        		LD      A,C	;
1287)   AE24 CE 30       		        		ADC     A,'0'           ;ADD CARRY	;ADD CARRY
1288)   AE26 FE 30       		        		CP      '0'	;
1289)   AE28 28 05       		        		JR      Z,STR25         ;SUPPRESS ZERO	;SUPPRESS ZERO
1290)   AE2A FE 3A       		        		CP      '9'+1	;
1291)   AE2C 3F          		        		CCF	;
1292)   AE2D 30 08       		        		JR      NC,STR26	;
1293)   AE2F E3          		STR25:			EX      (SP),HL	;
1294)   AE30 CB 75       		        		BIT     6,L             ;ZERO FLAG	;ZERO FLAG
1295)   AE32 E3          				        EX      (SP),HL	;
1296)   AE33 20 05       		        		JR      NZ,STR27	;
1297)   AE35 3E 30       		        		LD      A,'0'	;
1298)   AE37 3C          		STR26:			INC     A               ;SET +VE	;SET +VE
1299)   AE38 3D          		        		DEC     A	;
1300)   AE39 F5          		        		PUSH    AF              ;PUT ON STACK + CARRY	;PUT ON STACK + CARRY
1301)   AE3A 04          		STR27:			INC     B	;
1302)   AE3B CD BC B0    		        		CALL    TEST            ;IS HLH'L' ZERO?	;IS HLH'L' ZERO?
1303)   AE3E 0E 20       		        		LD      C,32	;
1304)   AE40 3E 00       		        		LD      A,0	;
1305)   AE42 20 BB       		        		JR      NZ,STR22	;
1306)   AE44 F1          		        		POP     AF	;
1307)   AE45 F5          		        		PUSH    AF	;
1308)   AE46 3E 00       		        		LD      A,0	;
1309)   AE48 38 B5       		        		JR      C,STR22	;
1317)   AE4A EB          		STR3:			EX      DE,HL           ;STRING POINTER	;STRING POINTER
1318)   AE4B 0E FF       		        		LD      C,-1            ;FLAG "E"	;FLAG "E"
1319)   AE4D 16 01       		        		LD      D,1	;
1320)   AE4F DD 5E 01    		        		LD      E,(IX+1)        ;f2	;f2
1321)   AE52 DD CB 02 46 		        		BIT     0,(IX+2)	;
1322)   AE56 20 32       		        		JR      NZ,STR34        ;E MODE	;E MODE
1323)   AE58 DD CB 02 4E 		        		BIT     1,(IX+2)	;
1324)   AE5C 28 11       		        		JR      Z,STR31	;
1325)   AE5E 78          		        		LD      A,B             ;F MODE	;F MODE
1326)   AE5F B7          		        		OR      A	;
1327)   AE60 28 04       		        		JR      Z,STR30	;
1328)   AE62 FA 66 AE    		        		JP      M,STR30	;
1329)   AE65 50          		        		LD      D,B	;
1330)   AE66 7A          		STR30:			LD      A,D	;
1331)   AE67 DD 86 01    		        		ADD     A,(IX+1)	;
1332)   AE6A 5F          		        		LD      E,A	;
1333)   AE6B FE 0B       		        		CP      11	;
1334)   AE6D 38 17       		        		JR      C,STR32	;
1335)   AE6F 78          		STR31:			LD      A,B             ;G MODE	;G MODE
1336)   AE70 11 01 01    		        		LD      DE,101H	;
1337)   AE73 B7          		        		OR      A	;
1338)   AE74 FA 8A AE    		        		JP      M,STR34	;
1339)   AE77 28 0D       		        		JR      Z,STR32	;
1340)   AE79 DD 7E 01    		        		LD      A,(IX+1)	;
1341)   AE7C B7          		        		OR      A	;
1342)   AE7D 20 02       		        		JR      NZ,STR3A	;
1343)   AE7F 3E 0A       		        		LD      A,10	;
1344)   AE81 B8          		STR3A:			CP      B	;
1345)   AE82 38 06       		        		JR      C,STR34	;
1346)   AE84 50          		        		LD      D,B	;
1347)   AE85 58          		        		LD      E,B	;
1348)   AE86 78          		STR32:			LD      A,B	;
1349)   AE87 C6 81       		        		ADD     A,129	;
1350)   AE89 4F          		        		LD      C,A	;
1351)   AE8A CB FA       		STR34:			SET     7,D	;
1352)   AE8C 1D          		        		DEC     E	;
1353)   AE8D 7A          		STR35:			LD      A,D	;
1354)   AE8E B9          		        		CP      C	;
1355)   AE8F 30 0C       		        		JR      NC,STR33	;
1356)   AE91 F1          		STR36:			POP     AF	;
1357)   AE92 28 03       		        		JR      Z,STR37	;
1358)   AE94 F2 9F AE    		        		JP      P,STR38	;
1359)   AE97 F5          		STR37:			PUSH    AF	;
1360)   AE98 1C          		        		INC     E	;
1361)   AE99 1D          		        		DEC     E	;
1362)   AE9A FA AE AE    		        		JP      M,STR4	;
1363)   AE9D 3E 30       		STR33:			LD      A,'0'	;
1364)   AE9F 15          		STR38:			DEC     D	;
1365)   AEA0 E2 A6 AE    		        		JP      PO,STR39	;
1366)   AEA3 36 2E       		        		LD      (HL),'.'	;
1367)   AEA5 23          		        		INC     HL	;
1368)   AEA6 77          		STR39:			LD      (HL),A	;
1369)   AEA7 23          		        		INC     HL	;
1370)   AEA8 1D          		        		DEC     E	;
1371)   AEA9 F2 8D AE    		        		JP      P,STR35	;
1372)   AEAC 18 E3       		        		JR      STR36	;
1374)   AEAE F1          		STR4:			POP     AF	;
1375)   AEAF 0C          		STR40:			INC     C	;
1376)   AEB0 4D          		        		LD      C,L	;
1377)   AEB1 20 27       		        		JR      NZ,STR44	;
1378)   AEB3 36 45       		        		LD      (HL),'E'        ;EXPONENT	;EXPONENT
1379)   AEB5 23          		        		INC     HL	;
1380)   AEB6 78          		        		LD      A,B	;
1381)   AEB7 3D          		        		DEC     A	;
1382)   AEB8 F2 C0 AE    		        		JP      P,STR41	;
1383)   AEBB 36 2D       		        		LD      (HL),'-'	;
1384)   AEBD 23          		        		INC     HL	;
1385)   AEBE ED 44       		        		NEG	;
1386)   AEC0 36 30       		STR41:			LD      (HL),'0'	;
1387)   AEC2 28 15       		        		JR      Z,STR47	;
1388)   AEC4 FE 0A       		        		CP      10	;
1389)   AEC6 47          		        		LD      B,A	;
1390)   AEC7 3E 3A       		        		LD      A,':'	;
1391)   AEC9 38 03       		        		JR      C,STR42	;
1392)   AECB 23          		        		INC     HL	;
1393)   AECC 36 30       		        		LD      (HL),'0'	;
1394)   AECE 34          		STR42:			INC     (HL)	;
1395)   AECF BE          		        		CP      (HL)	;
1396)   AED0 20 05       		        		JR      NZ,STR43	;
1397)   AED2 36 30       		        		LD      (HL),'0'	;
1398)   AED4 2B          		        		DEC     HL	;
1399)   AED5 34          		        		INC     (HL)	;
1400)   AED6 23          		        		INC     HL	;
1401)   AED7 10 F5       		STR43:			DJNZ    STR42	;
1402)   AED9 23          		STR47:			INC     HL	;
1403)   AEDA EB          		STR44:			EX      DE,HL	;
1404)   AEDB C9          		      			RET	;
1408)   AEDC DD 46 04    		DLOAD5:			LD      B,(IX+4)	;
1409)   AEDF D9          		        		EXX	;
1410)   AEE0 DD 5E 00    		        		LD      E,(IX+0)	;
1411)   AEE3 DD 56 01    		        		LD      D,(IX+1)	;
1412)   AEE6 D9          		        		EXX	;
1413)   AEE7 DD 5E 02    		        		LD      E,(IX+2)	;
1414)   AEEA DD 56 03    		        		LD      D,(IX+3)	;
1415)   AEED C9          		        		RET	;
1423)   AEEE CD DC B0    		CON:			CALL    ZERO            ;INITIALISE TO ZERO	;INITIALISE TO ZERO
1424)   AEF1 0E 00       		        		LD      C,0             ;TRUNCATION COUNTER	;TRUNCATION COUNTER
1425)   AEF3 CD 73 AF    		        		CALL    NUMBER          ;GET INTEGER PART	;GET INTEGER PART
1426)   AEF6 FE 2E       		        		CP      '.'	;
1427)   AEF8 06 00       		        		LD      B,0             ;DECL. PLACE COUNTER	;DECL. PLACE COUNTER
1428)   AEFA CC 71 AF    		        		CALL    Z,NUMBIX        ;GET FRACTION PART	;GET FRACTION PART
1429)   AEFD FE 45       		        		CP      'E'	;
1430)   AEFF 3E 00       		        		LD      A,0             ;INITIALISE EXPONENT	;INITIALISE EXPONENT
1431)   AF01 CC 42 AF    		        		CALL    Z,GETEXP        ;GET EXPONENT	;GET EXPONENT
1432)   AF04 CB 7C       		        		BIT     7,H	;
1433)   AF06 20 08       		        		JR      NZ,CON0         ;INTEGER OVERFLOW	;INTEGER OVERFLOW
1434)   AF08 B7          		        		OR      A	;
1435)   AF09 20 05       		        		JR      NZ,CON0         ;EXPONENT NON-ZERO	;EXPONENT NON-ZERO
1436)   AF0B B8          		        		CP      B	;
1437)   AF0C 20 02       		        		JR      NZ,CON0         ;DECIMAL POINT	;DECIMAL POINT
1438)   AF0E B9          		        		CP      C	;
1439)   AF0F C8          		        		RET     Z               ;INTEGER	;INTEGER
1440)   AF10 90          		CON0:			SUB     B	;
1441)   AF11 81          		        		ADD     A,C	;
1442)   AF12 0E 9F       		        		LD      C,159	;
1443)   AF14 CD 53 B0    		        		CALL    FLOAT	;
1444)   AF17 CB BC       		        		RES     7,H             ;DITCH IMPLIED 1	;DITCH IMPLIED 1
1445)   AF19 B7          		        		OR      A	;
1446)   AF1A C8          		        		RET     Z               ;DONE	;DONE
1447)   AF1B FA 26 AF    		        		JP      M,CON2          ;NEGATIVE EXPONENT	;NEGATIVE EXPONENT
1448)   AF1E CD B0 B1    		        		CALL    POWR10	;
1449)   AF21 CD E8 A8    		        		CALL    FMUL            ;SCALE	;SCALE
1450)   AF24 AF          		        		XOR     A	;
1451)   AF25 C9          		        		RET	;
1452)   AF26 FE DA       		CON2:			CP      -38	;
1453)   AF28 38 0A       		        		JR      C,CON3          ;CAN'T SCALE IN ONE GO	;CAN'T SCALE IN ONE GO
1454)   AF2A ED 44       		        		NEG	;
1455)   AF2C CD B0 B1    		        		CALL    POWR10	;
1456)   AF2F CD 55 A8    		        		CALL    FDIV            ;SCALE	;SCALE
1457)   AF32 AF          		        		XOR     A	;
1458)   AF33 C9          		        		RET	;
1459)   AF34 F5          		CON3:			PUSH    AF	;
1460)   AF35 3E 26       		        		LD      A,38	;
1461)   AF37 CD B0 B1    		        		CALL    POWR10	;
1462)   AF3A CD 55 A8    		        		CALL    FDIV	;
1463)   AF3D F1          		        		POP     AF	;
1464)   AF3E C6 26       		        		ADD     A,38	;
1465)   AF40 18 E4       		        		JR      CON2	;
1475)   AF42 C5          		GETEXP:			PUSH    BC              ;SAVE REGISTERS	;SAVE REGISTERS
1476)   AF43 47          		        		LD      B,A             ;INITIAL VALUE	;INITIAL VALUE
1477)   AF44 0E 02       		        		LD      C,2             ;2 DIGITS MAX	;2 DIGITS MAX
1478)   AF46 DD 23       		        		INC     IX              ;BUMP PAST 'E'	;BUMP PAST 'E'
1479)   AF48 CD A7 B2    		        		CALL    SIGNQ	;
1480)   AF4B 08          		        		EX      AF,AF'          ;SAVE EXPONENT SIGN	;SAVE EXPONENT SIGN
1481)   AF4C CD 9D B2    		GETEX1:			CALL    DIGITQ	;
1482)   AF4F 38 17       		        		JR      C,GETEX2	;
1483)   AF51 78          		        		LD      A,B             ;B=B*10	;B=B*10
1484)   AF52 87          		        		ADD     A,A	;
1485)   AF53 87          		        		ADD     A,A	;
1486)   AF54 80          		        		ADD     A,B	;
1487)   AF55 87          		        		ADD     A,A	;
1488)   AF56 47          		        		LD      B,A	;
1489)   AF57 DD 7E 00    		        		LD      A,(IX)          ;GET BACK DIGIT	;GET BACK DIGIT
1490)   AF5A DD 23       		        		INC     IX	;
1491)   AF5C E6 0F       		        		AND     0FH             ;MASK UNWANTED BITS	;MASK UNWANTED BITS
1492)   AF5E 80          		        		ADD     A,B             ;ADD IN DIGIT	;ADD IN DIGIT
1493)   AF5F 47          		        		LD      B,A	;
1494)   AF60 0D          		        		DEC     C	;
1495)   AF61 F2 4C AF    		        		JP      P,GETEX1	;
1496)   AF64 06 64       		        		LD      B,100           ;FORCE OVERFLOW	;FORCE OVERFLOW
1497)   AF66 18 E4       		        		JR      GETEX1	;
1498)   AF68 08          		GETEX2:			EX      AF,AF'          ;RESTORE SIGN	;RESTORE SIGN
1499)   AF69 FE 2D       		        		CP      '-'	;
1500)   AF6B 78          		        		LD      A,B	;
1501)   AF6C C1          		        		POP     BC              ;RESTORE	;RESTORE
1502)   AF6D C0          		        		RET     NZ	;
1503)   AF6E ED 44       		        		NEG                     ;NEGATE EXPONENT	;NEGATE EXPONENT
1504)   AF70 C9          		        		RET	;
1517)   AF71 DD 23       		NUMBIX:			INC     IX	;
1518)   AF73 CD 9D B2    		NUMBER:			CALL    DIGITQ	;
1519)   AF76 D8          		        		RET     C	;
1520)   AF77 04          		        		INC     B               ;INCREMENT DIGIT COUNT	;INCREMENT DIGIT COUNT
1521)   AF78 DD 23       		        		INC     IX	;
1522)   AF7A CD 27 B1    		        		CALL    X10             ;*10 & COPY OLD VALUE	;*10 & COPY OLD VALUE
1523)   AF7D 38 13       		        		JR      C,NUMB1         ;OVERFLOW	;OVERFLOW
1524)   AF7F 0D          		        		DEC     C               ;SEE IF TRUNCATED	;SEE IF TRUNCATED
1525)   AF80 0C          		        		INC     C	;
1526)   AF81 20 0F       		        		JR      NZ,NUMB1        ;IMPORTANT!	;IMPORTANT!
1527)   AF83 E6 0F       		        		AND     0FH	;
1528)   AF85 D9          		        		EXX	;
1529)   AF86 06 00       		        		LD      B,0	;
1530)   AF88 4F          		        		LD      C,A	;
1531)   AF89 09          		        		ADD     HL,BC           ;ADD IN DIGIT	;ADD IN DIGIT
1532)   AF8A D9          		        		EXX	;
1533)   AF8B 30 E6       		        		JR      NC,NUMBER	;
1534)   AF8D 23          		        		INC     HL              ;CARRY	;CARRY
1535)   AF8E 7C          		        		LD      A,H	;
1536)   AF8F B5          		        		OR      L	;
1537)   AF90 20 E1       		        		JR      NZ,NUMBER	;
1538)   AF92 0C          		NUMB1:			INC     C               ;TRUNCATION COUNTER	;TRUNCATION COUNTER
1539)   AF93 CD 9A B0    		        		CALL    SWAP1           ;RESTORE PREVIOUS VALUE	;RESTORE PREVIOUS VALUE
1540)   AF96 18 DB       		        		JR      NUMBER	;
1550)   AF98 08          		FIX:			EX      AF,AF'	;
1551)   AF99 AF          		        		XOR     A	;
1552)   AF9A 08          		        		EX      AF,AF'	;
1553)   AF9B CB FC       		        		SET     7,H             ;IMPLIED 1	;IMPLIED 1
1554)   AF9D CD 9F B0    		FIX1:			CALL    DIV2	;
1555)   AFA0 B9          		        		CP      C	;
1556)   AFA1 C8          		        		RET     Z	;
1557)   AFA2 D2 9D AF    		        		JP      NC,FIX1	;
1558)   AFA5 C3 AD B0    		        		JP      OFLOW	;
1568)   AFA8 CD 97 B0    		FIX2:			CALL    SWAP	;
1569)   AFAB CD B1 AF    		        		CALL    SFIX	;
1570)   AFAE CD 97 B0    		        		CALL    SWAP	;
1571)   AFB1 0D          		SFIX:			DEC     C	;
1572)   AFB2 0C          		        		INC     C	;
1573)   AFB3 C8          		        		RET     Z               ;INTEGER/ZERO	;INTEGER/ZERO
1574)   AFB4 CB 7C       		        		BIT     7,H             ;SIGN	;SIGN
1575)   AFB6 F5          		        		PUSH    AF	;
1576)   AFB7 3E 9F       		        		LD      A,159	;
1577)   AFB9 CD 98 AF    		        		CALL    FIX	;
1578)   AFBC F1          		        		POP     AF	;
1579)   AFBD 0E 00       		        		LD      C,0	;
1580)   AFBF C8          		        		RET     Z	;
1581)   AFC0 B7          		NEGATE:			OR      A               ;CLEAR CARRY	;CLEAR CARRY
1582)   AFC1 D9          		        		EXX	;
1583)   AFC2 D5          		NEG0:			PUSH    DE	;
1584)   AFC3 EB          		        		EX      DE,HL	;
1585)   AFC4 21 00 00    		        		LD      HL,0	;
1586)   AFC7 ED 52       		        		SBC     HL,DE	;
1587)   AFC9 D1          		        		POP     DE	;
1588)   AFCA D9          		        		EXX	;
1589)   AFCB D5          		        		PUSH    DE	;
1590)   AFCC EB          		        		EX      DE,HL	;
1591)   AFCD 21 00 00    		        		LD      HL,0	;
1592)   AFD0 ED 52       		        		SBC     HL,DE	;
1593)   AFD2 D1          		        		POP     DE	;
1594)   AFD3 C9          		        		RET	;
1600)   AFD4 D9          		NEG:			EXX	;
1601)   AFD5 2F          		        		CPL	;
1602)   AFD6 E5          		        		PUSH    HL	;
1603)   AFD7 B7          		        		OR      A               ;CLEAR CARRY	;CLEAR CARRY
1604)   AFD8 21 00 00    		        		LD      HL,0	;
1605)   AFDB ED 42       		        		SBC     HL,BC	;
1606)   AFDD 44          		        		LD      B,H	;
1607)   AFDE 4D          		        		LD      C,L	;
1608)   AFDF E1          		        		POP     HL	;
1609)   AFE0 18 E0       		        		JR      NEG0	;
1622)   AFE2 3E 96       		SCALE:			LD      A,150	;
1623)   AFE4 B9          		        		CP      C	;
1624)   AFE5 3E 17       		        		LD      A,ACLOST	;
1625)   AFE7 DA D0 A6    		        		JP      C,ERROR         ;"Accuracy lost"	;"Accuracy lost"
1626)   AFEA CD B6 AB    		        		CALL    PIBY4	;
1627)   AFED D9          		        		EXX	;
1628)   AFEE 01 69 21    		        		LD      BC,2169H        ;3.141592653589793238	;3.141592653589793238
1629)   AFF1 D9          		        		EXX	;
1630)   AFF2 CB FA       		MOD48:			SET     7,D             ;IMPLIED 1	;IMPLIED 1
1631)   AFF4 CB FC       		        		SET     7,H	;
1632)   AFF6 79          		        		LD      A,C	;
1633)   AFF7 0E 00       		        		LD      C,0             ;INIT QUOTIENT	;INIT QUOTIENT
1634)   AFF9 DD 21 00 00 		        		LD      IX,0	;
1635)   AFFD DD E5       		        		PUSH    IX              ;PUT ZERO ON STACK	;PUT ZERO ON STACK
1636)   AFFF B8          		        		CP      B	;
1637)   B000 38 3A       		        		JR      C,MOD485        ;DIVIDEND<DIVISOR	;DIVIDEND<DIVISOR
1638)   B002 D9          		MOD481:			EXX                     ;CARRY=0 HERE	;CARRY=0 HERE
1639)   B003 E3          		        		EX      (SP),HL	;
1640)   B004 ED 42       		        		SBC     HL,BC	;
1641)   B006 E3          		        		EX      (SP),HL	;
1642)   B007 ED 52       		        		SBC     HL,DE	;
1643)   B009 D9          		        		EXX	;
1644)   B00A ED 52       		        		SBC     HL,DE	;
1645)   B00C 30 09       		        		JR      NC,MOD482       ;DIVIDEND>=DIVISOR	;DIVIDEND>=DIVISOR
1646)   B00E D9          		        		EXX	;
1647)   B00F E3          		        		EX      (SP),HL	;
1648)   B010 09          		        		ADD     HL,BC	;
1649)   B011 E3          		        		EX      (SP),HL	;
1650)   B012 ED 5A       		        		ADC     HL,DE	;
1651)   B014 D9          		        		EXX	;
1652)   B015 ED 5A       		        		ADC     HL,DE	;
1653)   B017 3F          		MOD482:			CCF	;
1654)   B018 CB 11       		        		RL      C               ;QUOTIENT	;QUOTIENT
1655)   B01A 30 02       		        		JR      NC,MOD483	;
1656)   B01C CB F9       		        		SET     7,C             ;STICKY BIT	;STICKY BIT
1657)   B01E 3D          		MOD483:			DEC     A	;
1658)   B01F B8          		        		CP      B	;
1659)   B020 38 19       		        		JR      C,MOD484        ;DIVIDEND<DIVISOR	;DIVIDEND<DIVISOR
1660)   B022 E3          		        		EX      (SP),HL	;
1661)   B023 29          		        		ADD     HL,HL           ;DIVIDEND * 2	;DIVIDEND * 2
1662)   B024 E3          		        		EX      (SP),HL	;
1663)   B025 D9          		        		EXX	;
1664)   B026 ED 6A       		        		ADC     HL,HL	;
1665)   B028 D9          		        		EXX	;
1666)   B029 ED 6A       		        		ADC     HL,HL	;
1667)   B02B 30 D5       		        		JR      NC,MOD481       ;AGAIN	;AGAIN
1668)   B02D B7          		        		OR      A	;
1669)   B02E D9          		        		EXX	;
1670)   B02F E3          		        		EX      (SP),HL	;
1671)   B030 ED 42       		        		SBC     HL,BC           ;OVERFLOW, SO SUBTRACT	;OVERFLOW, SO SUBTRACT
1672)   B032 E3          		        		EX      (SP),HL	;
1673)   B033 ED 52       		        		SBC     HL,DE	;
1674)   B035 D9          		        		EXX	;
1675)   B036 ED 52       		        		SBC     HL,DE	;
1676)   B038 B7          		        		OR      A	;
1677)   B039 18 DC       		        		JR      MOD482	;
1679)   B03B 3C          		MOD484:			INC     A	;
1680)   B03C 59          		MOD485:			LD      E,C             ;QUOTIENT	;QUOTIENT
1681)   B03D 4F          		        		LD      C,A             ;REMAINDER EXPONENT	;REMAINDER EXPONENT
1682)   B03E D9          		        		EXX	;
1683)   B03F C1          		        		POP     BC	;
1684)   B040 D9          		        		EXX	;
1685)   B041 CB 7C       		FLO48:			BIT     7,H	;
1686)   B043 C0          		        		RET     NZ	;
1687)   B044 D9          		        		EXX	;
1688)   B045 CB 21       		        		SLA     C	;
1689)   B047 CB 10       		        		RL      B	;
1690)   B049 ED 6A       		        		ADC     HL,HL	;
1691)   B04B D9          		        		EXX	;
1692)   B04C ED 6A       		        		ADC     HL,HL	;
1693)   B04E 0D          		        		DEC     C	;
1694)   B04F C2 41 B0    		        		JP      NZ,FLO48	;
1695)   B052 C9          		        		RET	;
1701)   B053 CB 7C       		FLOAT:			BIT     7,H	;
1702)   B055 C0          		        		RET     NZ	;
1703)   B056 D9          		        		EXX                     ;SAME AS "X2"	;SAME AS "X2"
1704)   B057 29          		        		ADD     HL,HL           ;TIME-CRITICAL	;TIME-CRITICAL
1705)   B058 D9          		        		EXX                     ;REGION	;REGION
1706)   B059 ED 6A       		        		ADC     HL,HL           ;(BENCHMARKS)	;(BENCHMARKS)
1707)   B05B 0D          		        		DEC     C	;
1708)   B05C C2 53 B0    		        		JP      NZ,FLOAT	;
1709)   B05F C9          		        		RET	;
1716)   B060 08          		FLOATA:			EX      AF,AF'	;
1717)   B061 C6 2A       		        		ADD     A,(RTABLE-DTABLE)/2	;
1718)   B063 08          		        		EX      AF,AF'	;
1719)   B064 CD 97 B0    		FLOAT2:			CALL    SWAP	;
1720)   B067 CD 6D B0    		        		CALL    SFLOAT	;
1721)   B06A CD 97 B0    		        		CALL    SWAP	;
1722)   B06D 0D          		SFLOAT:			DEC     C	;
1723)   B06E 0C          		        		INC     C	;
1724)   B06F C0          		        		RET     NZ              ;ALREADY FLOATING-POINT	;ALREADY FLOATING-POINT
1725)   B070 CD BC B0    		        		CALL    TEST	;
1726)   B073 C8          		        		RET     Z               ;ZERO	;ZERO
1727)   B074 7C          		        		LD      A,H	;
1728)   B075 B7          		        		OR      A	;
1729)   B076 FC C0 AF    		        		CALL    M,NEGATE	;
1730)   B079 0E 9F       		        		LD      C,159	;
1731)   B07B CD 53 B0    		        		CALL    FLOAT	;
1732)   B07E B7          		        		OR      A	;
1733)   B07F F8          		        		RET     M               ;NEGATIVE	;NEGATIVE
1734)   B080 CB BC       		        		RES     7,H	;
1735)   B082 C9          		        		RET	;
1741)   B083 D9          		ADD1:			EXX	;
1742)   B084 01 01 00    		        		LD      BC,1	;
1743)   B087 09          		        		ADD     HL,BC	;
1744)   B088 D9          		        		EXX	;
1745)   B089 D0          		        		RET     NC	;
1746)   B08A C5          		        		PUSH    BC	;
1747)   B08B 01 01 00    		        		LD      BC,1	;
1748)   B08E 09          		        		ADD     HL,BC	;
1749)   B08F C1          		        		POP     BC	;
1750)   B090 C9          		        		RET	;
1757)   B091 B7          		ODD:			OR      A               ;CLEAR CARRY	;CLEAR CARRY
1758)   B092 D9          		        		EXX	;
1759)   B093 CB C5       		        		SET     0,L             ;MAKE ODD	;MAKE ODD
1760)   B095 D9          		        		EXX	;
1761)   B096 C9          		        		RET	;
1769)   B097 79          		SWAP:			LD      A,C	;
1770)   B098 48          		        		LD      C,B	;
1771)   B099 47          		        		LD      B,A	;
1772)   B09A EB          		SWAP1:			EX      DE,HL	;
1773)   B09B D9          		        		EXX	;
1774)   B09C EB          		        		EX      DE,HL	;
1775)   B09D D9          		        		EXX	;
1776)   B09E C9          		        		RET	;
1782)   B09F CD 3D B1    		DIV2:			CALL    D2	;
1783)   B0A2 D9          		        		EXX	;
1784)   B0A3 CB 18       		        		RR      B	;
1785)   B0A5 CB 19       		        		RR      C	;
1786)   B0A7 08          		        		EX      AF,AF'	;
1787)   B0A8 B0          		        		OR      B	;
1788)   B0A9 08          		        		EX      AF,AF'	;
1789)   B0AA D9          		        		EXX	;
1790)   B0AB 0C          		INCC:			INC     C	;
1791)   B0AC C0          		        		RET     NZ	;
1792)   B0AD 3E 14       		OFLOW:			LD      A,TOOBIG	;
1793)   B0AF C3 D0 A6    		        		JP      ERROR           ;"Too big"	;"Too big"
1798)   B0B2 CD BC B0    		FTEST:			CALL    TEST	;
1799)   B0B5 C8          		        		RET     Z	;
1800)   B0B6 7C          		        		LD      A,H	;
1801)   B0B7 E6 80       		        		AND     10000000B	;
1802)   B0B9 F6 40       		        		OR      01000000B	;
1803)   B0BB C9          		        		RET	;
1809)   B0BC 7C          		TEST:			LD      A,H	;
1810)   B0BD B5          		        		OR      L	;
1811)   B0BE D9          		        		EXX	;
1812)   B0BF B4          		        		OR      H	;
1813)   B0C0 B5          		        		OR      L	;
1814)   B0C1 D9          		        		EXX	;
1815)   B0C2 C9          		        		RET	;
1820)   B0C3 78          		FCOMP:			LD      A,B	;
1821)   B0C4 B1          		        		OR      C               ;Both integer?	;Both integer?
1822)   B0C5 20 0A       		        		JR      NZ,FCOMP1	;
1823)   B0C7 CD D9 B0    		        		CALL    ICP	;
1824)   B0CA 3E 00       		FCOMP0:			LD      A,0	;
1825)   B0CC C8          		        		RET     Z               ;Equal	;Equal
1826)   B0CD 3E 80       		        		LD      A,80H	;
1827)   B0CF 1F          		        		RRA	;
1828)   B0D0 C9          		        		RET	;
1830)   B0D1 CD 64 B0    		FCOMP1:			CALL    FLOAT2          ;Float both	;Float both
1831)   B0D4 CD E6 B0    		        		CALL    FCP	;
1832)   B0D7 18 F1       		        		JR      FCOMP0	;
1842)   B0D9 CD 05 B1    		ICP:			CALL    ICP1	;
1843)   B0DC 3E 00       		ZERO:			LD      A,0	;
1844)   B0DE D9          		        		EXX	;
1845)   B0DF 67          		        		LD      H,A	;
1846)   B0E0 6F          		        		LD      L,A	;
1847)   B0E1 D9          		        		EXX	;
1848)   B0E2 67          		        		LD      H,A	;
1849)   B0E3 6F          		        		LD      L,A	;
1850)   B0E4 4F          		        		LD      C,A	;
1851)   B0E5 C9          		        		RET	;
1853)   B0E6 CD F8 B0    		FCP:			CALL    FCP1	;
1854)   B0E9 18 F1       		        		JR      ZERO            ;PRESET FALSE	;PRESET FALSE
1856)   B0EB 79          		FCP0:			LD      A,C	;
1857)   B0EC B8          		        		CP      B               ;COMPARE EXPONENTS	;COMPARE EXPONENTS
1858)   B0ED C0          		        		RET     NZ	;
1859)   B0EE ED 52       		ICP0:			SBC     HL,DE           ;COMP MANTISSA MSB	;COMP MANTISSA MSB
1860)   B0F0 19          		        		ADD     HL,DE	;
1861)   B0F1 C0          		        		RET     NZ	;
1862)   B0F2 D9          		        		EXX	;
1863)   B0F3 ED 52       		        		SBC     HL,DE           ;COMP MANTISSA LSB	;COMP MANTISSA LSB
1864)   B0F5 19          		        		ADD     HL,DE	;
1865)   B0F6 D9          		        		EXX	;
1866)   B0F7 C9          		        		RET	;
1868)   B0F8 7C          		FCP1:			LD      A,H	;
1869)   B0F9 AA          		        		XOR     D	;
1870)   B0FA 7C          		        		LD      A,H	;
1871)   B0FB 17          		        		RLA	;
1872)   B0FC F8          		        		RET     M	;
1873)   B0FD 30 EC       		        		JR      NC,FCP0	;
1874)   B0FF CD EB B0    		        		CALL    FCP0	;
1875)   B102 C8          		        		RET     Z               ;** V0.1 BUG FIX	;** V0.1 BUG FIX
1876)   B103 3F          		        		CCF	;
1877)   B104 C9          		        		RET	;
1879)   B105 7C          		ICP1:			LD      A,H	;
1880)   B106 AA          		        		XOR     D	;
1881)   B107 F2 EE B0    		        		JP      P,ICP0	;
1882)   B10A 7C          		        		LD      A,H	;
1883)   B10B 17          		        		RLA	;
1884)   B10C C9          		        		RET	;
1890)   B10D 05          		X10B:			DEC     B	;
1891)   B10E 0C          		        		INC     C	;
1892)   B10F CD 49 B1    		X5:			CALL    COPY0	;
1893)   B112 CD 3C B1    		        		CALL    D2C	;
1894)   B115 CD 3C B1    		        		CALL    D2C	;
1895)   B118 08          		        		EX      AF,AF'          ;SAVE CARRY	;SAVE CARRY
1896)   B119 D9          		ADD:			EXX	;
1897)   B11A 19          		        		ADD     HL,DE	;
1898)   B11B D9          		        		EXX	;
1899)   B11C ED 5A       		        		ADC     HL,DE	;
1900)   B11E C9          		        		RET	;
1906)   B11F D9          		SUB:			EXX	;
1907)   B120 B7          		        		OR      A	;
1908)   B121 ED 52       		        		SBC     HL,DE	;
1909)   B123 D9          		        		EXX	;
1910)   B124 ED 52       		        		SBC     HL,DE	;
1911)   B126 C9          		        		RET	;
1924)   B127 CD 49 B1    		X10:			CALL    COPY0           ;DED'E'=HLH'L'	;DED'E'=HLH'L'
1925)   B12A CD 36 B1    		        		CALL    X2	;
1926)   B12D D8          		        		RET     C               ;TOO BIG	;TOO BIG
1927)   B12E CD 36 B1    		        		CALL    X2	;
1928)   B131 D8          		        		RET     C	;
1929)   B132 CD 19 B1    		        		CALL    ADD	;
1930)   B135 D8          		        		RET     C	;
1931)   B136 D9          		X2:			EXX	;
1932)   B137 29          		        		ADD     HL,HL	;
1933)   B138 D9          		        		EXX	;
1934)   B139 ED 6A       		        		ADC     HL,HL	;
1935)   B13B C9          		        		RET	;
1941)   B13C 0C          		D2C:			INC     C	;
1942)   B13D CB 3C       		D2:			SRL     H	;
1943)   B13F CB 1D       		        		RR      L	;
1944)   B141 D9          		        		EXX	;
1945)   B142 CB 1C       		        		RR      H	;
1946)   B144 CB 1D       		        		RR      L	;
1947)   B146 D9          		        		EXX	;
1948)   B147 C9          		        		RET	;
1953)   B148 41          		COPY:			LD      B,C	;
1954)   B149 54          		COPY0:			LD      D,H	;
1955)   B14A 5D          		        		LD      E,L	;
1956)   B14B D9          		        		EXX	;
1957)   B14C 54          		        		LD      D,H	;
1958)   B14D 5D          		        		LD      E,L	;
1959)   B14E D9          		        		EXX	;
1960)   B14F C9          		        		RET	;
1966)   B150 CD 48 B1    		SQUARE:			CALL    COPY	;
1967)   B153 CD E8 A8    		        		CALL    FMUL	;
1968)   B156 DD E1       		PUSH5:			POP     IX              ;RETURN ADDRESS	;RETURN ADDRESS
1969)   B158 C5          		        		PUSH    BC	;
1970)   B159 E5          		        		PUSH    HL	;
1971)   B15A D9          		        		EXX	;
1972)   B15B E5          		        		PUSH    HL	;
1973)   B15C D9          		        		EXX	;
1974)   B15D DD E9       		        		JP      (IX)            ;"RETURN"	;"RETURN"
1979)   B15F DD E1       		POP5:			POP     IX              ;RETURN ADDRESS	;RETURN ADDRESS
1980)   B161 D9          		        		EXX	;
1981)   B162 D1          		        		POP     DE	;
1982)   B163 D9          		        		EXX	;
1983)   B164 D1          		        		POP     DE	;
1984)   B165 79          		        		LD      A,C	;
1985)   B166 C1          		        		POP     BC	;
1986)   B167 41          		        		LD      B,C	;
1987)   B168 4F          		        		LD      C,A	;
1988)   B169 DD E9       		        		JP      (IX)            ;"RETURN"	;"RETURN"
1995)   B16B CD 56 B1    		RATIO:			CALL    PUSH5           ;SAVE X	;SAVE X
1996)   B16E CD AB AB    		        		CALL    DONE	;
1997)   B171 CD FD A7    		        		CALL    FADD	;
1998)   B174 CD 5F B1    		        		CALL    POP5            ;RESTORE X	;RESTORE X
1999)   B177 CD 56 B1    		        		CALL    PUSH5           ;SAVE X+1	;SAVE X+1
2000)   B17A CD 97 B0    		        		CALL    SWAP	;
2001)   B17D CD AB AB    		        		CALL    DONE	;
2002)   B180 CD E7 A7    		        		CALL    FSUB	;
2003)   B183 CD 5F B1    		        		CALL    POP5            ;RESTORE X+1	;RESTORE X+1
2004)   B186 C3 55 A8    		        		JP      FDIV	;
2015)   B189 DD 21 02 00 		POLY:			LD      IX,2	;
2016)   B18D DD 39       		        		ADD     IX,SP	;
2017)   B18F DD E3       		        		EX      (SP),IX	;
2018)   B191 CD DC AE    		        		CALL    DLOAD5          ;FIRST COEFFICIENT	;FIRST COEFFICIENT
2019)   B194 CD E8 A8    		POLY1:			CALL    FMUL	;
2020)   B197 11 05 00    		        		LD      DE,5	;
2021)   B19A DD 19       		        		ADD     IX,DE	;
2022)   B19C CD DC AE    		        		CALL    DLOAD5          ;NEXT COEFFICIENT	;NEXT COEFFICIENT
2023)   B19F DD E3       		        		EX      (SP),IX	;
2024)   B1A1 04          		        		INC     B	;
2025)   B1A2 05          		        		DEC     B               ;TEST	;TEST
2026)   B1A3 FA FD A7    		        		JP      M,FADD	;
2027)   B1A6 CD FD A7    		        		CALL    FADD	;
2028)   B1A9 CD DC AE    		        		CALL    DLOAD5          ;X	;X
2029)   B1AC DD E3       		        		EX      (SP),IX	;
2030)   B1AE 18 E4       		        		JR      POLY1	;
2039)   B1B0 3C          		POWR10:			INC     A	;
2040)   B1B1 08          		        		EX      AF,AF'	;
2041)   B1B2 E5          		        		PUSH    HL	;
2042)   B1B3 D9          		        		EXX	;
2043)   B1B4 E5          		        		PUSH    HL	;
2044)   B1B5 D9          		        		EXX	;
2045)   B1B6 CD AB AB    		        		CALL    DONE	;
2046)   B1B9 CD 97 B0    		        		CALL    SWAP	;
2047)   B1BC AF          		        		XOR     A	;
2048)   B1BD 08          		POWR11:			EX      AF,AF'	;
2049)   B1BE 3D          		        		DEC     A	;
2050)   B1BF 28 20       		        		JR      Z,POWR14        ;EXIT TYPE 1	;EXIT TYPE 1
2051)   B1C1 F2 C8 B1    		        		JP      P,POWR13	;
2052)   B1C4 B9          		        		CP      C	;
2053)   B1C5 38 1A       		        		JR      C,POWR14        ;EXIT TYPE 2	;EXIT TYPE 2
2054)   B1C7 3C          		        		INC     A	;
2055)   B1C8 08          		POWR13:			EX      AF,AF'	;
2056)   B1C9 3C          		        		INC     A	;
2057)   B1CA CB FC       		        		SET     7,H	;
2058)   B1CC CD 0F B1    		        		CALL    X5	;
2059)   B1CF 30 05       		        		JR      NC,POWR12	;
2060)   B1D1 08          		        		EX      AF,AF'	;
2061)   B1D2 CD 3C B1    		        		CALL    D2C	;
2062)   B1D5 08          		        		EX      AF,AF'	;
2063)   B1D6 08          		POWR12:			EX      AF,AF'	;
2064)   B1D7 DC 83 B0    		        		CALL    C,ADD1          ;ROUND UP	;ROUND UP
2065)   B1DA 0C          		        		INC     C	;
2066)   B1DB FA BD B1    		        		JP      M,POWR11	;
2067)   B1DE C3 AD B0    		        		JP      OFLOW	;
2068)   B1E1 CD 97 B0    		POWR14:			CALL    SWAP	;
2069)   B1E4 CB BA       		        		RES     7,D	;
2070)   B1E6 D9          		        		EXX	;
2071)   B1E7 E1          		        		POP     HL	;
2072)   B1E8 D9          		        		EXX	;
2073)   B1E9 E1          		        		POP     HL	;
2074)   B1EA 08          		        		EX      AF,AF'	;
2075)   B1EB C9          		        		RET	;
2083)   B1EC B7          		DIVA:			OR      A               ;CLEAR CARRY	;CLEAR CARRY
2084)   B1ED ED 42       		DIV0:			SBC     HL,BC           ;DIVIDEND-DIVISOR	;DIVIDEND-DIVISOR
2085)   B1EF D9          		        		EXX	;
2086)   B1F0 ED 42       		        		SBC     HL,BC	;
2087)   B1F2 D9          		        		EXX	;
2088)   B1F3 30 05       		        		JR      NC,DIV1	;
2089)   B1F5 09          		        		ADD     HL,BC           ;DIVIDEND+DIVISOR	;DIVIDEND+DIVISOR
2090)   B1F6 D9          		        		EXX	;
2091)   B1F7 ED 4A       		        		ADC     HL,BC	;
2092)   B1F9 D9          		        		EXX	;
2093)   B1FA 3F          		DIV1:			CCF	;
2094)   B1FB CB 13       		DIVC:			RL      E               ;SHIFT RESULT INTO DE	;SHIFT RESULT INTO DE
2095)   B1FD CB 12       		        		RL      D	;
2096)   B1FF D9          		        		EXX	;
2097)   B200 CB 13       		        		RL      E	;
2098)   B202 CB 12       		        		RL      D	;
2099)   B204 D9          		        		EXX	;
2100)   B205 3C          		        		INC     A	;
2101)   B206 F0          		        		RET     P	;
2102)   B207 ED 6A       		DIVB:			ADC     HL,HL           ;DIVIDEND*2	;DIVIDEND*2
2103)   B209 D9          		        		EXX	;
2104)   B20A ED 6A       		        		ADC     HL,HL	;
2105)   B20C D9          		        		EXX	;
2106)   B20D 30 DE       		        		JR      NC,DIV0	;
2107)   B20F B7          		        		OR      A	;
2108)   B210 ED 42       		        		SBC     HL,BC           ;DIVIDEND-DIVISOR	;DIVIDEND-DIVISOR
2109)   B212 D9          		        		EXX	;
2110)   B213 ED 42       		        		SBC     HL,BC	;
2111)   B215 D9          		        		EXX	;
2112)   B216 37          		        		SCF	;
2113)   B217 C3 FB B1    		        		JP      DIVC	;
2121)   B21A B7          		MULA:			OR      A               ;CLEAR CARRY	;CLEAR CARRY
2122)   B21B D9          		MUL0:			EXX	;
2123)   B21C CB 1A       		        		RR      D               ;MULTIPLIER/2	;MULTIPLIER/2
2124)   B21E CB 1B       		        		RR      E	;
2125)   B220 D9          		        		EXX	;
2126)   B221 CB 1A       		        		RR      D	;
2127)   B223 CB 1B       		        		RR      E	;
2128)   B225 30 05       		        		JR      NC,MUL1	;
2129)   B227 09          		        		ADD     HL,BC           ;ADD IN MULTIPLICAND	;ADD IN MULTIPLICAND
2130)   B228 D9          		        		EXX	;
2131)   B229 ED 4A       		        		ADC     HL,BC	;
2132)   B22B D9          		        		EXX	;
2133)   B22C 3C          		MUL1:			INC     A	;
2134)   B22D F0          		        		RET     P	;
2135)   B22E D9          		MULB:			EXX	;
2136)   B22F CB 1C       		        		RR      H               ;PRODUCT/2	;PRODUCT/2
2137)   B231 CB 1D       		        		RR      L	;
2138)   B233 D9          		        		EXX	;
2139)   B234 CB 1C       		        		RR      H	;
2140)   B236 CB 1D       		        		RR      L	;
2141)   B238 C3 1B B2    		        		JP      MUL0	;
2149)   B23B ED 42       		SQR1:		SBC     HL,BC	;
2150)   B23D D9          		        		EXX	;
2151)   B23E ED 42       		        		SBC     HL,BC	;
2152)   B240 D9          		        		EXX	;
2153)   B241 0C          		        		INC     C	;
2154)   B242 30 07       		        		JR      NC,SQR2	;
2155)   B244 0D          		        		DEC     C	;
2156)   B245 09          		        		ADD     HL,BC	;
2157)   B246 D9          		        		EXX	;
2158)   B247 ED 4A       		        		ADC     HL,BC	;
2159)   B249 D9          		        		EXX	;
2160)   B24A 0D          		        		DEC     C	;
2161)   B24B 3C          		SQR2:			INC     A	;
2162)   B24C F0          		        		RET     P	;
2163)   B24D CB 21       		SQRA:			SLA     C	;
2164)   B24F CB 10       		        		RL      B	;
2165)   B251 D9          		        		EXX	;
2166)   B252 CB 11       		        		RL      C	;
2167)   B254 CB 10       		        		RL      B	;
2168)   B256 D9          		        		EXX	;
2169)   B257 0C          		        		INC     C	;
2170)   B258 CB 23       		        		SLA     E	;
2171)   B25A CB 12       		        		RL      D	;
2172)   B25C D9          		        		EXX	;
2173)   B25D CB 13       		        		RL      E	;
2174)   B25F CB 12       		        		RL      D	;
2175)   B261 D9          		        		EXX	;
2176)   B262 ED 6A       		        		ADC     HL,HL	;
2177)   B264 D9          		        		EXX	;
2178)   B265 ED 6A       		        		ADC     HL,HL	;
2179)   B267 D9          		        		EXX	;
2180)   B268 CB 23       		        		SLA     E	;
2181)   B26A CB 12       		        		RL      D	;
2182)   B26C D9          		        		EXX	;
2183)   B26D CB 13       		        		RL      E	;
2184)   B26F CB 12       		        		RL      D	;
2185)   B271 D9          		        		EXX	;
2186)   B272 ED 6A       		        		ADC     HL,HL	;
2187)   B274 D9          		        		EXX	;
2188)   B275 ED 6A       		        		ADC     HL,HL	;
2189)   B277 D9          		        		EXX	;
2190)   B278 D2 3B B2    		        		JP      NC,SQR1	;
2191)   B27B B7          		SQR3:			OR      A	;
2192)   B27C ED 42       		        		SBC     HL,BC	;
2193)   B27E D9          		        		EXX	;
2194)   B27F ED 42       		        		SBC     HL,BC	;
2195)   B281 D9          		        		EXX	;
2196)   B282 0C          		        		INC     C	;
2197)   B283 C3 4B B2    		        		JP      SQR2	;
2199)   B286 29          		SQRB:			ADD     HL,HL	;
2200)   B287 D9          		        		EXX	;
2201)   B288 ED 6A       		        		ADC     HL,HL	;
2202)   B28A D9          		        		EXX	;
2203)   B28B 38 EE       		        		JR      C,SQR3	;
2204)   B28D 3C          		        		INC     A	;
2205)   B28E 0C          		        		INC     C	;
2206)   B28F ED 42       		        		SBC     HL,BC	;
2207)   B291 D9          		        		EXX	;
2208)   B292 ED 42       		        		SBC     HL,BC	;
2209)   B294 D9          		        		EXX	;
2210)   B295 D0          		        		RET     NC	;
2211)   B296 09          		        		ADD     HL,BC	;
2212)   B297 D9          		        		EXX	;
2213)   B298 ED 4A       		        		ADC     HL,BC	;
2214)   B29A D9          		        		EXX	;
2215)   B29B 0D          		        		DEC     C	;
2216)   B29C C9          		        		RET	;
2218)   B29D DD 7E 00    		DIGITQ:			LD      A,(IX)	;
2219)   B2A0 FE 3A       		        		CP      '9'+1	;
2220)   B2A2 3F          		        		CCF	;
2221)   B2A3 D8          		        		RET     C	;
2222)   B2A4 FE 30       		        		CP      '0'	;
2223)   B2A6 C9          		        		RET	;
2225)   B2A7 DD 7E 00    		SIGNQ:			LD      A,(IX)	;
2226)   B2AA DD 23       		        		INC     IX	;
2227)   B2AC FE 20       		        		CP      ' '	;
2228)   B2AE 28 F7       		        		JR      Z,SIGNQ	;
2229)   B2B0 FE 2B       		        		CP      '+'	;
2230)   B2B2 C8          		        		RET     Z	;
2231)   B2B3 FE 2D       		        		CP      '-'	;
2232)   B2B5 C8          		        		RET     Z	;
2233)   B2B6 DD 2B       		        		DEC     IX	;
2234)   B2B8 C9          		        		RET	;
 16)   B2B9 AF          					XOR     A	;
 17)   B2BA CD 13 89    					CALL    EXTERR	;
 18)   B2BD 53 6F 72 72 					DEFM    'Sorry'	;
 18)   B2C1 79          					DEFM    'Sorry'	;
 19)   B2C2 00          					DEFB    0	;
 21)   B2C3 C9          		@CLRSCN:		RET	;
 25)   B2C4 C9          		@PUTIME:		RET	;
 29)   B2C5 11 00 00    		@GETIME:		LD DE, 0	;
 30)   B2C8 21 00 00    		 	  		LD HL, 0	;
 31)   B2CB C9          					RET	;
 35)   B2CC C9          		@PUTCSR:		RET	;
 39)   B2CD 11 00 00    		@GETCSR:		LD DE,0	;
 40)   B2D0 21 00 00    					LD HL,0	;
 41)   B2D3 C9          					RET	;
 45)   B2D4 DB 00       		@OSRDCH:		IN A,(PORT_STM_IO)	;
 46)   B2D6 C9          					RET			;
 50)   B2D7 3E 3E       		@PROMPT: 		LD A,'>'	;
 54)   B2D9 D3 00       		@OSWRCH:		OUT (0),A  ;RST 16	;RST 16
 55)   B2DB C9          					RET 	;
 64)   B2DC 2B          		@OSKEY:			DEC HL 	;
 65)   B2DD 7C          					LD A,H	;
 66)   B2DE B5          					OR L	;
 67)   B2DF C8          					RET Z 	;
 68)   B2E0 DB 00       					IN A,(PORT_STM_IO)	;
 69)   B2E2 28 F8       					JR Z,@OSKEY	;
 70)   B2E4 FE 1B       					CP 0x1B			; ESC	; ESC
 71)   B2E6 37          					SCF 	;
 72)   B2E7 C0          					RET NZ	;
 73)   B2E8 E5          		ESCSET: 		PUSH    HL	;
 74)   B2E9 21 00 04    		        		LD      HL,FLAGS	;
 75)   B2EC CB 76       		        		BIT     6,(HL)          ; ESC DISABLED?	; ESC DISABLED?
 76)   B2EE 20 02       		        		JR      NZ,ESCDIS	;
 77)   B2F0 CB FE       		        		SET     7,(HL)          ; SET ESCAPE FLAG	; SET ESCAPE FLAG
 78)   B2F2 E1          		ESCDIS: 		POP     HL	;
 79)   B2F3 C9          		        		RET		;
 80)   B2F4 DB 00       		ESCTEST:		IN A,(PORT_STM_IO)	;
 81)   B2F6 B7          					OR A	;
 82)   B2F7 C8          					RET Z	;
 83)   B2F8 FE 1B       					CP 0x1B			; ESC		; ESC
 84)   B2FA 28 EC       					JR Z,ESCSET	;
 85)   B2FC C9          					RET	;
 87)   B2FD CD F4 B2    		@TRAP:			CALL ESCTEST	;
 88)   B300 3A 00 04    		@LTRAP:			LD A,(FLAGS)	;
 89)   B303 B7          					OR A	;
 90)   B304 F0          					RET P	;
 91)   B305 21 00 04    					LD HL,FLAGS 	;
 92)   B308 CB BE       					RES 7,(HL)	;
 93)   B30A C3 E5 8F    					JP ESCAPE	;
103)   B30D AF          		@OSINIT: 		XOR A	;
104)   B30E 11 FF 7F    		         		LD DE,0x7FFF		;DE = HIMEM	;DE = HIMEM
105)   B311 5F          		         		LD E,A             	;PAGE BOUNDARY	;PAGE BOUNDARY
106)   B312 21 01 04    		         		LD HL,@USER	;
107)   B315 C9          		         		RET		;
117)   B316 C3 A4 B3    		@OSLINE:		JP READ_CHAR	;
118)   B319 28 FB       					JR Z,OSLINE	;
119)   B31B B7          					OR A 	;
120)   B31C 28 F8       					JR Z,OSLINE 	;
121)   B31E 77          					LD (HL),A	;
122)   B31F 23          					INC HL	;
123)   B320 FE 0D       					CP 0x0D	;
124)   B322 28 1D       					JR Z,1F 	;
125)   B324 CD D9 B2    					CALL OSWRCH	;
126)   B327 18 ED       					JR OSLINE 	;
127)   B329 CD 90 8A    		L1:			CALL @CRLF	;
128)   B32C A7          					AND A	;
129)   B32D C9          					RET 	;
134)   B32E CD 88 B3    		@OSCLI: 		CALL    SKIPSP	;
135)   B331 FE 0D       					CP      CR	;
136)   B333 C8          					RET     Z	;
137)   B334 FE 7C       					CP      '|'	;
138)   B336 C8          					RET     Z	;
139)   B337 FE 2E       					CP      '.'	;
140)   B339 CA 97 B3    					JP      Z,DOT           ;*.	;*.
141)   B33C EB          					EX      DE,HL	;
142)   B33D 21 9B B3    					LD      HL,COMDS	;
143)   B340 1A          		OSCLI0:			LD      A,(DE)	;
144)   B341 CD 8F B3    					CALL    UPPRC	;
145)   B344 BE          					CP      (HL)	;
146)   B345 28 0B       					JR      Z,OSCLI2	;
147)   B347 38 2E       					JR      C,HUH	;
148)   B349 CB 7E       		OSCLI1:			BIT     7,(HL)	;
149)   B34B 23          					INC     HL	;
150)   B34C 28 FB       					JR      Z,OSCLI1	;
151)   B34E 23          					INC     HL	;
152)   B34F 23          					INC     HL	;
153)   B350 18 EE       					JR      OSCLI0	;
155)   B352 D5          		OSCLI2:			PUSH    DE	;
156)   B353 13          		OSCLI3:			INC     DE	;
157)   B354 23          					INC     HL	;
158)   B355 1A          					LD      A,(DE)	;
159)   B356 CD 8F B3    					CALL    UPPRC	;
160)   B359 FE 2E       					CP      '.'             ;ABBREVIATED?	;ABBREVIATED?
161)   B35B 28 0A       					JR      Z,OSCLI4	;
162)   B35D AE          					XOR     (HL)	;
163)   B35E 28 F3       					JR      Z,OSCLI3	;
164)   B360 FE 80       					CP      80H	;
165)   B362 28 03       					JR      Z,OSCLI4	;
166)   B364 D1          					POP     DE	;
167)   B365 18 E2       					JR      OSCLI1	;
169)   B367 F1          		OSCLI4:			POP     AF	;
170)   B368 13          				        INC     DE	;
171)   B369 CB 7E       		OSCLI5:			BIT     7,(HL)	;
172)   B36B 23          					INC     HL	;
173)   B36C 28 FB       					JR      Z,OSCLI5	;
174)   B36E 7E          					LD      A,(HL)	;
175)   B36F 23          					INC     HL	;
176)   B370 66          					LD      H,(HL)	;
177)   B371 6F          					LD      L,A	;
178)   B372 E5          					PUSH    HL	;
179)   B373 EB          					EX      DE,HL	;
180)   B374 C3 88 B3    					JP      SKIPSP	;
182)   B377 3E FE       		HUH:    		LD      A,254	;
183)   B379 CD 13 89    		        		CALL    EXTERR	;
184)   B37C 42 61 64 20 		        		DEFM    'Bad command'	;
184)   B380 63 6F 6D 6D 		        		DEFM    'Bad command'	;
184)   B384 61 6E 64    		        		DEFM    'Bad command'	;
185)   B387 00          		        		DEFB    0				;
187)   B388 7E          		SKIPSP:			LD      A,(HL)	;
188)   B389 FE 20       		        		CP      ' '	;
189)   B38B C0          		        		RET     NZ	;
190)   B38C 23          		        		INC     HL	;
191)   B38D 18 F9       		        		JR      SKIPSP		;
193)   B38F E6 7F       		UPPRC:  		AND     7FH	;
194)   B391 FE 60       					CP      '`'	;
195)   B393 D8          					RET     C	;
196)   B394 E6 5F       					AND     5FH             ;CONVERT TO UPPER CASE	;CONVERT TO UPPER CASE
197)   B396 C9          					RET						;
200)   B397 C9          		DOT:			RET	;
204)   B398 C3 00 00    		BYE:			JP 0	;
206)   B39B 42 59       		COMDS:  		DEFM    'BY'	;
207)   B39D C5          					DEFB    'E'+80H	;
208)   B39E 98 B3       					DEFW    BYE	;
209)   B3A0 FF          					DEFB	0FFH	;
215)   B3A1 D3 00       		Print_Char:		OUT (PORT_STM_IO),A 	;
216)   B3A3 C9          					RET 	;
221)   B3A4 DB 07       		Read_Char:		IN A,(PORT_STM_FLAGS)	;
222)   B3A6 E6 01       					AND 0x01	;
223)   B3A8 28 FA       					JR Z,Read_Char	;
224)   B3AA DB 00       		Read_Char_NB:		IN A,(PORT_STM_IO)	;
225)   B3AC C9          					RET 	;
243)   B3AD C9          					RET	;
 16)   0100 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0104 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0108 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   010C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0110 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0114 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0118 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   011C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0120 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0124 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0128 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   012C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0130 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0134 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0138 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   013C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0140 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0144 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0148 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   014C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0150 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0154 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0158 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   015C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0160 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0164 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0168 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   016C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0170 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0174 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0178 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   017C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0180 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0184 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0188 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   018C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0190 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0194 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   0198 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   019C 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01A0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01A4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01A8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01AC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01B0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01B4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01B8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01BC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01C0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01C4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01C8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01CC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01D0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01D4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01D8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01DC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01E0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01E4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01E8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01EC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01F0 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01F4 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01F8 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 16)   01FC 00 00 00 00 		@ACCS:			DEFS    256             ;STRING ACCUMULATOR	;STRING ACCUMULATOR
 17)   0200 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0204 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0208 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   020C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0210 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0214 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0218 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   021C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0220 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0224 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0228 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   022C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0230 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0234 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0238 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   023C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0240 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0244 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0248 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   024C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0250 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0254 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0258 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   025C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0260 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0264 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0268 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   026C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0270 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0274 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0278 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   027C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0280 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0284 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0288 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   028C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0290 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0294 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   0298 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   029C 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02A0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02A4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02A8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02AC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02B0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02B4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02B8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02BC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02C0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02C4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02C8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02CC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02D0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02D4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02D8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02DC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02E0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02E4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02E8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02EC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02F0 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02F4 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02F8 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 17)   02FC 00 00 00 00 		@BUFFER:		DEFS    256             ;STRING INPUT BUFFER	;STRING INPUT BUFFER
 18)   0300 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0304 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0308 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   030C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0310 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0314 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0318 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   031C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0320 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0324 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0328 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   032C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0330 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0334 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0338 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   033C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0340 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0344 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0348 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   034C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0350 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0354 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0358 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   035C 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0360 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0364 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 18)   0368 00 00 00 00 		@STAVAR:		DEFS    27*4            ;STATIC VARIABLES	;STATIC VARIABLES
 21)   036C 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0370 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0374 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0378 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   037C 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0380 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0384 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0388 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   038C 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0390 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0394 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   0398 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   039C 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03A0 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03A4 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03A8 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03AC 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03B0 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03B4 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03B8 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03BC 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03C0 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03C4 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03C8 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03CC 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03D0 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 21)   03D4 00 00 00 00 		@DYNVAR: 		DEFS    54*2            ;DYN. VARIABLE POINTERS	;DYN. VARIABLE POINTERS
 22)   03D8 00 00       		@FNPTR:  		DEFS    2               ;DYN. FUNCTION POINTER	;DYN. FUNCTION POINTER
 23)   03DA 00 00       		@PROPTR: 		DEFS    2               ;DYN. PROCEDURE POINTER	;DYN. PROCEDURE POINTER
 25)   03DC 00 00       		@PAGE:   		DEFS    2               ;START OF USER PROGRAM	;START OF USER PROGRAM
 26)   03DE 00 00       		@TOP:    		DEFS    2               ;FIRST LOCN AFTER PROG.	;FIRST LOCN AFTER PROG.
 27)   03E0 00 00       		@LOMEM:  		DEFS    2               ;START OF DYN. STORAGE	;START OF DYN. STORAGE
 28)   03E2 00 00       		@FREE:   		DEFS    2               ;FIRST FREE-SPACE BYTE	;FIRST FREE-SPACE BYTE
 29)   03E4 00 00       		@HIMEM:  		DEFS    2               ;FIRST PROTECTED BYTE	;FIRST PROTECTED BYTE
 31)   03E6 00 00       		@LINENO: 		DEFS    2               ;LINE NUMBER	;LINE NUMBER
 32)   03E8 00 00       		@TRACEN:		DEFS    2               ;TRACE FLAG	;TRACE FLAG
 33)   03EA 00 00       		@AUTONO:		DEFS    2               ;AUTO FLAG	;AUTO FLAG
 34)   03EC 00 00       		@ERRTRP:		DEFS    2               ;ERROR TRAP	;ERROR TRAP
 35)   03EE 00 00       		@ERRTXT:		DEFS    2               ;ERROR MESSAGE POINTER	;ERROR MESSAGE POINTER
 36)   03F0 00 00       		@DATPTR:		DEFS    2               ;DATA POINTER	;DATA POINTER
 37)   03F2 00 00       		@ERL:			DEFS    2               ;ERROR LINE	;ERROR LINE
 38)   03F4 00 00       		@ERRLIN:		DEFS    2               ;"ON ERROR" LINE	;"ON ERROR" LINE
 39)   03F6 00 00 00 00 		@RANDOM:		DEFS    5               ;RANDOM NUMBER	;RANDOM NUMBER
 39)   03FA 00          		@RANDOM:		DEFS    5               ;RANDOM NUMBER	;RANDOM NUMBER
 40)   03FB 00          		@COUNT:			DEFS    1               ;PRINT POSITION	;PRINT POSITION
 41)   03FC 00          		@WIDTH:			DEFS    1               ;PRINT WIDTH	;PRINT WIDTH
 42)   03FD 00          		@ERR:			DEFS    1               ;ERROR NUMBER	;ERROR NUMBER
 43)   03FE 00          		@LISTON:		DEFS    1               ;LISTO & OPT FLAG	;LISTO & OPT FLAG
 44)   03FF 00          		@INCREM:		DEFS    1               ;AUTO INCREMENT	;AUTO INCREMENT
 48)   0400 00          		@FLAGS			DEFS	1		; Flags: B7=ESC PRESSED, B6=ESC DISABLED	; Flags: B7=ESC PRESSED, B6=ESC DISABLED
